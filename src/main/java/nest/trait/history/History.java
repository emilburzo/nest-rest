// Generated by the protocol buffer compiler.  DO NOT EDIT!
// source: nest/trait/history.proto

package nest.trait.history;

public final class History {
  private History() {}
  public static void registerAllExtensions(
      com.google.protobuf.ExtensionRegistryLite registry) {
  }

  public static void registerAllExtensions(
      com.google.protobuf.ExtensionRegistry registry) {
    registerAllExtensions(
        (com.google.protobuf.ExtensionRegistryLite) registry);
  }
  public interface EnergyHistoryTraitOrBuilder extends
      // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait)
      com.google.protobuf.MessageOrBuilder {
  }
  /**
   * Protobuf type {@code nest.trait.history.EnergyHistoryTrait}
   */
  public static final class EnergyHistoryTrait extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait)
      EnergyHistoryTraitOrBuilder {
  private static final long serialVersionUID = 0L;
    // Use EnergyHistoryTrait.newBuilder() to construct.
    private EnergyHistoryTrait(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private EnergyHistoryTrait() {
    }

    @java.lang.Override
    @SuppressWarnings({"unused"})
    protected java.lang.Object newInstance(
        UnusedPrivateParameter unused) {
      return new EnergyHistoryTrait();
    }

    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
    getUnknownFields() {
      return this.unknownFields;
    }
    private EnergyHistoryTrait(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      this();
      if (extensionRegistry == null) {
        throw new java.lang.NullPointerException();
      }
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(
                  input, unknownFields, extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_descriptor;
    }

    @java.lang.Override
    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              nest.trait.history.History.EnergyHistoryTrait.class, nest.trait.history.History.EnergyHistoryTrait.Builder.class);
    }

    /**
     * Protobuf enum {@code nest.trait.history.EnergyHistoryTrait.LegacyEnergyWinner}
     */
    public enum LegacyEnergyWinner
        implements com.google.protobuf.ProtocolMessageEnum {
      /**
       * <code>LEGACY_ENERGY_WINNER_UNSPECIFIED = 0;</code>
       */
      LEGACY_ENERGY_WINNER_UNSPECIFIED(0),
      /**
       * <code>LEGACY_ENERGY_WINNER_USER = 1;</code>
       */
      LEGACY_ENERGY_WINNER_USER(1),
      /**
       * <code>LEGACY_ENERGY_WINNER_WEATHER = 2;</code>
       */
      LEGACY_ENERGY_WINNER_WEATHER(2),
      /**
       * <code>LEGACY_ENERGY_WINNER_AWAY = 3;</code>
       */
      LEGACY_ENERGY_WINNER_AWAY(3),
      /**
       * <code>LEGACY_ENERGY_WINNER_AUTO_AWAY = 4;</code>
       */
      LEGACY_ENERGY_WINNER_AUTO_AWAY(4),
      /**
       * <code>LEGACY_ENERGY_WINNER_TUNE_UP = 5;</code>
       */
      LEGACY_ENERGY_WINNER_TUNE_UP(5),
      /**
       * <code>LEGACY_ENERGY_WINNER_AUTO_DEHUM = 6;</code>
       */
      LEGACY_ENERGY_WINNER_AUTO_DEHUM(6),
      /**
       * <code>LEGACY_ENERGY_WINNER_DEMAND_RESPONSE = 7;</code>
       */
      LEGACY_ENERGY_WINNER_DEMAND_RESPONSE(7),
      /**
       * <code>LEGACY_ENERGY_WINNER_TIME_OF_USE = 8;</code>
       */
      LEGACY_ENERGY_WINNER_TIME_OF_USE(8),
      UNRECOGNIZED(-1),
      ;

      /**
       * <code>LEGACY_ENERGY_WINNER_UNSPECIFIED = 0;</code>
       */
      public static final int LEGACY_ENERGY_WINNER_UNSPECIFIED_VALUE = 0;
      /**
       * <code>LEGACY_ENERGY_WINNER_USER = 1;</code>
       */
      public static final int LEGACY_ENERGY_WINNER_USER_VALUE = 1;
      /**
       * <code>LEGACY_ENERGY_WINNER_WEATHER = 2;</code>
       */
      public static final int LEGACY_ENERGY_WINNER_WEATHER_VALUE = 2;
      /**
       * <code>LEGACY_ENERGY_WINNER_AWAY = 3;</code>
       */
      public static final int LEGACY_ENERGY_WINNER_AWAY_VALUE = 3;
      /**
       * <code>LEGACY_ENERGY_WINNER_AUTO_AWAY = 4;</code>
       */
      public static final int LEGACY_ENERGY_WINNER_AUTO_AWAY_VALUE = 4;
      /**
       * <code>LEGACY_ENERGY_WINNER_TUNE_UP = 5;</code>
       */
      public static final int LEGACY_ENERGY_WINNER_TUNE_UP_VALUE = 5;
      /**
       * <code>LEGACY_ENERGY_WINNER_AUTO_DEHUM = 6;</code>
       */
      public static final int LEGACY_ENERGY_WINNER_AUTO_DEHUM_VALUE = 6;
      /**
       * <code>LEGACY_ENERGY_WINNER_DEMAND_RESPONSE = 7;</code>
       */
      public static final int LEGACY_ENERGY_WINNER_DEMAND_RESPONSE_VALUE = 7;
      /**
       * <code>LEGACY_ENERGY_WINNER_TIME_OF_USE = 8;</code>
       */
      public static final int LEGACY_ENERGY_WINNER_TIME_OF_USE_VALUE = 8;


      public final int getNumber() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalArgumentException(
              "Can't get the number of an unknown enum value.");
        }
        return value;
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       * @deprecated Use {@link #forNumber(int)} instead.
       */
      @java.lang.Deprecated
      public static LegacyEnergyWinner valueOf(int value) {
        return forNumber(value);
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       */
      public static LegacyEnergyWinner forNumber(int value) {
        switch (value) {
          case 0: return LEGACY_ENERGY_WINNER_UNSPECIFIED;
          case 1: return LEGACY_ENERGY_WINNER_USER;
          case 2: return LEGACY_ENERGY_WINNER_WEATHER;
          case 3: return LEGACY_ENERGY_WINNER_AWAY;
          case 4: return LEGACY_ENERGY_WINNER_AUTO_AWAY;
          case 5: return LEGACY_ENERGY_WINNER_TUNE_UP;
          case 6: return LEGACY_ENERGY_WINNER_AUTO_DEHUM;
          case 7: return LEGACY_ENERGY_WINNER_DEMAND_RESPONSE;
          case 8: return LEGACY_ENERGY_WINNER_TIME_OF_USE;
          default: return null;
        }
      }

      public static com.google.protobuf.Internal.EnumLiteMap<LegacyEnergyWinner>
          internalGetValueMap() {
        return internalValueMap;
      }
      private static final com.google.protobuf.Internal.EnumLiteMap<
          LegacyEnergyWinner> internalValueMap =
            new com.google.protobuf.Internal.EnumLiteMap<LegacyEnergyWinner>() {
              public LegacyEnergyWinner findValueByNumber(int number) {
                return LegacyEnergyWinner.forNumber(number);
              }
            };

      public final com.google.protobuf.Descriptors.EnumValueDescriptor
          getValueDescriptor() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalStateException(
              "Can't get the descriptor of an unrecognized enum value.");
        }
        return getDescriptor().getValues().get(ordinal());
      }
      public final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptorForType() {
        return getDescriptor();
      }
      public static final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptor() {
        return nest.trait.history.History.EnergyHistoryTrait.getDescriptor().getEnumTypes().get(0);
      }

      private static final LegacyEnergyWinner[] VALUES = values();

      public static LegacyEnergyWinner valueOf(
          com.google.protobuf.Descriptors.EnumValueDescriptor desc) {
        if (desc.getType() != getDescriptor()) {
          throw new java.lang.IllegalArgumentException(
            "EnumValueDescriptor is not for this type.");
        }
        if (desc.getIndex() == -1) {
          return UNRECOGNIZED;
        }
        return VALUES[desc.getIndex()];
      }

      private final int value;

      private LegacyEnergyWinner(int value) {
        this.value = value;
      }

      // @@protoc_insertion_point(enum_scope:nest.trait.history.EnergyHistoryTrait.LegacyEnergyWinner)
    }

    /**
     * Protobuf enum {@code nest.trait.history.EnergyHistoryTrait.LegacySetPointType}
     */
    public enum LegacySetPointType
        implements com.google.protobuf.ProtocolMessageEnum {
      /**
       * <code>LEGACY_SET_POINT_TYPE_UNSPECIFIED = 0;</code>
       */
      LEGACY_SET_POINT_TYPE_UNSPECIFIED(0),
      /**
       * <code>LEGACY_SET_POINT_TYPE_HEAT = 1;</code>
       */
      LEGACY_SET_POINT_TYPE_HEAT(1),
      /**
       * <code>LEGACY_SET_POINT_TYPE_COOL = 2;</code>
       */
      LEGACY_SET_POINT_TYPE_COOL(2),
      /**
       * <code>LEGACY_SET_POINT_TYPE_RANGE = 3;</code>
       */
      LEGACY_SET_POINT_TYPE_RANGE(3),
      /**
       * <code>LEGACY_SET_POINT_TYPE_EMERGENCY_HEAT = 4;</code>
       */
      LEGACY_SET_POINT_TYPE_EMERGENCY_HEAT(4),
      UNRECOGNIZED(-1),
      ;

      /**
       * <code>LEGACY_SET_POINT_TYPE_UNSPECIFIED = 0;</code>
       */
      public static final int LEGACY_SET_POINT_TYPE_UNSPECIFIED_VALUE = 0;
      /**
       * <code>LEGACY_SET_POINT_TYPE_HEAT = 1;</code>
       */
      public static final int LEGACY_SET_POINT_TYPE_HEAT_VALUE = 1;
      /**
       * <code>LEGACY_SET_POINT_TYPE_COOL = 2;</code>
       */
      public static final int LEGACY_SET_POINT_TYPE_COOL_VALUE = 2;
      /**
       * <code>LEGACY_SET_POINT_TYPE_RANGE = 3;</code>
       */
      public static final int LEGACY_SET_POINT_TYPE_RANGE_VALUE = 3;
      /**
       * <code>LEGACY_SET_POINT_TYPE_EMERGENCY_HEAT = 4;</code>
       */
      public static final int LEGACY_SET_POINT_TYPE_EMERGENCY_HEAT_VALUE = 4;


      public final int getNumber() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalArgumentException(
              "Can't get the number of an unknown enum value.");
        }
        return value;
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       * @deprecated Use {@link #forNumber(int)} instead.
       */
      @java.lang.Deprecated
      public static LegacySetPointType valueOf(int value) {
        return forNumber(value);
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       */
      public static LegacySetPointType forNumber(int value) {
        switch (value) {
          case 0: return LEGACY_SET_POINT_TYPE_UNSPECIFIED;
          case 1: return LEGACY_SET_POINT_TYPE_HEAT;
          case 2: return LEGACY_SET_POINT_TYPE_COOL;
          case 3: return LEGACY_SET_POINT_TYPE_RANGE;
          case 4: return LEGACY_SET_POINT_TYPE_EMERGENCY_HEAT;
          default: return null;
        }
      }

      public static com.google.protobuf.Internal.EnumLiteMap<LegacySetPointType>
          internalGetValueMap() {
        return internalValueMap;
      }
      private static final com.google.protobuf.Internal.EnumLiteMap<
          LegacySetPointType> internalValueMap =
            new com.google.protobuf.Internal.EnumLiteMap<LegacySetPointType>() {
              public LegacySetPointType findValueByNumber(int number) {
                return LegacySetPointType.forNumber(number);
              }
            };

      public final com.google.protobuf.Descriptors.EnumValueDescriptor
          getValueDescriptor() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalStateException(
              "Can't get the descriptor of an unrecognized enum value.");
        }
        return getDescriptor().getValues().get(ordinal());
      }
      public final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptorForType() {
        return getDescriptor();
      }
      public static final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptor() {
        return nest.trait.history.History.EnergyHistoryTrait.getDescriptor().getEnumTypes().get(1);
      }

      private static final LegacySetPointType[] VALUES = values();

      public static LegacySetPointType valueOf(
          com.google.protobuf.Descriptors.EnumValueDescriptor desc) {
        if (desc.getType() != getDescriptor()) {
          throw new java.lang.IllegalArgumentException(
            "EnumValueDescriptor is not for this type.");
        }
        if (desc.getIndex() == -1) {
          return UNRECOGNIZED;
        }
        return VALUES[desc.getIndex()];
      }

      private final int value;

      private LegacySetPointType(int value) {
        this.value = value;
      }

      // @@protoc_insertion_point(enum_scope:nest.trait.history.EnergyHistoryTrait.LegacySetPointType)
    }

    /**
     * Protobuf enum {@code nest.trait.history.EnergyHistoryTrait.LegacyEventType}
     */
    public enum LegacyEventType
        implements com.google.protobuf.ProtocolMessageEnum {
      /**
       * <code>LEGACY_EVENT_TYPE_UNSPECIFIED = 0;</code>
       */
      LEGACY_EVENT_TYPE_UNSPECIFIED(0),
      /**
       * <code>LEGACY_EVENT_TYPE_HEAT = 1;</code>
       */
      LEGACY_EVENT_TYPE_HEAT(1),
      /**
       * <code>LEGACY_EVENT_TYPE_COOL = 2;</code>
       */
      LEGACY_EVENT_TYPE_COOL(2),
      /**
       * <code>LEGACY_EVENT_TYPE_RANGE = 3;</code>
       */
      LEGACY_EVENT_TYPE_RANGE(3),
      /**
       * <code>LEGACY_EVENT_TYPE_AWAY = 4;</code>
       */
      LEGACY_EVENT_TYPE_AWAY(4),
      /**
       * <code>LEGACY_EVENT_TYPE_AUTOAWAY = 5;</code>
       */
      LEGACY_EVENT_TYPE_AUTOAWAY(5),
      /**
       * <code>LEGACY_EVENT_TYPE_OFF = 6;</code>
       */
      LEGACY_EVENT_TYPE_OFF(6),
      /**
       * <code>LEGACY_EVENT_TYPE_ON = 8;</code>
       */
      LEGACY_EVENT_TYPE_ON(8),
      /**
       * <code>LEGACY_EVENT_TYPE_EMERGENCY_HEAT = 9;</code>
       */
      LEGACY_EVENT_TYPE_EMERGENCY_HEAT(9),
      /**
       * <code>LEGACY_EVENT_TYPE_SUNLIGHT_CORRECTION = 10;</code>
       */
      LEGACY_EVENT_TYPE_SUNLIGHT_CORRECTION(10),
      UNRECOGNIZED(-1),
      ;

      /**
       * <code>LEGACY_EVENT_TYPE_UNSPECIFIED = 0;</code>
       */
      public static final int LEGACY_EVENT_TYPE_UNSPECIFIED_VALUE = 0;
      /**
       * <code>LEGACY_EVENT_TYPE_HEAT = 1;</code>
       */
      public static final int LEGACY_EVENT_TYPE_HEAT_VALUE = 1;
      /**
       * <code>LEGACY_EVENT_TYPE_COOL = 2;</code>
       */
      public static final int LEGACY_EVENT_TYPE_COOL_VALUE = 2;
      /**
       * <code>LEGACY_EVENT_TYPE_RANGE = 3;</code>
       */
      public static final int LEGACY_EVENT_TYPE_RANGE_VALUE = 3;
      /**
       * <code>LEGACY_EVENT_TYPE_AWAY = 4;</code>
       */
      public static final int LEGACY_EVENT_TYPE_AWAY_VALUE = 4;
      /**
       * <code>LEGACY_EVENT_TYPE_AUTOAWAY = 5;</code>
       */
      public static final int LEGACY_EVENT_TYPE_AUTOAWAY_VALUE = 5;
      /**
       * <code>LEGACY_EVENT_TYPE_OFF = 6;</code>
       */
      public static final int LEGACY_EVENT_TYPE_OFF_VALUE = 6;
      /**
       * <code>LEGACY_EVENT_TYPE_ON = 8;</code>
       */
      public static final int LEGACY_EVENT_TYPE_ON_VALUE = 8;
      /**
       * <code>LEGACY_EVENT_TYPE_EMERGENCY_HEAT = 9;</code>
       */
      public static final int LEGACY_EVENT_TYPE_EMERGENCY_HEAT_VALUE = 9;
      /**
       * <code>LEGACY_EVENT_TYPE_SUNLIGHT_CORRECTION = 10;</code>
       */
      public static final int LEGACY_EVENT_TYPE_SUNLIGHT_CORRECTION_VALUE = 10;


      public final int getNumber() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalArgumentException(
              "Can't get the number of an unknown enum value.");
        }
        return value;
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       * @deprecated Use {@link #forNumber(int)} instead.
       */
      @java.lang.Deprecated
      public static LegacyEventType valueOf(int value) {
        return forNumber(value);
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       */
      public static LegacyEventType forNumber(int value) {
        switch (value) {
          case 0: return LEGACY_EVENT_TYPE_UNSPECIFIED;
          case 1: return LEGACY_EVENT_TYPE_HEAT;
          case 2: return LEGACY_EVENT_TYPE_COOL;
          case 3: return LEGACY_EVENT_TYPE_RANGE;
          case 4: return LEGACY_EVENT_TYPE_AWAY;
          case 5: return LEGACY_EVENT_TYPE_AUTOAWAY;
          case 6: return LEGACY_EVENT_TYPE_OFF;
          case 8: return LEGACY_EVENT_TYPE_ON;
          case 9: return LEGACY_EVENT_TYPE_EMERGENCY_HEAT;
          case 10: return LEGACY_EVENT_TYPE_SUNLIGHT_CORRECTION;
          default: return null;
        }
      }

      public static com.google.protobuf.Internal.EnumLiteMap<LegacyEventType>
          internalGetValueMap() {
        return internalValueMap;
      }
      private static final com.google.protobuf.Internal.EnumLiteMap<
          LegacyEventType> internalValueMap =
            new com.google.protobuf.Internal.EnumLiteMap<LegacyEventType>() {
              public LegacyEventType findValueByNumber(int number) {
                return LegacyEventType.forNumber(number);
              }
            };

      public final com.google.protobuf.Descriptors.EnumValueDescriptor
          getValueDescriptor() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalStateException(
              "Can't get the descriptor of an unrecognized enum value.");
        }
        return getDescriptor().getValues().get(ordinal());
      }
      public final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptorForType() {
        return getDescriptor();
      }
      public static final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptor() {
        return nest.trait.history.History.EnergyHistoryTrait.getDescriptor().getEnumTypes().get(2);
      }

      private static final LegacyEventType[] VALUES = values();

      public static LegacyEventType valueOf(
          com.google.protobuf.Descriptors.EnumValueDescriptor desc) {
        if (desc.getType() != getDescriptor()) {
          throw new java.lang.IllegalArgumentException(
            "EnumValueDescriptor is not for this type.");
        }
        if (desc.getIndex() == -1) {
          return UNRECOGNIZED;
        }
        return VALUES[desc.getIndex()];
      }

      private final int value;

      private LegacyEventType(int value) {
        this.value = value;
      }

      // @@protoc_insertion_point(enum_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventType)
    }

    /**
     * Protobuf enum {@code nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere}
     */
    public enum LegacyTouchedWhere
        implements com.google.protobuf.ProtocolMessageEnum {
      /**
       * <code>LEGACY_TOUCHED_WHERE_UNSPECIFIED = 0;</code>
       */
      LEGACY_TOUCHED_WHERE_UNSPECIFIED(0),
      /**
       * <code>LEGACY_TOUCHED_WHERE_SCHEDULE = 1;</code>
       */
      LEGACY_TOUCHED_WHERE_SCHEDULE(1),
      /**
       * <code>LEGACY_TOUCHED_WHERE_ADHOC = 2;</code>
       */
      LEGACY_TOUCHED_WHERE_ADHOC(2),
      UNRECOGNIZED(-1),
      ;

      /**
       * <code>LEGACY_TOUCHED_WHERE_UNSPECIFIED = 0;</code>
       */
      public static final int LEGACY_TOUCHED_WHERE_UNSPECIFIED_VALUE = 0;
      /**
       * <code>LEGACY_TOUCHED_WHERE_SCHEDULE = 1;</code>
       */
      public static final int LEGACY_TOUCHED_WHERE_SCHEDULE_VALUE = 1;
      /**
       * <code>LEGACY_TOUCHED_WHERE_ADHOC = 2;</code>
       */
      public static final int LEGACY_TOUCHED_WHERE_ADHOC_VALUE = 2;


      public final int getNumber() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalArgumentException(
              "Can't get the number of an unknown enum value.");
        }
        return value;
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       * @deprecated Use {@link #forNumber(int)} instead.
       */
      @java.lang.Deprecated
      public static LegacyTouchedWhere valueOf(int value) {
        return forNumber(value);
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       */
      public static LegacyTouchedWhere forNumber(int value) {
        switch (value) {
          case 0: return LEGACY_TOUCHED_WHERE_UNSPECIFIED;
          case 1: return LEGACY_TOUCHED_WHERE_SCHEDULE;
          case 2: return LEGACY_TOUCHED_WHERE_ADHOC;
          default: return null;
        }
      }

      public static com.google.protobuf.Internal.EnumLiteMap<LegacyTouchedWhere>
          internalGetValueMap() {
        return internalValueMap;
      }
      private static final com.google.protobuf.Internal.EnumLiteMap<
          LegacyTouchedWhere> internalValueMap =
            new com.google.protobuf.Internal.EnumLiteMap<LegacyTouchedWhere>() {
              public LegacyTouchedWhere findValueByNumber(int number) {
                return LegacyTouchedWhere.forNumber(number);
              }
            };

      public final com.google.protobuf.Descriptors.EnumValueDescriptor
          getValueDescriptor() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalStateException(
              "Can't get the descriptor of an unrecognized enum value.");
        }
        return getDescriptor().getValues().get(ordinal());
      }
      public final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptorForType() {
        return getDescriptor();
      }
      public static final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptor() {
        return nest.trait.history.History.EnergyHistoryTrait.getDescriptor().getEnumTypes().get(3);
      }

      private static final LegacyTouchedWhere[] VALUES = values();

      public static LegacyTouchedWhere valueOf(
          com.google.protobuf.Descriptors.EnumValueDescriptor desc) {
        if (desc.getType() != getDescriptor()) {
          throw new java.lang.IllegalArgumentException(
            "EnumValueDescriptor is not for this type.");
        }
        if (desc.getIndex() == -1) {
          return UNRECOGNIZED;
        }
        return VALUES[desc.getIndex()];
      }

      private final int value;

      private LegacyTouchedWhere(int value) {
        this.value = value;
      }

      // @@protoc_insertion_point(enum_scope:nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere)
    }

    public interface LegacyEnergyHistoryRequestOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryRequest)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       * @return Whether the queryStartTime field is set.
       */
      boolean hasQueryStartTime();
      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       * @return The queryStartTime.
       */
      com.google.protobuf.Timestamp getQueryStartTime();
      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       */
      com.google.protobuf.TimestampOrBuilder getQueryStartTimeOrBuilder();

      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       * @return Whether the queryEndTime field is set.
       */
      boolean hasQueryEndTime();
      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       * @return The queryEndTime.
       */
      com.google.protobuf.Timestamp getQueryEndTime();
      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       */
      com.google.protobuf.TimestampOrBuilder getQueryEndTimeOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryRequest}
     */
    public static final class LegacyEnergyHistoryRequest extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryRequest)
        LegacyEnergyHistoryRequestOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyEnergyHistoryRequest.newBuilder() to construct.
      private LegacyEnergyHistoryRequest(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyEnergyHistoryRequest() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyEnergyHistoryRequest();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyEnergyHistoryRequest(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (queryStartTime_ != null) {
                  subBuilder = queryStartTime_.toBuilder();
                }
                queryStartTime_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(queryStartTime_);
                  queryStartTime_ = subBuilder.buildPartial();
                }

                break;
              }
              case 18: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (queryEndTime_ != null) {
                  subBuilder = queryEndTime_.toBuilder();
                }
                queryEndTime_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(queryEndTime_);
                  queryEndTime_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryRequest_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest.Builder.class);
      }

      public static final int QUERYSTARTTIME_FIELD_NUMBER = 1;
      private com.google.protobuf.Timestamp queryStartTime_;
      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       * @return Whether the queryStartTime field is set.
       */
      @java.lang.Override
      public boolean hasQueryStartTime() {
        return queryStartTime_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       * @return The queryStartTime.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getQueryStartTime() {
        return queryStartTime_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : queryStartTime_;
      }
      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getQueryStartTimeOrBuilder() {
        return getQueryStartTime();
      }

      public static final int QUERYENDTIME_FIELD_NUMBER = 2;
      private com.google.protobuf.Timestamp queryEndTime_;
      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       * @return Whether the queryEndTime field is set.
       */
      @java.lang.Override
      public boolean hasQueryEndTime() {
        return queryEndTime_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       * @return The queryEndTime.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getQueryEndTime() {
        return queryEndTime_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : queryEndTime_;
      }
      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getQueryEndTimeOrBuilder() {
        return getQueryEndTime();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (queryStartTime_ != null) {
          output.writeMessage(1, getQueryStartTime());
        }
        if (queryEndTime_ != null) {
          output.writeMessage(2, getQueryEndTime());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (queryStartTime_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getQueryStartTime());
        }
        if (queryEndTime_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getQueryEndTime());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest other = (nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest) obj;

        if (hasQueryStartTime() != other.hasQueryStartTime()) return false;
        if (hasQueryStartTime()) {
          if (!getQueryStartTime()
              .equals(other.getQueryStartTime())) return false;
        }
        if (hasQueryEndTime() != other.hasQueryEndTime()) return false;
        if (hasQueryEndTime()) {
          if (!getQueryEndTime()
              .equals(other.getQueryEndTime())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasQueryStartTime()) {
          hash = (37 * hash) + QUERYSTARTTIME_FIELD_NUMBER;
          hash = (53 * hash) + getQueryStartTime().hashCode();
        }
        if (hasQueryEndTime()) {
          hash = (37 * hash) + QUERYENDTIME_FIELD_NUMBER;
          hash = (53 * hash) + getQueryEndTime().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryRequest}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryRequest)
          nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequestOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryRequest_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryRequest_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (queryStartTimeBuilder_ == null) {
            queryStartTime_ = null;
          } else {
            queryStartTime_ = null;
            queryStartTimeBuilder_ = null;
          }
          if (queryEndTimeBuilder_ == null) {
            queryEndTime_ = null;
          } else {
            queryEndTime_ = null;
            queryEndTimeBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryRequest_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest result = new nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest(this);
          if (queryStartTimeBuilder_ == null) {
            result.queryStartTime_ = queryStartTime_;
          } else {
            result.queryStartTime_ = queryStartTimeBuilder_.build();
          }
          if (queryEndTimeBuilder_ == null) {
            result.queryEndTime_ = queryEndTime_;
          } else {
            result.queryEndTime_ = queryEndTimeBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest.getDefaultInstance()) return this;
          if (other.hasQueryStartTime()) {
            mergeQueryStartTime(other.getQueryStartTime());
          }
          if (other.hasQueryEndTime()) {
            mergeQueryEndTime(other.getQueryEndTime());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private com.google.protobuf.Timestamp queryStartTime_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> queryStartTimeBuilder_;
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         * @return Whether the queryStartTime field is set.
         */
        public boolean hasQueryStartTime() {
          return queryStartTimeBuilder_ != null || queryStartTime_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         * @return The queryStartTime.
         */
        public com.google.protobuf.Timestamp getQueryStartTime() {
          if (queryStartTimeBuilder_ == null) {
            return queryStartTime_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : queryStartTime_;
          } else {
            return queryStartTimeBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public Builder setQueryStartTime(com.google.protobuf.Timestamp value) {
          if (queryStartTimeBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            queryStartTime_ = value;
            onChanged();
          } else {
            queryStartTimeBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public Builder setQueryStartTime(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (queryStartTimeBuilder_ == null) {
            queryStartTime_ = builderForValue.build();
            onChanged();
          } else {
            queryStartTimeBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public Builder mergeQueryStartTime(com.google.protobuf.Timestamp value) {
          if (queryStartTimeBuilder_ == null) {
            if (queryStartTime_ != null) {
              queryStartTime_ =
                com.google.protobuf.Timestamp.newBuilder(queryStartTime_).mergeFrom(value).buildPartial();
            } else {
              queryStartTime_ = value;
            }
            onChanged();
          } else {
            queryStartTimeBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public Builder clearQueryStartTime() {
          if (queryStartTimeBuilder_ == null) {
            queryStartTime_ = null;
            onChanged();
          } else {
            queryStartTime_ = null;
            queryStartTimeBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public com.google.protobuf.Timestamp.Builder getQueryStartTimeBuilder() {
          
          onChanged();
          return getQueryStartTimeFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getQueryStartTimeOrBuilder() {
          if (queryStartTimeBuilder_ != null) {
            return queryStartTimeBuilder_.getMessageOrBuilder();
          } else {
            return queryStartTime_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : queryStartTime_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getQueryStartTimeFieldBuilder() {
          if (queryStartTimeBuilder_ == null) {
            queryStartTimeBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getQueryStartTime(),
                    getParentForChildren(),
                    isClean());
            queryStartTime_ = null;
          }
          return queryStartTimeBuilder_;
        }

        private com.google.protobuf.Timestamp queryEndTime_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> queryEndTimeBuilder_;
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         * @return Whether the queryEndTime field is set.
         */
        public boolean hasQueryEndTime() {
          return queryEndTimeBuilder_ != null || queryEndTime_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         * @return The queryEndTime.
         */
        public com.google.protobuf.Timestamp getQueryEndTime() {
          if (queryEndTimeBuilder_ == null) {
            return queryEndTime_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : queryEndTime_;
          } else {
            return queryEndTimeBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public Builder setQueryEndTime(com.google.protobuf.Timestamp value) {
          if (queryEndTimeBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            queryEndTime_ = value;
            onChanged();
          } else {
            queryEndTimeBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public Builder setQueryEndTime(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (queryEndTimeBuilder_ == null) {
            queryEndTime_ = builderForValue.build();
            onChanged();
          } else {
            queryEndTimeBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public Builder mergeQueryEndTime(com.google.protobuf.Timestamp value) {
          if (queryEndTimeBuilder_ == null) {
            if (queryEndTime_ != null) {
              queryEndTime_ =
                com.google.protobuf.Timestamp.newBuilder(queryEndTime_).mergeFrom(value).buildPartial();
            } else {
              queryEndTime_ = value;
            }
            onChanged();
          } else {
            queryEndTimeBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public Builder clearQueryEndTime() {
          if (queryEndTimeBuilder_ == null) {
            queryEndTime_ = null;
            onChanged();
          } else {
            queryEndTime_ = null;
            queryEndTimeBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public com.google.protobuf.Timestamp.Builder getQueryEndTimeBuilder() {
          
          onChanged();
          return getQueryEndTimeFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getQueryEndTimeOrBuilder() {
          if (queryEndTimeBuilder_ != null) {
            return queryEndTimeBuilder_.getMessageOrBuilder();
          } else {
            return queryEndTime_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : queryEndTime_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getQueryEndTimeFieldBuilder() {
          if (queryEndTimeBuilder_ == null) {
            queryEndTimeBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getQueryEndTime(),
                    getParentForChildren(),
                    isClean());
            queryEndTime_ = null;
          }
          return queryEndTimeBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryRequest)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryRequest)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyEnergyHistoryRequest>
          PARSER = new com.google.protobuf.AbstractParser<LegacyEnergyHistoryRequest>() {
        @java.lang.Override
        public LegacyEnergyHistoryRequest parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyEnergyHistoryRequest(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyEnergyHistoryRequest> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyEnergyHistoryRequest> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryRequest getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyEnergyHistoryResponseOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryResponse)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
       */
      java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage> 
          getDaysList();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage getDays(int index);
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
       */
      int getDaysCount();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
       */
      java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsageOrBuilder> 
          getDaysOrBuilderList();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsageOrBuilder getDaysOrBuilder(
          int index);

      /**
       * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
       * @return Whether the recentMaxUsedSeconds field is set.
       */
      boolean hasRecentMaxUsedSeconds();
      /**
       * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
       * @return The recentMaxUsedSeconds.
       */
      com.google.protobuf.Duration getRecentMaxUsedSeconds();
      /**
       * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
       */
      com.google.protobuf.DurationOrBuilder getRecentMaxUsedSecondsOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryResponse}
     */
    public static final class LegacyEnergyHistoryResponse extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryResponse)
        LegacyEnergyHistoryResponseOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyEnergyHistoryResponse.newBuilder() to construct.
      private LegacyEnergyHistoryResponse(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyEnergyHistoryResponse() {
        days_ = java.util.Collections.emptyList();
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyEnergyHistoryResponse();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyEnergyHistoryResponse(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        int mutable_bitField0_ = 0;
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                if (!((mutable_bitField0_ & 0x00000001) != 0)) {
                  days_ = new java.util.ArrayList<nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage>();
                  mutable_bitField0_ |= 0x00000001;
                }
                days_.add(
                    input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.parser(), extensionRegistry));
                break;
              }
              case 18: {
                com.google.protobuf.Duration.Builder subBuilder = null;
                if (recentMaxUsedSeconds_ != null) {
                  subBuilder = recentMaxUsedSeconds_.toBuilder();
                }
                recentMaxUsedSeconds_ = input.readMessage(com.google.protobuf.Duration.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(recentMaxUsedSeconds_);
                  recentMaxUsedSeconds_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          if (((mutable_bitField0_ & 0x00000001) != 0)) {
            days_ = java.util.Collections.unmodifiableList(days_);
          }
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryResponse_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryResponse_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse.Builder.class);
      }

      public static final int DAYS_FIELD_NUMBER = 1;
      private java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage> days_;
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
       */
      @java.lang.Override
      public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage> getDaysList() {
        return days_;
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
       */
      @java.lang.Override
      public java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsageOrBuilder> 
          getDaysOrBuilderList() {
        return days_;
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
       */
      @java.lang.Override
      public int getDaysCount() {
        return days_.size();
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage getDays(int index) {
        return days_.get(index);
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsageOrBuilder getDaysOrBuilder(
          int index) {
        return days_.get(index);
      }

      public static final int RECENTMAXUSEDSECONDS_FIELD_NUMBER = 2;
      private com.google.protobuf.Duration recentMaxUsedSeconds_;
      /**
       * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
       * @return Whether the recentMaxUsedSeconds field is set.
       */
      @java.lang.Override
      public boolean hasRecentMaxUsedSeconds() {
        return recentMaxUsedSeconds_ != null;
      }
      /**
       * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
       * @return The recentMaxUsedSeconds.
       */
      @java.lang.Override
      public com.google.protobuf.Duration getRecentMaxUsedSeconds() {
        return recentMaxUsedSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : recentMaxUsedSeconds_;
      }
      /**
       * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
       */
      @java.lang.Override
      public com.google.protobuf.DurationOrBuilder getRecentMaxUsedSecondsOrBuilder() {
        return getRecentMaxUsedSeconds();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        for (int i = 0; i < days_.size(); i++) {
          output.writeMessage(1, days_.get(i));
        }
        if (recentMaxUsedSeconds_ != null) {
          output.writeMessage(2, getRecentMaxUsedSeconds());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        for (int i = 0; i < days_.size(); i++) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, days_.get(i));
        }
        if (recentMaxUsedSeconds_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getRecentMaxUsedSeconds());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse other = (nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse) obj;

        if (!getDaysList()
            .equals(other.getDaysList())) return false;
        if (hasRecentMaxUsedSeconds() != other.hasRecentMaxUsedSeconds()) return false;
        if (hasRecentMaxUsedSeconds()) {
          if (!getRecentMaxUsedSeconds()
              .equals(other.getRecentMaxUsedSeconds())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (getDaysCount() > 0) {
          hash = (37 * hash) + DAYS_FIELD_NUMBER;
          hash = (53 * hash) + getDaysList().hashCode();
        }
        if (hasRecentMaxUsedSeconds()) {
          hash = (37 * hash) + RECENTMAXUSEDSECONDS_FIELD_NUMBER;
          hash = (53 * hash) + getRecentMaxUsedSeconds().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryResponse}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryResponse)
          nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponseOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryResponse_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryResponse_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
            getDaysFieldBuilder();
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (daysBuilder_ == null) {
            days_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000001);
          } else {
            daysBuilder_.clear();
          }
          if (recentMaxUsedSecondsBuilder_ == null) {
            recentMaxUsedSeconds_ = null;
          } else {
            recentMaxUsedSeconds_ = null;
            recentMaxUsedSecondsBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryResponse_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse result = new nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse(this);
          int from_bitField0_ = bitField0_;
          if (daysBuilder_ == null) {
            if (((bitField0_ & 0x00000001) != 0)) {
              days_ = java.util.Collections.unmodifiableList(days_);
              bitField0_ = (bitField0_ & ~0x00000001);
            }
            result.days_ = days_;
          } else {
            result.days_ = daysBuilder_.build();
          }
          if (recentMaxUsedSecondsBuilder_ == null) {
            result.recentMaxUsedSeconds_ = recentMaxUsedSeconds_;
          } else {
            result.recentMaxUsedSeconds_ = recentMaxUsedSecondsBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse.getDefaultInstance()) return this;
          if (daysBuilder_ == null) {
            if (!other.days_.isEmpty()) {
              if (days_.isEmpty()) {
                days_ = other.days_;
                bitField0_ = (bitField0_ & ~0x00000001);
              } else {
                ensureDaysIsMutable();
                days_.addAll(other.days_);
              }
              onChanged();
            }
          } else {
            if (!other.days_.isEmpty()) {
              if (daysBuilder_.isEmpty()) {
                daysBuilder_.dispose();
                daysBuilder_ = null;
                days_ = other.days_;
                bitField0_ = (bitField0_ & ~0x00000001);
                daysBuilder_ = 
                  com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                     getDaysFieldBuilder() : null;
              } else {
                daysBuilder_.addAllMessages(other.days_);
              }
            }
          }
          if (other.hasRecentMaxUsedSeconds()) {
            mergeRecentMaxUsedSeconds(other.getRecentMaxUsedSeconds());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }
        private int bitField0_;

        private java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage> days_ =
          java.util.Collections.emptyList();
        private void ensureDaysIsMutable() {
          if (!((bitField0_ & 0x00000001) != 0)) {
            days_ = new java.util.ArrayList<nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage>(days_);
            bitField0_ |= 0x00000001;
           }
        }

        private com.google.protobuf.RepeatedFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsageOrBuilder> daysBuilder_;

        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage> getDaysList() {
          if (daysBuilder_ == null) {
            return java.util.Collections.unmodifiableList(days_);
          } else {
            return daysBuilder_.getMessageList();
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public int getDaysCount() {
          if (daysBuilder_ == null) {
            return days_.size();
          } else {
            return daysBuilder_.getCount();
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage getDays(int index) {
          if (daysBuilder_ == null) {
            return days_.get(index);
          } else {
            return daysBuilder_.getMessage(index);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public Builder setDays(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage value) {
          if (daysBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureDaysIsMutable();
            days_.set(index, value);
            onChanged();
          } else {
            daysBuilder_.setMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public Builder setDays(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder builderForValue) {
          if (daysBuilder_ == null) {
            ensureDaysIsMutable();
            days_.set(index, builderForValue.build());
            onChanged();
          } else {
            daysBuilder_.setMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public Builder addDays(nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage value) {
          if (daysBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureDaysIsMutable();
            days_.add(value);
            onChanged();
          } else {
            daysBuilder_.addMessage(value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public Builder addDays(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage value) {
          if (daysBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureDaysIsMutable();
            days_.add(index, value);
            onChanged();
          } else {
            daysBuilder_.addMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public Builder addDays(
            nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder builderForValue) {
          if (daysBuilder_ == null) {
            ensureDaysIsMutable();
            days_.add(builderForValue.build());
            onChanged();
          } else {
            daysBuilder_.addMessage(builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public Builder addDays(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder builderForValue) {
          if (daysBuilder_ == null) {
            ensureDaysIsMutable();
            days_.add(index, builderForValue.build());
            onChanged();
          } else {
            daysBuilder_.addMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public Builder addAllDays(
            java.lang.Iterable<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage> values) {
          if (daysBuilder_ == null) {
            ensureDaysIsMutable();
            com.google.protobuf.AbstractMessageLite.Builder.addAll(
                values, days_);
            onChanged();
          } else {
            daysBuilder_.addAllMessages(values);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public Builder clearDays() {
          if (daysBuilder_ == null) {
            days_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000001);
            onChanged();
          } else {
            daysBuilder_.clear();
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public Builder removeDays(int index) {
          if (daysBuilder_ == null) {
            ensureDaysIsMutable();
            days_.remove(index);
            onChanged();
          } else {
            daysBuilder_.remove(index);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder getDaysBuilder(
            int index) {
          return getDaysFieldBuilder().getBuilder(index);
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsageOrBuilder getDaysOrBuilder(
            int index) {
          if (daysBuilder_ == null) {
            return days_.get(index);  } else {
            return daysBuilder_.getMessageOrBuilder(index);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsageOrBuilder> 
             getDaysOrBuilderList() {
          if (daysBuilder_ != null) {
            return daysBuilder_.getMessageOrBuilderList();
          } else {
            return java.util.Collections.unmodifiableList(days_);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder addDaysBuilder() {
          return getDaysFieldBuilder().addBuilder(
              nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.getDefaultInstance());
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder addDaysBuilder(
            int index) {
          return getDaysFieldBuilder().addBuilder(
              index, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.getDefaultInstance());
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyDayUsage days = 1;</code>
         */
        public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder> 
             getDaysBuilderList() {
          return getDaysFieldBuilder().getBuilderList();
        }
        private com.google.protobuf.RepeatedFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsageOrBuilder> 
            getDaysFieldBuilder() {
          if (daysBuilder_ == null) {
            daysBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsageOrBuilder>(
                    days_,
                    ((bitField0_ & 0x00000001) != 0),
                    getParentForChildren(),
                    isClean());
            days_ = null;
          }
          return daysBuilder_;
        }

        private com.google.protobuf.Duration recentMaxUsedSeconds_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> recentMaxUsedSecondsBuilder_;
        /**
         * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
         * @return Whether the recentMaxUsedSeconds field is set.
         */
        public boolean hasRecentMaxUsedSeconds() {
          return recentMaxUsedSecondsBuilder_ != null || recentMaxUsedSeconds_ != null;
        }
        /**
         * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
         * @return The recentMaxUsedSeconds.
         */
        public com.google.protobuf.Duration getRecentMaxUsedSeconds() {
          if (recentMaxUsedSecondsBuilder_ == null) {
            return recentMaxUsedSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : recentMaxUsedSeconds_;
          } else {
            return recentMaxUsedSecondsBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
         */
        public Builder setRecentMaxUsedSeconds(com.google.protobuf.Duration value) {
          if (recentMaxUsedSecondsBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            recentMaxUsedSeconds_ = value;
            onChanged();
          } else {
            recentMaxUsedSecondsBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
         */
        public Builder setRecentMaxUsedSeconds(
            com.google.protobuf.Duration.Builder builderForValue) {
          if (recentMaxUsedSecondsBuilder_ == null) {
            recentMaxUsedSeconds_ = builderForValue.build();
            onChanged();
          } else {
            recentMaxUsedSecondsBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
         */
        public Builder mergeRecentMaxUsedSeconds(com.google.protobuf.Duration value) {
          if (recentMaxUsedSecondsBuilder_ == null) {
            if (recentMaxUsedSeconds_ != null) {
              recentMaxUsedSeconds_ =
                com.google.protobuf.Duration.newBuilder(recentMaxUsedSeconds_).mergeFrom(value).buildPartial();
            } else {
              recentMaxUsedSeconds_ = value;
            }
            onChanged();
          } else {
            recentMaxUsedSecondsBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
         */
        public Builder clearRecentMaxUsedSeconds() {
          if (recentMaxUsedSecondsBuilder_ == null) {
            recentMaxUsedSeconds_ = null;
            onChanged();
          } else {
            recentMaxUsedSeconds_ = null;
            recentMaxUsedSecondsBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
         */
        public com.google.protobuf.Duration.Builder getRecentMaxUsedSecondsBuilder() {
          
          onChanged();
          return getRecentMaxUsedSecondsFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
         */
        public com.google.protobuf.DurationOrBuilder getRecentMaxUsedSecondsOrBuilder() {
          if (recentMaxUsedSecondsBuilder_ != null) {
            return recentMaxUsedSecondsBuilder_.getMessageOrBuilder();
          } else {
            return recentMaxUsedSeconds_ == null ?
                com.google.protobuf.Duration.getDefaultInstance() : recentMaxUsedSeconds_;
          }
        }
        /**
         * <code>.google.protobuf.Duration recentMaxUsedSeconds = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> 
            getRecentMaxUsedSecondsFieldBuilder() {
          if (recentMaxUsedSecondsBuilder_ == null) {
            recentMaxUsedSecondsBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder>(
                    getRecentMaxUsedSeconds(),
                    getParentForChildren(),
                    isClean());
            recentMaxUsedSeconds_ = null;
          }
          return recentMaxUsedSecondsBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryResponse)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyEnergyHistoryResponse)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyEnergyHistoryResponse>
          PARSER = new com.google.protobuf.AbstractParser<LegacyEnergyHistoryResponse>() {
        @java.lang.Override
        public LegacyEnergyHistoryResponse parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyEnergyHistoryResponse(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyEnergyHistoryResponse> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyEnergyHistoryResponse> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyHistoryResponse getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyDayUsageOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyDayUsage)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.google.protobuf.Timestamp dayStart = 1;</code>
       * @return Whether the dayStart field is set.
       */
      boolean hasDayStart();
      /**
       * <code>.google.protobuf.Timestamp dayStart = 1;</code>
       * @return The dayStart.
       */
      com.google.protobuf.Timestamp getDayStart();
      /**
       * <code>.google.protobuf.Timestamp dayStart = 1;</code>
       */
      com.google.protobuf.TimestampOrBuilder getDayStartOrBuilder();

      /**
       * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
       * @return Whether the dayEnd field is set.
       */
      boolean hasDayEnd();
      /**
       * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
       * @return The dayEnd.
       */
      com.google.protobuf.Timestamp getDayEnd();
      /**
       * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
       */
      com.google.protobuf.TimestampOrBuilder getDayEndOrBuilder();

      /**
       * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
       * @return Whether the totalHeatingSeconds field is set.
       */
      boolean hasTotalHeatingSeconds();
      /**
       * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
       * @return The totalHeatingSeconds.
       */
      com.google.protobuf.Duration getTotalHeatingSeconds();
      /**
       * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
       */
      com.google.protobuf.DurationOrBuilder getTotalHeatingSecondsOrBuilder();

      /**
       * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
       * @return Whether the totalCoolingSeconds field is set.
       */
      boolean hasTotalCoolingSeconds();
      /**
       * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
       * @return The totalCoolingSeconds.
       */
      com.google.protobuf.Duration getTotalCoolingSeconds();
      /**
       * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
       */
      com.google.protobuf.DurationOrBuilder getTotalCoolingSecondsOrBuilder();

      /**
       * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
       * @return Whether the totalFanCoolingSeconds field is set.
       */
      boolean hasTotalFanCoolingSeconds();
      /**
       * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
       * @return The totalFanCoolingSeconds.
       */
      com.google.protobuf.Duration getTotalFanCoolingSeconds();
      /**
       * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
       */
      com.google.protobuf.DurationOrBuilder getTotalFanCoolingSecondsOrBuilder();

      /**
       * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
       * @return Whether the totalHumidifierSeconds field is set.
       */
      boolean hasTotalHumidifierSeconds();
      /**
       * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
       * @return The totalHumidifierSeconds.
       */
      com.google.protobuf.Duration getTotalHumidifierSeconds();
      /**
       * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
       */
      com.google.protobuf.DurationOrBuilder getTotalHumidifierSecondsOrBuilder();

      /**
       * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
       * @return Whether the totalDehumidifierSeconds field is set.
       */
      boolean hasTotalDehumidifierSeconds();
      /**
       * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
       * @return The totalDehumidifierSeconds.
       */
      com.google.protobuf.Duration getTotalDehumidifierSeconds();
      /**
       * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
       */
      com.google.protobuf.DurationOrBuilder getTotalDehumidifierSecondsOrBuilder();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEnergyWinner energyWinner = 15;</code>
       * @return The enum numeric value on the wire for energyWinner.
       */
      int getEnergyWinnerValue();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEnergyWinner energyWinner = 15;</code>
       * @return The energyWinner.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner getEnergyWinner();

      /**
       * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
       * @return Whether the energyLeaf field is set.
       */
      boolean hasEnergyLeaf();
      /**
       * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
       * @return The energyLeaf.
       */
      com.google.protobuf.BoolValue getEnergyLeaf();
      /**
       * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
       */
      com.google.protobuf.BoolValueOrBuilder getEnergyLeafOrBuilder();

      /**
       * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
       * @return Whether the recentAverageUsedSeconds field is set.
       */
      boolean hasRecentAverageUsedSeconds();
      /**
       * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
       * @return The recentAverageUsedSeconds.
       */
      com.google.protobuf.Int32Value getRecentAverageUsedSeconds();
      /**
       * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
       */
      com.google.protobuf.Int32ValueOrBuilder getRecentAverageUsedSecondsOrBuilder();

      /**
       * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
       * @return Whether the secondsUsageOverAverage field is set.
       */
      boolean hasSecondsUsageOverAverage();
      /**
       * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
       * @return The secondsUsageOverAverage.
       */
      com.google.protobuf.Int32Value getSecondsUsageOverAverage();
      /**
       * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
       */
      com.google.protobuf.Int32ValueOrBuilder getSecondsUsageOverAverageOrBuilder();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
       * @return Whether the systemCapabilities field is set.
       */
      boolean hasSystemCapabilities();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
       * @return The systemCapabilities.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities getSystemCapabilities();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilitiesOrBuilder getSystemCapabilitiesOrBuilder();

      /**
       * <code>bool cyclesIncomplete = 30;</code>
       * @return The cyclesIncomplete.
       */
      boolean getCyclesIncomplete();

      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
       */
      java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle> 
          getCyclesList();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle getCycles(int index);
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
       */
      int getCyclesCount();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
       */
      java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycleOrBuilder> 
          getCyclesOrBuilderList();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycleOrBuilder getCyclesOrBuilder(
          int index);

      /**
       * <code>bool eventsIncomplete = 40;</code>
       * @return The eventsIncomplete.
       */
      boolean getEventsIncomplete();

      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
       */
      java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage> 
          getUsageEventsList();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage getUsageEvents(int index);
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
       */
      int getUsageEventsCount();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
       */
      java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsageOrBuilder> 
          getUsageEventsOrBuilderList();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsageOrBuilder getUsageEventsOrBuilder(
          int index);

      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
       */
      java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange> 
          getRatesList();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange getRates(int index);
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
       */
      int getRatesCount();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
       */
      java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChangeOrBuilder> 
          getRatesOrBuilderList();
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChangeOrBuilder getRatesOrBuilder(
          int index);
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyDayUsage}
     */
    public static final class LegacyDayUsage extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyDayUsage)
        LegacyDayUsageOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyDayUsage.newBuilder() to construct.
      private LegacyDayUsage(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyDayUsage() {
        energyWinner_ = 0;
        cycles_ = java.util.Collections.emptyList();
        usageEvents_ = java.util.Collections.emptyList();
        rates_ = java.util.Collections.emptyList();
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyDayUsage();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyDayUsage(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        int mutable_bitField0_ = 0;
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (dayStart_ != null) {
                  subBuilder = dayStart_.toBuilder();
                }
                dayStart_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(dayStart_);
                  dayStart_ = subBuilder.buildPartial();
                }

                break;
              }
              case 18: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (dayEnd_ != null) {
                  subBuilder = dayEnd_.toBuilder();
                }
                dayEnd_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(dayEnd_);
                  dayEnd_ = subBuilder.buildPartial();
                }

                break;
              }
              case 82: {
                com.google.protobuf.Duration.Builder subBuilder = null;
                if (totalHeatingSeconds_ != null) {
                  subBuilder = totalHeatingSeconds_.toBuilder();
                }
                totalHeatingSeconds_ = input.readMessage(com.google.protobuf.Duration.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(totalHeatingSeconds_);
                  totalHeatingSeconds_ = subBuilder.buildPartial();
                }

                break;
              }
              case 90: {
                com.google.protobuf.Duration.Builder subBuilder = null;
                if (totalCoolingSeconds_ != null) {
                  subBuilder = totalCoolingSeconds_.toBuilder();
                }
                totalCoolingSeconds_ = input.readMessage(com.google.protobuf.Duration.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(totalCoolingSeconds_);
                  totalCoolingSeconds_ = subBuilder.buildPartial();
                }

                break;
              }
              case 98: {
                com.google.protobuf.Duration.Builder subBuilder = null;
                if (totalFanCoolingSeconds_ != null) {
                  subBuilder = totalFanCoolingSeconds_.toBuilder();
                }
                totalFanCoolingSeconds_ = input.readMessage(com.google.protobuf.Duration.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(totalFanCoolingSeconds_);
                  totalFanCoolingSeconds_ = subBuilder.buildPartial();
                }

                break;
              }
              case 106: {
                com.google.protobuf.Duration.Builder subBuilder = null;
                if (totalHumidifierSeconds_ != null) {
                  subBuilder = totalHumidifierSeconds_.toBuilder();
                }
                totalHumidifierSeconds_ = input.readMessage(com.google.protobuf.Duration.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(totalHumidifierSeconds_);
                  totalHumidifierSeconds_ = subBuilder.buildPartial();
                }

                break;
              }
              case 114: {
                com.google.protobuf.Duration.Builder subBuilder = null;
                if (totalDehumidifierSeconds_ != null) {
                  subBuilder = totalDehumidifierSeconds_.toBuilder();
                }
                totalDehumidifierSeconds_ = input.readMessage(com.google.protobuf.Duration.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(totalDehumidifierSeconds_);
                  totalDehumidifierSeconds_ = subBuilder.buildPartial();
                }

                break;
              }
              case 120: {
                int rawValue = input.readEnum();

                energyWinner_ = rawValue;
                break;
              }
              case 130: {
                com.google.protobuf.BoolValue.Builder subBuilder = null;
                if (energyLeaf_ != null) {
                  subBuilder = energyLeaf_.toBuilder();
                }
                energyLeaf_ = input.readMessage(com.google.protobuf.BoolValue.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(energyLeaf_);
                  energyLeaf_ = subBuilder.buildPartial();
                }

                break;
              }
              case 138: {
                com.google.protobuf.Int32Value.Builder subBuilder = null;
                if (recentAverageUsedSeconds_ != null) {
                  subBuilder = recentAverageUsedSeconds_.toBuilder();
                }
                recentAverageUsedSeconds_ = input.readMessage(com.google.protobuf.Int32Value.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(recentAverageUsedSeconds_);
                  recentAverageUsedSeconds_ = subBuilder.buildPartial();
                }

                break;
              }
              case 146: {
                com.google.protobuf.Int32Value.Builder subBuilder = null;
                if (secondsUsageOverAverage_ != null) {
                  subBuilder = secondsUsageOverAverage_.toBuilder();
                }
                secondsUsageOverAverage_ = input.readMessage(com.google.protobuf.Int32Value.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(secondsUsageOverAverage_);
                  secondsUsageOverAverage_ = subBuilder.buildPartial();
                }

                break;
              }
              case 154: {
                nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.Builder subBuilder = null;
                if (systemCapabilities_ != null) {
                  subBuilder = systemCapabilities_.toBuilder();
                }
                systemCapabilities_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(systemCapabilities_);
                  systemCapabilities_ = subBuilder.buildPartial();
                }

                break;
              }
              case 240: {

                cyclesIncomplete_ = input.readBool();
                break;
              }
              case 250: {
                if (!((mutable_bitField0_ & 0x00000001) != 0)) {
                  cycles_ = new java.util.ArrayList<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle>();
                  mutable_bitField0_ |= 0x00000001;
                }
                cycles_.add(
                    input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.parser(), extensionRegistry));
                break;
              }
              case 320: {

                eventsIncomplete_ = input.readBool();
                break;
              }
              case 330: {
                if (!((mutable_bitField0_ & 0x00000002) != 0)) {
                  usageEvents_ = new java.util.ArrayList<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage>();
                  mutable_bitField0_ |= 0x00000002;
                }
                usageEvents_.add(
                    input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.parser(), extensionRegistry));
                break;
              }
              case 402: {
                if (!((mutable_bitField0_ & 0x00000004) != 0)) {
                  rates_ = new java.util.ArrayList<nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange>();
                  mutable_bitField0_ |= 0x00000004;
                }
                rates_.add(
                    input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.parser(), extensionRegistry));
                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          if (((mutable_bitField0_ & 0x00000001) != 0)) {
            cycles_ = java.util.Collections.unmodifiableList(cycles_);
          }
          if (((mutable_bitField0_ & 0x00000002) != 0)) {
            usageEvents_ = java.util.Collections.unmodifiableList(usageEvents_);
          }
          if (((mutable_bitField0_ & 0x00000004) != 0)) {
            rates_ = java.util.Collections.unmodifiableList(rates_);
          }
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyDayUsage_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyDayUsage_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.class, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder.class);
      }

      public static final int DAYSTART_FIELD_NUMBER = 1;
      private com.google.protobuf.Timestamp dayStart_;
      /**
       * <code>.google.protobuf.Timestamp dayStart = 1;</code>
       * @return Whether the dayStart field is set.
       */
      @java.lang.Override
      public boolean hasDayStart() {
        return dayStart_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp dayStart = 1;</code>
       * @return The dayStart.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getDayStart() {
        return dayStart_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : dayStart_;
      }
      /**
       * <code>.google.protobuf.Timestamp dayStart = 1;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getDayStartOrBuilder() {
        return getDayStart();
      }

      public static final int DAYEND_FIELD_NUMBER = 2;
      private com.google.protobuf.Timestamp dayEnd_;
      /**
       * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
       * @return Whether the dayEnd field is set.
       */
      @java.lang.Override
      public boolean hasDayEnd() {
        return dayEnd_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
       * @return The dayEnd.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getDayEnd() {
        return dayEnd_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : dayEnd_;
      }
      /**
       * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getDayEndOrBuilder() {
        return getDayEnd();
      }

      public static final int TOTALHEATINGSECONDS_FIELD_NUMBER = 10;
      private com.google.protobuf.Duration totalHeatingSeconds_;
      /**
       * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
       * @return Whether the totalHeatingSeconds field is set.
       */
      @java.lang.Override
      public boolean hasTotalHeatingSeconds() {
        return totalHeatingSeconds_ != null;
      }
      /**
       * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
       * @return The totalHeatingSeconds.
       */
      @java.lang.Override
      public com.google.protobuf.Duration getTotalHeatingSeconds() {
        return totalHeatingSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : totalHeatingSeconds_;
      }
      /**
       * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
       */
      @java.lang.Override
      public com.google.protobuf.DurationOrBuilder getTotalHeatingSecondsOrBuilder() {
        return getTotalHeatingSeconds();
      }

      public static final int TOTALCOOLINGSECONDS_FIELD_NUMBER = 11;
      private com.google.protobuf.Duration totalCoolingSeconds_;
      /**
       * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
       * @return Whether the totalCoolingSeconds field is set.
       */
      @java.lang.Override
      public boolean hasTotalCoolingSeconds() {
        return totalCoolingSeconds_ != null;
      }
      /**
       * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
       * @return The totalCoolingSeconds.
       */
      @java.lang.Override
      public com.google.protobuf.Duration getTotalCoolingSeconds() {
        return totalCoolingSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : totalCoolingSeconds_;
      }
      /**
       * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
       */
      @java.lang.Override
      public com.google.protobuf.DurationOrBuilder getTotalCoolingSecondsOrBuilder() {
        return getTotalCoolingSeconds();
      }

      public static final int TOTALFANCOOLINGSECONDS_FIELD_NUMBER = 12;
      private com.google.protobuf.Duration totalFanCoolingSeconds_;
      /**
       * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
       * @return Whether the totalFanCoolingSeconds field is set.
       */
      @java.lang.Override
      public boolean hasTotalFanCoolingSeconds() {
        return totalFanCoolingSeconds_ != null;
      }
      /**
       * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
       * @return The totalFanCoolingSeconds.
       */
      @java.lang.Override
      public com.google.protobuf.Duration getTotalFanCoolingSeconds() {
        return totalFanCoolingSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : totalFanCoolingSeconds_;
      }
      /**
       * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
       */
      @java.lang.Override
      public com.google.protobuf.DurationOrBuilder getTotalFanCoolingSecondsOrBuilder() {
        return getTotalFanCoolingSeconds();
      }

      public static final int TOTALHUMIDIFIERSECONDS_FIELD_NUMBER = 13;
      private com.google.protobuf.Duration totalHumidifierSeconds_;
      /**
       * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
       * @return Whether the totalHumidifierSeconds field is set.
       */
      @java.lang.Override
      public boolean hasTotalHumidifierSeconds() {
        return totalHumidifierSeconds_ != null;
      }
      /**
       * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
       * @return The totalHumidifierSeconds.
       */
      @java.lang.Override
      public com.google.protobuf.Duration getTotalHumidifierSeconds() {
        return totalHumidifierSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : totalHumidifierSeconds_;
      }
      /**
       * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
       */
      @java.lang.Override
      public com.google.protobuf.DurationOrBuilder getTotalHumidifierSecondsOrBuilder() {
        return getTotalHumidifierSeconds();
      }

      public static final int TOTALDEHUMIDIFIERSECONDS_FIELD_NUMBER = 14;
      private com.google.protobuf.Duration totalDehumidifierSeconds_;
      /**
       * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
       * @return Whether the totalDehumidifierSeconds field is set.
       */
      @java.lang.Override
      public boolean hasTotalDehumidifierSeconds() {
        return totalDehumidifierSeconds_ != null;
      }
      /**
       * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
       * @return The totalDehumidifierSeconds.
       */
      @java.lang.Override
      public com.google.protobuf.Duration getTotalDehumidifierSeconds() {
        return totalDehumidifierSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : totalDehumidifierSeconds_;
      }
      /**
       * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
       */
      @java.lang.Override
      public com.google.protobuf.DurationOrBuilder getTotalDehumidifierSecondsOrBuilder() {
        return getTotalDehumidifierSeconds();
      }

      public static final int ENERGYWINNER_FIELD_NUMBER = 15;
      private int energyWinner_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEnergyWinner energyWinner = 15;</code>
       * @return The enum numeric value on the wire for energyWinner.
       */
      @java.lang.Override public int getEnergyWinnerValue() {
        return energyWinner_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEnergyWinner energyWinner = 15;</code>
       * @return The energyWinner.
       */
      @java.lang.Override public nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner getEnergyWinner() {
        @SuppressWarnings("deprecation")
        nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner result = nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner.valueOf(energyWinner_);
        return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner.UNRECOGNIZED : result;
      }

      public static final int ENERGYLEAF_FIELD_NUMBER = 16;
      private com.google.protobuf.BoolValue energyLeaf_;
      /**
       * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
       * @return Whether the energyLeaf field is set.
       */
      @java.lang.Override
      public boolean hasEnergyLeaf() {
        return energyLeaf_ != null;
      }
      /**
       * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
       * @return The energyLeaf.
       */
      @java.lang.Override
      public com.google.protobuf.BoolValue getEnergyLeaf() {
        return energyLeaf_ == null ? com.google.protobuf.BoolValue.getDefaultInstance() : energyLeaf_;
      }
      /**
       * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
       */
      @java.lang.Override
      public com.google.protobuf.BoolValueOrBuilder getEnergyLeafOrBuilder() {
        return getEnergyLeaf();
      }

      public static final int RECENTAVERAGEUSEDSECONDS_FIELD_NUMBER = 17;
      private com.google.protobuf.Int32Value recentAverageUsedSeconds_;
      /**
       * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
       * @return Whether the recentAverageUsedSeconds field is set.
       */
      @java.lang.Override
      public boolean hasRecentAverageUsedSeconds() {
        return recentAverageUsedSeconds_ != null;
      }
      /**
       * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
       * @return The recentAverageUsedSeconds.
       */
      @java.lang.Override
      public com.google.protobuf.Int32Value getRecentAverageUsedSeconds() {
        return recentAverageUsedSeconds_ == null ? com.google.protobuf.Int32Value.getDefaultInstance() : recentAverageUsedSeconds_;
      }
      /**
       * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
       */
      @java.lang.Override
      public com.google.protobuf.Int32ValueOrBuilder getRecentAverageUsedSecondsOrBuilder() {
        return getRecentAverageUsedSeconds();
      }

      public static final int SECONDSUSAGEOVERAVERAGE_FIELD_NUMBER = 18;
      private com.google.protobuf.Int32Value secondsUsageOverAverage_;
      /**
       * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
       * @return Whether the secondsUsageOverAverage field is set.
       */
      @java.lang.Override
      public boolean hasSecondsUsageOverAverage() {
        return secondsUsageOverAverage_ != null;
      }
      /**
       * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
       * @return The secondsUsageOverAverage.
       */
      @java.lang.Override
      public com.google.protobuf.Int32Value getSecondsUsageOverAverage() {
        return secondsUsageOverAverage_ == null ? com.google.protobuf.Int32Value.getDefaultInstance() : secondsUsageOverAverage_;
      }
      /**
       * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
       */
      @java.lang.Override
      public com.google.protobuf.Int32ValueOrBuilder getSecondsUsageOverAverageOrBuilder() {
        return getSecondsUsageOverAverage();
      }

      public static final int SYSTEMCAPABILITIES_FIELD_NUMBER = 19;
      private nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
       * @return Whether the systemCapabilities field is set.
       */
      @java.lang.Override
      public boolean hasSystemCapabilities() {
        return systemCapabilities_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
       * @return The systemCapabilities.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities getSystemCapabilities() {
        return systemCapabilities_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.getDefaultInstance() : systemCapabilities_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilitiesOrBuilder getSystemCapabilitiesOrBuilder() {
        return getSystemCapabilities();
      }

      public static final int CYCLESINCOMPLETE_FIELD_NUMBER = 30;
      private boolean cyclesIncomplete_;
      /**
       * <code>bool cyclesIncomplete = 30;</code>
       * @return The cyclesIncomplete.
       */
      @java.lang.Override
      public boolean getCyclesIncomplete() {
        return cyclesIncomplete_;
      }

      public static final int CYCLES_FIELD_NUMBER = 31;
      private java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle> cycles_;
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
       */
      @java.lang.Override
      public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle> getCyclesList() {
        return cycles_;
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
       */
      @java.lang.Override
      public java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycleOrBuilder> 
          getCyclesOrBuilderList() {
        return cycles_;
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
       */
      @java.lang.Override
      public int getCyclesCount() {
        return cycles_.size();
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle getCycles(int index) {
        return cycles_.get(index);
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycleOrBuilder getCyclesOrBuilder(
          int index) {
        return cycles_.get(index);
      }

      public static final int EVENTSINCOMPLETE_FIELD_NUMBER = 40;
      private boolean eventsIncomplete_;
      /**
       * <code>bool eventsIncomplete = 40;</code>
       * @return The eventsIncomplete.
       */
      @java.lang.Override
      public boolean getEventsIncomplete() {
        return eventsIncomplete_;
      }

      public static final int USAGEEVENTS_FIELD_NUMBER = 41;
      private java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage> usageEvents_;
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
       */
      @java.lang.Override
      public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage> getUsageEventsList() {
        return usageEvents_;
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
       */
      @java.lang.Override
      public java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsageOrBuilder> 
          getUsageEventsOrBuilderList() {
        return usageEvents_;
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
       */
      @java.lang.Override
      public int getUsageEventsCount() {
        return usageEvents_.size();
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage getUsageEvents(int index) {
        return usageEvents_.get(index);
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsageOrBuilder getUsageEventsOrBuilder(
          int index) {
        return usageEvents_.get(index);
      }

      public static final int RATES_FIELD_NUMBER = 50;
      private java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange> rates_;
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
       */
      @java.lang.Override
      public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange> getRatesList() {
        return rates_;
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
       */
      @java.lang.Override
      public java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChangeOrBuilder> 
          getRatesOrBuilderList() {
        return rates_;
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
       */
      @java.lang.Override
      public int getRatesCount() {
        return rates_.size();
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange getRates(int index) {
        return rates_.get(index);
      }
      /**
       * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChangeOrBuilder getRatesOrBuilder(
          int index) {
        return rates_.get(index);
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (dayStart_ != null) {
          output.writeMessage(1, getDayStart());
        }
        if (dayEnd_ != null) {
          output.writeMessage(2, getDayEnd());
        }
        if (totalHeatingSeconds_ != null) {
          output.writeMessage(10, getTotalHeatingSeconds());
        }
        if (totalCoolingSeconds_ != null) {
          output.writeMessage(11, getTotalCoolingSeconds());
        }
        if (totalFanCoolingSeconds_ != null) {
          output.writeMessage(12, getTotalFanCoolingSeconds());
        }
        if (totalHumidifierSeconds_ != null) {
          output.writeMessage(13, getTotalHumidifierSeconds());
        }
        if (totalDehumidifierSeconds_ != null) {
          output.writeMessage(14, getTotalDehumidifierSeconds());
        }
        if (energyWinner_ != nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner.LEGACY_ENERGY_WINNER_UNSPECIFIED.getNumber()) {
          output.writeEnum(15, energyWinner_);
        }
        if (energyLeaf_ != null) {
          output.writeMessage(16, getEnergyLeaf());
        }
        if (recentAverageUsedSeconds_ != null) {
          output.writeMessage(17, getRecentAverageUsedSeconds());
        }
        if (secondsUsageOverAverage_ != null) {
          output.writeMessage(18, getSecondsUsageOverAverage());
        }
        if (systemCapabilities_ != null) {
          output.writeMessage(19, getSystemCapabilities());
        }
        if (cyclesIncomplete_ != false) {
          output.writeBool(30, cyclesIncomplete_);
        }
        for (int i = 0; i < cycles_.size(); i++) {
          output.writeMessage(31, cycles_.get(i));
        }
        if (eventsIncomplete_ != false) {
          output.writeBool(40, eventsIncomplete_);
        }
        for (int i = 0; i < usageEvents_.size(); i++) {
          output.writeMessage(41, usageEvents_.get(i));
        }
        for (int i = 0; i < rates_.size(); i++) {
          output.writeMessage(50, rates_.get(i));
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (dayStart_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getDayStart());
        }
        if (dayEnd_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getDayEnd());
        }
        if (totalHeatingSeconds_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(10, getTotalHeatingSeconds());
        }
        if (totalCoolingSeconds_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(11, getTotalCoolingSeconds());
        }
        if (totalFanCoolingSeconds_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(12, getTotalFanCoolingSeconds());
        }
        if (totalHumidifierSeconds_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(13, getTotalHumidifierSeconds());
        }
        if (totalDehumidifierSeconds_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(14, getTotalDehumidifierSeconds());
        }
        if (energyWinner_ != nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner.LEGACY_ENERGY_WINNER_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(15, energyWinner_);
        }
        if (energyLeaf_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(16, getEnergyLeaf());
        }
        if (recentAverageUsedSeconds_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(17, getRecentAverageUsedSeconds());
        }
        if (secondsUsageOverAverage_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(18, getSecondsUsageOverAverage());
        }
        if (systemCapabilities_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(19, getSystemCapabilities());
        }
        if (cyclesIncomplete_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(30, cyclesIncomplete_);
        }
        for (int i = 0; i < cycles_.size(); i++) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(31, cycles_.get(i));
        }
        if (eventsIncomplete_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(40, eventsIncomplete_);
        }
        for (int i = 0; i < usageEvents_.size(); i++) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(41, usageEvents_.get(i));
        }
        for (int i = 0; i < rates_.size(); i++) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(50, rates_.get(i));
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage other = (nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage) obj;

        if (hasDayStart() != other.hasDayStart()) return false;
        if (hasDayStart()) {
          if (!getDayStart()
              .equals(other.getDayStart())) return false;
        }
        if (hasDayEnd() != other.hasDayEnd()) return false;
        if (hasDayEnd()) {
          if (!getDayEnd()
              .equals(other.getDayEnd())) return false;
        }
        if (hasTotalHeatingSeconds() != other.hasTotalHeatingSeconds()) return false;
        if (hasTotalHeatingSeconds()) {
          if (!getTotalHeatingSeconds()
              .equals(other.getTotalHeatingSeconds())) return false;
        }
        if (hasTotalCoolingSeconds() != other.hasTotalCoolingSeconds()) return false;
        if (hasTotalCoolingSeconds()) {
          if (!getTotalCoolingSeconds()
              .equals(other.getTotalCoolingSeconds())) return false;
        }
        if (hasTotalFanCoolingSeconds() != other.hasTotalFanCoolingSeconds()) return false;
        if (hasTotalFanCoolingSeconds()) {
          if (!getTotalFanCoolingSeconds()
              .equals(other.getTotalFanCoolingSeconds())) return false;
        }
        if (hasTotalHumidifierSeconds() != other.hasTotalHumidifierSeconds()) return false;
        if (hasTotalHumidifierSeconds()) {
          if (!getTotalHumidifierSeconds()
              .equals(other.getTotalHumidifierSeconds())) return false;
        }
        if (hasTotalDehumidifierSeconds() != other.hasTotalDehumidifierSeconds()) return false;
        if (hasTotalDehumidifierSeconds()) {
          if (!getTotalDehumidifierSeconds()
              .equals(other.getTotalDehumidifierSeconds())) return false;
        }
        if (energyWinner_ != other.energyWinner_) return false;
        if (hasEnergyLeaf() != other.hasEnergyLeaf()) return false;
        if (hasEnergyLeaf()) {
          if (!getEnergyLeaf()
              .equals(other.getEnergyLeaf())) return false;
        }
        if (hasRecentAverageUsedSeconds() != other.hasRecentAverageUsedSeconds()) return false;
        if (hasRecentAverageUsedSeconds()) {
          if (!getRecentAverageUsedSeconds()
              .equals(other.getRecentAverageUsedSeconds())) return false;
        }
        if (hasSecondsUsageOverAverage() != other.hasSecondsUsageOverAverage()) return false;
        if (hasSecondsUsageOverAverage()) {
          if (!getSecondsUsageOverAverage()
              .equals(other.getSecondsUsageOverAverage())) return false;
        }
        if (hasSystemCapabilities() != other.hasSystemCapabilities()) return false;
        if (hasSystemCapabilities()) {
          if (!getSystemCapabilities()
              .equals(other.getSystemCapabilities())) return false;
        }
        if (getCyclesIncomplete()
            != other.getCyclesIncomplete()) return false;
        if (!getCyclesList()
            .equals(other.getCyclesList())) return false;
        if (getEventsIncomplete()
            != other.getEventsIncomplete()) return false;
        if (!getUsageEventsList()
            .equals(other.getUsageEventsList())) return false;
        if (!getRatesList()
            .equals(other.getRatesList())) return false;
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasDayStart()) {
          hash = (37 * hash) + DAYSTART_FIELD_NUMBER;
          hash = (53 * hash) + getDayStart().hashCode();
        }
        if (hasDayEnd()) {
          hash = (37 * hash) + DAYEND_FIELD_NUMBER;
          hash = (53 * hash) + getDayEnd().hashCode();
        }
        if (hasTotalHeatingSeconds()) {
          hash = (37 * hash) + TOTALHEATINGSECONDS_FIELD_NUMBER;
          hash = (53 * hash) + getTotalHeatingSeconds().hashCode();
        }
        if (hasTotalCoolingSeconds()) {
          hash = (37 * hash) + TOTALCOOLINGSECONDS_FIELD_NUMBER;
          hash = (53 * hash) + getTotalCoolingSeconds().hashCode();
        }
        if (hasTotalFanCoolingSeconds()) {
          hash = (37 * hash) + TOTALFANCOOLINGSECONDS_FIELD_NUMBER;
          hash = (53 * hash) + getTotalFanCoolingSeconds().hashCode();
        }
        if (hasTotalHumidifierSeconds()) {
          hash = (37 * hash) + TOTALHUMIDIFIERSECONDS_FIELD_NUMBER;
          hash = (53 * hash) + getTotalHumidifierSeconds().hashCode();
        }
        if (hasTotalDehumidifierSeconds()) {
          hash = (37 * hash) + TOTALDEHUMIDIFIERSECONDS_FIELD_NUMBER;
          hash = (53 * hash) + getTotalDehumidifierSeconds().hashCode();
        }
        hash = (37 * hash) + ENERGYWINNER_FIELD_NUMBER;
        hash = (53 * hash) + energyWinner_;
        if (hasEnergyLeaf()) {
          hash = (37 * hash) + ENERGYLEAF_FIELD_NUMBER;
          hash = (53 * hash) + getEnergyLeaf().hashCode();
        }
        if (hasRecentAverageUsedSeconds()) {
          hash = (37 * hash) + RECENTAVERAGEUSEDSECONDS_FIELD_NUMBER;
          hash = (53 * hash) + getRecentAverageUsedSeconds().hashCode();
        }
        if (hasSecondsUsageOverAverage()) {
          hash = (37 * hash) + SECONDSUSAGEOVERAVERAGE_FIELD_NUMBER;
          hash = (53 * hash) + getSecondsUsageOverAverage().hashCode();
        }
        if (hasSystemCapabilities()) {
          hash = (37 * hash) + SYSTEMCAPABILITIES_FIELD_NUMBER;
          hash = (53 * hash) + getSystemCapabilities().hashCode();
        }
        hash = (37 * hash) + CYCLESINCOMPLETE_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getCyclesIncomplete());
        if (getCyclesCount() > 0) {
          hash = (37 * hash) + CYCLES_FIELD_NUMBER;
          hash = (53 * hash) + getCyclesList().hashCode();
        }
        hash = (37 * hash) + EVENTSINCOMPLETE_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getEventsIncomplete());
        if (getUsageEventsCount() > 0) {
          hash = (37 * hash) + USAGEEVENTS_FIELD_NUMBER;
          hash = (53 * hash) + getUsageEventsList().hashCode();
        }
        if (getRatesCount() > 0) {
          hash = (37 * hash) + RATES_FIELD_NUMBER;
          hash = (53 * hash) + getRatesList().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyDayUsage}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyDayUsage)
          nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsageOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyDayUsage_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyDayUsage_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.class, nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
            getCyclesFieldBuilder();
            getUsageEventsFieldBuilder();
            getRatesFieldBuilder();
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (dayStartBuilder_ == null) {
            dayStart_ = null;
          } else {
            dayStart_ = null;
            dayStartBuilder_ = null;
          }
          if (dayEndBuilder_ == null) {
            dayEnd_ = null;
          } else {
            dayEnd_ = null;
            dayEndBuilder_ = null;
          }
          if (totalHeatingSecondsBuilder_ == null) {
            totalHeatingSeconds_ = null;
          } else {
            totalHeatingSeconds_ = null;
            totalHeatingSecondsBuilder_ = null;
          }
          if (totalCoolingSecondsBuilder_ == null) {
            totalCoolingSeconds_ = null;
          } else {
            totalCoolingSeconds_ = null;
            totalCoolingSecondsBuilder_ = null;
          }
          if (totalFanCoolingSecondsBuilder_ == null) {
            totalFanCoolingSeconds_ = null;
          } else {
            totalFanCoolingSeconds_ = null;
            totalFanCoolingSecondsBuilder_ = null;
          }
          if (totalHumidifierSecondsBuilder_ == null) {
            totalHumidifierSeconds_ = null;
          } else {
            totalHumidifierSeconds_ = null;
            totalHumidifierSecondsBuilder_ = null;
          }
          if (totalDehumidifierSecondsBuilder_ == null) {
            totalDehumidifierSeconds_ = null;
          } else {
            totalDehumidifierSeconds_ = null;
            totalDehumidifierSecondsBuilder_ = null;
          }
          energyWinner_ = 0;

          if (energyLeafBuilder_ == null) {
            energyLeaf_ = null;
          } else {
            energyLeaf_ = null;
            energyLeafBuilder_ = null;
          }
          if (recentAverageUsedSecondsBuilder_ == null) {
            recentAverageUsedSeconds_ = null;
          } else {
            recentAverageUsedSeconds_ = null;
            recentAverageUsedSecondsBuilder_ = null;
          }
          if (secondsUsageOverAverageBuilder_ == null) {
            secondsUsageOverAverage_ = null;
          } else {
            secondsUsageOverAverage_ = null;
            secondsUsageOverAverageBuilder_ = null;
          }
          if (systemCapabilitiesBuilder_ == null) {
            systemCapabilities_ = null;
          } else {
            systemCapabilities_ = null;
            systemCapabilitiesBuilder_ = null;
          }
          cyclesIncomplete_ = false;

          if (cyclesBuilder_ == null) {
            cycles_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000001);
          } else {
            cyclesBuilder_.clear();
          }
          eventsIncomplete_ = false;

          if (usageEventsBuilder_ == null) {
            usageEvents_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000002);
          } else {
            usageEventsBuilder_.clear();
          }
          if (ratesBuilder_ == null) {
            rates_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000004);
          } else {
            ratesBuilder_.clear();
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyDayUsage_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage result = new nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage(this);
          int from_bitField0_ = bitField0_;
          if (dayStartBuilder_ == null) {
            result.dayStart_ = dayStart_;
          } else {
            result.dayStart_ = dayStartBuilder_.build();
          }
          if (dayEndBuilder_ == null) {
            result.dayEnd_ = dayEnd_;
          } else {
            result.dayEnd_ = dayEndBuilder_.build();
          }
          if (totalHeatingSecondsBuilder_ == null) {
            result.totalHeatingSeconds_ = totalHeatingSeconds_;
          } else {
            result.totalHeatingSeconds_ = totalHeatingSecondsBuilder_.build();
          }
          if (totalCoolingSecondsBuilder_ == null) {
            result.totalCoolingSeconds_ = totalCoolingSeconds_;
          } else {
            result.totalCoolingSeconds_ = totalCoolingSecondsBuilder_.build();
          }
          if (totalFanCoolingSecondsBuilder_ == null) {
            result.totalFanCoolingSeconds_ = totalFanCoolingSeconds_;
          } else {
            result.totalFanCoolingSeconds_ = totalFanCoolingSecondsBuilder_.build();
          }
          if (totalHumidifierSecondsBuilder_ == null) {
            result.totalHumidifierSeconds_ = totalHumidifierSeconds_;
          } else {
            result.totalHumidifierSeconds_ = totalHumidifierSecondsBuilder_.build();
          }
          if (totalDehumidifierSecondsBuilder_ == null) {
            result.totalDehumidifierSeconds_ = totalDehumidifierSeconds_;
          } else {
            result.totalDehumidifierSeconds_ = totalDehumidifierSecondsBuilder_.build();
          }
          result.energyWinner_ = energyWinner_;
          if (energyLeafBuilder_ == null) {
            result.energyLeaf_ = energyLeaf_;
          } else {
            result.energyLeaf_ = energyLeafBuilder_.build();
          }
          if (recentAverageUsedSecondsBuilder_ == null) {
            result.recentAverageUsedSeconds_ = recentAverageUsedSeconds_;
          } else {
            result.recentAverageUsedSeconds_ = recentAverageUsedSecondsBuilder_.build();
          }
          if (secondsUsageOverAverageBuilder_ == null) {
            result.secondsUsageOverAverage_ = secondsUsageOverAverage_;
          } else {
            result.secondsUsageOverAverage_ = secondsUsageOverAverageBuilder_.build();
          }
          if (systemCapabilitiesBuilder_ == null) {
            result.systemCapabilities_ = systemCapabilities_;
          } else {
            result.systemCapabilities_ = systemCapabilitiesBuilder_.build();
          }
          result.cyclesIncomplete_ = cyclesIncomplete_;
          if (cyclesBuilder_ == null) {
            if (((bitField0_ & 0x00000001) != 0)) {
              cycles_ = java.util.Collections.unmodifiableList(cycles_);
              bitField0_ = (bitField0_ & ~0x00000001);
            }
            result.cycles_ = cycles_;
          } else {
            result.cycles_ = cyclesBuilder_.build();
          }
          result.eventsIncomplete_ = eventsIncomplete_;
          if (usageEventsBuilder_ == null) {
            if (((bitField0_ & 0x00000002) != 0)) {
              usageEvents_ = java.util.Collections.unmodifiableList(usageEvents_);
              bitField0_ = (bitField0_ & ~0x00000002);
            }
            result.usageEvents_ = usageEvents_;
          } else {
            result.usageEvents_ = usageEventsBuilder_.build();
          }
          if (ratesBuilder_ == null) {
            if (((bitField0_ & 0x00000004) != 0)) {
              rates_ = java.util.Collections.unmodifiableList(rates_);
              bitField0_ = (bitField0_ & ~0x00000004);
            }
            result.rates_ = rates_;
          } else {
            result.rates_ = ratesBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage.getDefaultInstance()) return this;
          if (other.hasDayStart()) {
            mergeDayStart(other.getDayStart());
          }
          if (other.hasDayEnd()) {
            mergeDayEnd(other.getDayEnd());
          }
          if (other.hasTotalHeatingSeconds()) {
            mergeTotalHeatingSeconds(other.getTotalHeatingSeconds());
          }
          if (other.hasTotalCoolingSeconds()) {
            mergeTotalCoolingSeconds(other.getTotalCoolingSeconds());
          }
          if (other.hasTotalFanCoolingSeconds()) {
            mergeTotalFanCoolingSeconds(other.getTotalFanCoolingSeconds());
          }
          if (other.hasTotalHumidifierSeconds()) {
            mergeTotalHumidifierSeconds(other.getTotalHumidifierSeconds());
          }
          if (other.hasTotalDehumidifierSeconds()) {
            mergeTotalDehumidifierSeconds(other.getTotalDehumidifierSeconds());
          }
          if (other.energyWinner_ != 0) {
            setEnergyWinnerValue(other.getEnergyWinnerValue());
          }
          if (other.hasEnergyLeaf()) {
            mergeEnergyLeaf(other.getEnergyLeaf());
          }
          if (other.hasRecentAverageUsedSeconds()) {
            mergeRecentAverageUsedSeconds(other.getRecentAverageUsedSeconds());
          }
          if (other.hasSecondsUsageOverAverage()) {
            mergeSecondsUsageOverAverage(other.getSecondsUsageOverAverage());
          }
          if (other.hasSystemCapabilities()) {
            mergeSystemCapabilities(other.getSystemCapabilities());
          }
          if (other.getCyclesIncomplete() != false) {
            setCyclesIncomplete(other.getCyclesIncomplete());
          }
          if (cyclesBuilder_ == null) {
            if (!other.cycles_.isEmpty()) {
              if (cycles_.isEmpty()) {
                cycles_ = other.cycles_;
                bitField0_ = (bitField0_ & ~0x00000001);
              } else {
                ensureCyclesIsMutable();
                cycles_.addAll(other.cycles_);
              }
              onChanged();
            }
          } else {
            if (!other.cycles_.isEmpty()) {
              if (cyclesBuilder_.isEmpty()) {
                cyclesBuilder_.dispose();
                cyclesBuilder_ = null;
                cycles_ = other.cycles_;
                bitField0_ = (bitField0_ & ~0x00000001);
                cyclesBuilder_ = 
                  com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                     getCyclesFieldBuilder() : null;
              } else {
                cyclesBuilder_.addAllMessages(other.cycles_);
              }
            }
          }
          if (other.getEventsIncomplete() != false) {
            setEventsIncomplete(other.getEventsIncomplete());
          }
          if (usageEventsBuilder_ == null) {
            if (!other.usageEvents_.isEmpty()) {
              if (usageEvents_.isEmpty()) {
                usageEvents_ = other.usageEvents_;
                bitField0_ = (bitField0_ & ~0x00000002);
              } else {
                ensureUsageEventsIsMutable();
                usageEvents_.addAll(other.usageEvents_);
              }
              onChanged();
            }
          } else {
            if (!other.usageEvents_.isEmpty()) {
              if (usageEventsBuilder_.isEmpty()) {
                usageEventsBuilder_.dispose();
                usageEventsBuilder_ = null;
                usageEvents_ = other.usageEvents_;
                bitField0_ = (bitField0_ & ~0x00000002);
                usageEventsBuilder_ = 
                  com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                     getUsageEventsFieldBuilder() : null;
              } else {
                usageEventsBuilder_.addAllMessages(other.usageEvents_);
              }
            }
          }
          if (ratesBuilder_ == null) {
            if (!other.rates_.isEmpty()) {
              if (rates_.isEmpty()) {
                rates_ = other.rates_;
                bitField0_ = (bitField0_ & ~0x00000004);
              } else {
                ensureRatesIsMutable();
                rates_.addAll(other.rates_);
              }
              onChanged();
            }
          } else {
            if (!other.rates_.isEmpty()) {
              if (ratesBuilder_.isEmpty()) {
                ratesBuilder_.dispose();
                ratesBuilder_ = null;
                rates_ = other.rates_;
                bitField0_ = (bitField0_ & ~0x00000004);
                ratesBuilder_ = 
                  com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                     getRatesFieldBuilder() : null;
              } else {
                ratesBuilder_.addAllMessages(other.rates_);
              }
            }
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }
        private int bitField0_;

        private com.google.protobuf.Timestamp dayStart_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> dayStartBuilder_;
        /**
         * <code>.google.protobuf.Timestamp dayStart = 1;</code>
         * @return Whether the dayStart field is set.
         */
        public boolean hasDayStart() {
          return dayStartBuilder_ != null || dayStart_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp dayStart = 1;</code>
         * @return The dayStart.
         */
        public com.google.protobuf.Timestamp getDayStart() {
          if (dayStartBuilder_ == null) {
            return dayStart_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : dayStart_;
          } else {
            return dayStartBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp dayStart = 1;</code>
         */
        public Builder setDayStart(com.google.protobuf.Timestamp value) {
          if (dayStartBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            dayStart_ = value;
            onChanged();
          } else {
            dayStartBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp dayStart = 1;</code>
         */
        public Builder setDayStart(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (dayStartBuilder_ == null) {
            dayStart_ = builderForValue.build();
            onChanged();
          } else {
            dayStartBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp dayStart = 1;</code>
         */
        public Builder mergeDayStart(com.google.protobuf.Timestamp value) {
          if (dayStartBuilder_ == null) {
            if (dayStart_ != null) {
              dayStart_ =
                com.google.protobuf.Timestamp.newBuilder(dayStart_).mergeFrom(value).buildPartial();
            } else {
              dayStart_ = value;
            }
            onChanged();
          } else {
            dayStartBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp dayStart = 1;</code>
         */
        public Builder clearDayStart() {
          if (dayStartBuilder_ == null) {
            dayStart_ = null;
            onChanged();
          } else {
            dayStart_ = null;
            dayStartBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp dayStart = 1;</code>
         */
        public com.google.protobuf.Timestamp.Builder getDayStartBuilder() {
          
          onChanged();
          return getDayStartFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp dayStart = 1;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getDayStartOrBuilder() {
          if (dayStartBuilder_ != null) {
            return dayStartBuilder_.getMessageOrBuilder();
          } else {
            return dayStart_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : dayStart_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp dayStart = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getDayStartFieldBuilder() {
          if (dayStartBuilder_ == null) {
            dayStartBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getDayStart(),
                    getParentForChildren(),
                    isClean());
            dayStart_ = null;
          }
          return dayStartBuilder_;
        }

        private com.google.protobuf.Timestamp dayEnd_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> dayEndBuilder_;
        /**
         * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
         * @return Whether the dayEnd field is set.
         */
        public boolean hasDayEnd() {
          return dayEndBuilder_ != null || dayEnd_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
         * @return The dayEnd.
         */
        public com.google.protobuf.Timestamp getDayEnd() {
          if (dayEndBuilder_ == null) {
            return dayEnd_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : dayEnd_;
          } else {
            return dayEndBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
         */
        public Builder setDayEnd(com.google.protobuf.Timestamp value) {
          if (dayEndBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            dayEnd_ = value;
            onChanged();
          } else {
            dayEndBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
         */
        public Builder setDayEnd(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (dayEndBuilder_ == null) {
            dayEnd_ = builderForValue.build();
            onChanged();
          } else {
            dayEndBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
         */
        public Builder mergeDayEnd(com.google.protobuf.Timestamp value) {
          if (dayEndBuilder_ == null) {
            if (dayEnd_ != null) {
              dayEnd_ =
                com.google.protobuf.Timestamp.newBuilder(dayEnd_).mergeFrom(value).buildPartial();
            } else {
              dayEnd_ = value;
            }
            onChanged();
          } else {
            dayEndBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
         */
        public Builder clearDayEnd() {
          if (dayEndBuilder_ == null) {
            dayEnd_ = null;
            onChanged();
          } else {
            dayEnd_ = null;
            dayEndBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
         */
        public com.google.protobuf.Timestamp.Builder getDayEndBuilder() {
          
          onChanged();
          return getDayEndFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getDayEndOrBuilder() {
          if (dayEndBuilder_ != null) {
            return dayEndBuilder_.getMessageOrBuilder();
          } else {
            return dayEnd_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : dayEnd_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp dayEnd = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getDayEndFieldBuilder() {
          if (dayEndBuilder_ == null) {
            dayEndBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getDayEnd(),
                    getParentForChildren(),
                    isClean());
            dayEnd_ = null;
          }
          return dayEndBuilder_;
        }

        private com.google.protobuf.Duration totalHeatingSeconds_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> totalHeatingSecondsBuilder_;
        /**
         * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
         * @return Whether the totalHeatingSeconds field is set.
         */
        public boolean hasTotalHeatingSeconds() {
          return totalHeatingSecondsBuilder_ != null || totalHeatingSeconds_ != null;
        }
        /**
         * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
         * @return The totalHeatingSeconds.
         */
        public com.google.protobuf.Duration getTotalHeatingSeconds() {
          if (totalHeatingSecondsBuilder_ == null) {
            return totalHeatingSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : totalHeatingSeconds_;
          } else {
            return totalHeatingSecondsBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
         */
        public Builder setTotalHeatingSeconds(com.google.protobuf.Duration value) {
          if (totalHeatingSecondsBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            totalHeatingSeconds_ = value;
            onChanged();
          } else {
            totalHeatingSecondsBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
         */
        public Builder setTotalHeatingSeconds(
            com.google.protobuf.Duration.Builder builderForValue) {
          if (totalHeatingSecondsBuilder_ == null) {
            totalHeatingSeconds_ = builderForValue.build();
            onChanged();
          } else {
            totalHeatingSecondsBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
         */
        public Builder mergeTotalHeatingSeconds(com.google.protobuf.Duration value) {
          if (totalHeatingSecondsBuilder_ == null) {
            if (totalHeatingSeconds_ != null) {
              totalHeatingSeconds_ =
                com.google.protobuf.Duration.newBuilder(totalHeatingSeconds_).mergeFrom(value).buildPartial();
            } else {
              totalHeatingSeconds_ = value;
            }
            onChanged();
          } else {
            totalHeatingSecondsBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
         */
        public Builder clearTotalHeatingSeconds() {
          if (totalHeatingSecondsBuilder_ == null) {
            totalHeatingSeconds_ = null;
            onChanged();
          } else {
            totalHeatingSeconds_ = null;
            totalHeatingSecondsBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
         */
        public com.google.protobuf.Duration.Builder getTotalHeatingSecondsBuilder() {
          
          onChanged();
          return getTotalHeatingSecondsFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
         */
        public com.google.protobuf.DurationOrBuilder getTotalHeatingSecondsOrBuilder() {
          if (totalHeatingSecondsBuilder_ != null) {
            return totalHeatingSecondsBuilder_.getMessageOrBuilder();
          } else {
            return totalHeatingSeconds_ == null ?
                com.google.protobuf.Duration.getDefaultInstance() : totalHeatingSeconds_;
          }
        }
        /**
         * <code>.google.protobuf.Duration totalHeatingSeconds = 10;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> 
            getTotalHeatingSecondsFieldBuilder() {
          if (totalHeatingSecondsBuilder_ == null) {
            totalHeatingSecondsBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder>(
                    getTotalHeatingSeconds(),
                    getParentForChildren(),
                    isClean());
            totalHeatingSeconds_ = null;
          }
          return totalHeatingSecondsBuilder_;
        }

        private com.google.protobuf.Duration totalCoolingSeconds_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> totalCoolingSecondsBuilder_;
        /**
         * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
         * @return Whether the totalCoolingSeconds field is set.
         */
        public boolean hasTotalCoolingSeconds() {
          return totalCoolingSecondsBuilder_ != null || totalCoolingSeconds_ != null;
        }
        /**
         * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
         * @return The totalCoolingSeconds.
         */
        public com.google.protobuf.Duration getTotalCoolingSeconds() {
          if (totalCoolingSecondsBuilder_ == null) {
            return totalCoolingSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : totalCoolingSeconds_;
          } else {
            return totalCoolingSecondsBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
         */
        public Builder setTotalCoolingSeconds(com.google.protobuf.Duration value) {
          if (totalCoolingSecondsBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            totalCoolingSeconds_ = value;
            onChanged();
          } else {
            totalCoolingSecondsBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
         */
        public Builder setTotalCoolingSeconds(
            com.google.protobuf.Duration.Builder builderForValue) {
          if (totalCoolingSecondsBuilder_ == null) {
            totalCoolingSeconds_ = builderForValue.build();
            onChanged();
          } else {
            totalCoolingSecondsBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
         */
        public Builder mergeTotalCoolingSeconds(com.google.protobuf.Duration value) {
          if (totalCoolingSecondsBuilder_ == null) {
            if (totalCoolingSeconds_ != null) {
              totalCoolingSeconds_ =
                com.google.protobuf.Duration.newBuilder(totalCoolingSeconds_).mergeFrom(value).buildPartial();
            } else {
              totalCoolingSeconds_ = value;
            }
            onChanged();
          } else {
            totalCoolingSecondsBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
         */
        public Builder clearTotalCoolingSeconds() {
          if (totalCoolingSecondsBuilder_ == null) {
            totalCoolingSeconds_ = null;
            onChanged();
          } else {
            totalCoolingSeconds_ = null;
            totalCoolingSecondsBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
         */
        public com.google.protobuf.Duration.Builder getTotalCoolingSecondsBuilder() {
          
          onChanged();
          return getTotalCoolingSecondsFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
         */
        public com.google.protobuf.DurationOrBuilder getTotalCoolingSecondsOrBuilder() {
          if (totalCoolingSecondsBuilder_ != null) {
            return totalCoolingSecondsBuilder_.getMessageOrBuilder();
          } else {
            return totalCoolingSeconds_ == null ?
                com.google.protobuf.Duration.getDefaultInstance() : totalCoolingSeconds_;
          }
        }
        /**
         * <code>.google.protobuf.Duration totalCoolingSeconds = 11;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> 
            getTotalCoolingSecondsFieldBuilder() {
          if (totalCoolingSecondsBuilder_ == null) {
            totalCoolingSecondsBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder>(
                    getTotalCoolingSeconds(),
                    getParentForChildren(),
                    isClean());
            totalCoolingSeconds_ = null;
          }
          return totalCoolingSecondsBuilder_;
        }

        private com.google.protobuf.Duration totalFanCoolingSeconds_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> totalFanCoolingSecondsBuilder_;
        /**
         * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
         * @return Whether the totalFanCoolingSeconds field is set.
         */
        public boolean hasTotalFanCoolingSeconds() {
          return totalFanCoolingSecondsBuilder_ != null || totalFanCoolingSeconds_ != null;
        }
        /**
         * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
         * @return The totalFanCoolingSeconds.
         */
        public com.google.protobuf.Duration getTotalFanCoolingSeconds() {
          if (totalFanCoolingSecondsBuilder_ == null) {
            return totalFanCoolingSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : totalFanCoolingSeconds_;
          } else {
            return totalFanCoolingSecondsBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
         */
        public Builder setTotalFanCoolingSeconds(com.google.protobuf.Duration value) {
          if (totalFanCoolingSecondsBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            totalFanCoolingSeconds_ = value;
            onChanged();
          } else {
            totalFanCoolingSecondsBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
         */
        public Builder setTotalFanCoolingSeconds(
            com.google.protobuf.Duration.Builder builderForValue) {
          if (totalFanCoolingSecondsBuilder_ == null) {
            totalFanCoolingSeconds_ = builderForValue.build();
            onChanged();
          } else {
            totalFanCoolingSecondsBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
         */
        public Builder mergeTotalFanCoolingSeconds(com.google.protobuf.Duration value) {
          if (totalFanCoolingSecondsBuilder_ == null) {
            if (totalFanCoolingSeconds_ != null) {
              totalFanCoolingSeconds_ =
                com.google.protobuf.Duration.newBuilder(totalFanCoolingSeconds_).mergeFrom(value).buildPartial();
            } else {
              totalFanCoolingSeconds_ = value;
            }
            onChanged();
          } else {
            totalFanCoolingSecondsBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
         */
        public Builder clearTotalFanCoolingSeconds() {
          if (totalFanCoolingSecondsBuilder_ == null) {
            totalFanCoolingSeconds_ = null;
            onChanged();
          } else {
            totalFanCoolingSeconds_ = null;
            totalFanCoolingSecondsBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
         */
        public com.google.protobuf.Duration.Builder getTotalFanCoolingSecondsBuilder() {
          
          onChanged();
          return getTotalFanCoolingSecondsFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
         */
        public com.google.protobuf.DurationOrBuilder getTotalFanCoolingSecondsOrBuilder() {
          if (totalFanCoolingSecondsBuilder_ != null) {
            return totalFanCoolingSecondsBuilder_.getMessageOrBuilder();
          } else {
            return totalFanCoolingSeconds_ == null ?
                com.google.protobuf.Duration.getDefaultInstance() : totalFanCoolingSeconds_;
          }
        }
        /**
         * <code>.google.protobuf.Duration totalFanCoolingSeconds = 12;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> 
            getTotalFanCoolingSecondsFieldBuilder() {
          if (totalFanCoolingSecondsBuilder_ == null) {
            totalFanCoolingSecondsBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder>(
                    getTotalFanCoolingSeconds(),
                    getParentForChildren(),
                    isClean());
            totalFanCoolingSeconds_ = null;
          }
          return totalFanCoolingSecondsBuilder_;
        }

        private com.google.protobuf.Duration totalHumidifierSeconds_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> totalHumidifierSecondsBuilder_;
        /**
         * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
         * @return Whether the totalHumidifierSeconds field is set.
         */
        public boolean hasTotalHumidifierSeconds() {
          return totalHumidifierSecondsBuilder_ != null || totalHumidifierSeconds_ != null;
        }
        /**
         * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
         * @return The totalHumidifierSeconds.
         */
        public com.google.protobuf.Duration getTotalHumidifierSeconds() {
          if (totalHumidifierSecondsBuilder_ == null) {
            return totalHumidifierSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : totalHumidifierSeconds_;
          } else {
            return totalHumidifierSecondsBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
         */
        public Builder setTotalHumidifierSeconds(com.google.protobuf.Duration value) {
          if (totalHumidifierSecondsBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            totalHumidifierSeconds_ = value;
            onChanged();
          } else {
            totalHumidifierSecondsBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
         */
        public Builder setTotalHumidifierSeconds(
            com.google.protobuf.Duration.Builder builderForValue) {
          if (totalHumidifierSecondsBuilder_ == null) {
            totalHumidifierSeconds_ = builderForValue.build();
            onChanged();
          } else {
            totalHumidifierSecondsBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
         */
        public Builder mergeTotalHumidifierSeconds(com.google.protobuf.Duration value) {
          if (totalHumidifierSecondsBuilder_ == null) {
            if (totalHumidifierSeconds_ != null) {
              totalHumidifierSeconds_ =
                com.google.protobuf.Duration.newBuilder(totalHumidifierSeconds_).mergeFrom(value).buildPartial();
            } else {
              totalHumidifierSeconds_ = value;
            }
            onChanged();
          } else {
            totalHumidifierSecondsBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
         */
        public Builder clearTotalHumidifierSeconds() {
          if (totalHumidifierSecondsBuilder_ == null) {
            totalHumidifierSeconds_ = null;
            onChanged();
          } else {
            totalHumidifierSeconds_ = null;
            totalHumidifierSecondsBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
         */
        public com.google.protobuf.Duration.Builder getTotalHumidifierSecondsBuilder() {
          
          onChanged();
          return getTotalHumidifierSecondsFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
         */
        public com.google.protobuf.DurationOrBuilder getTotalHumidifierSecondsOrBuilder() {
          if (totalHumidifierSecondsBuilder_ != null) {
            return totalHumidifierSecondsBuilder_.getMessageOrBuilder();
          } else {
            return totalHumidifierSeconds_ == null ?
                com.google.protobuf.Duration.getDefaultInstance() : totalHumidifierSeconds_;
          }
        }
        /**
         * <code>.google.protobuf.Duration totalHumidifierSeconds = 13;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> 
            getTotalHumidifierSecondsFieldBuilder() {
          if (totalHumidifierSecondsBuilder_ == null) {
            totalHumidifierSecondsBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder>(
                    getTotalHumidifierSeconds(),
                    getParentForChildren(),
                    isClean());
            totalHumidifierSeconds_ = null;
          }
          return totalHumidifierSecondsBuilder_;
        }

        private com.google.protobuf.Duration totalDehumidifierSeconds_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> totalDehumidifierSecondsBuilder_;
        /**
         * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
         * @return Whether the totalDehumidifierSeconds field is set.
         */
        public boolean hasTotalDehumidifierSeconds() {
          return totalDehumidifierSecondsBuilder_ != null || totalDehumidifierSeconds_ != null;
        }
        /**
         * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
         * @return The totalDehumidifierSeconds.
         */
        public com.google.protobuf.Duration getTotalDehumidifierSeconds() {
          if (totalDehumidifierSecondsBuilder_ == null) {
            return totalDehumidifierSeconds_ == null ? com.google.protobuf.Duration.getDefaultInstance() : totalDehumidifierSeconds_;
          } else {
            return totalDehumidifierSecondsBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
         */
        public Builder setTotalDehumidifierSeconds(com.google.protobuf.Duration value) {
          if (totalDehumidifierSecondsBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            totalDehumidifierSeconds_ = value;
            onChanged();
          } else {
            totalDehumidifierSecondsBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
         */
        public Builder setTotalDehumidifierSeconds(
            com.google.protobuf.Duration.Builder builderForValue) {
          if (totalDehumidifierSecondsBuilder_ == null) {
            totalDehumidifierSeconds_ = builderForValue.build();
            onChanged();
          } else {
            totalDehumidifierSecondsBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
         */
        public Builder mergeTotalDehumidifierSeconds(com.google.protobuf.Duration value) {
          if (totalDehumidifierSecondsBuilder_ == null) {
            if (totalDehumidifierSeconds_ != null) {
              totalDehumidifierSeconds_ =
                com.google.protobuf.Duration.newBuilder(totalDehumidifierSeconds_).mergeFrom(value).buildPartial();
            } else {
              totalDehumidifierSeconds_ = value;
            }
            onChanged();
          } else {
            totalDehumidifierSecondsBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
         */
        public Builder clearTotalDehumidifierSeconds() {
          if (totalDehumidifierSecondsBuilder_ == null) {
            totalDehumidifierSeconds_ = null;
            onChanged();
          } else {
            totalDehumidifierSeconds_ = null;
            totalDehumidifierSecondsBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
         */
        public com.google.protobuf.Duration.Builder getTotalDehumidifierSecondsBuilder() {
          
          onChanged();
          return getTotalDehumidifierSecondsFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
         */
        public com.google.protobuf.DurationOrBuilder getTotalDehumidifierSecondsOrBuilder() {
          if (totalDehumidifierSecondsBuilder_ != null) {
            return totalDehumidifierSecondsBuilder_.getMessageOrBuilder();
          } else {
            return totalDehumidifierSeconds_ == null ?
                com.google.protobuf.Duration.getDefaultInstance() : totalDehumidifierSeconds_;
          }
        }
        /**
         * <code>.google.protobuf.Duration totalDehumidifierSeconds = 14;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> 
            getTotalDehumidifierSecondsFieldBuilder() {
          if (totalDehumidifierSecondsBuilder_ == null) {
            totalDehumidifierSecondsBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder>(
                    getTotalDehumidifierSeconds(),
                    getParentForChildren(),
                    isClean());
            totalDehumidifierSeconds_ = null;
          }
          return totalDehumidifierSecondsBuilder_;
        }

        private int energyWinner_ = 0;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEnergyWinner energyWinner = 15;</code>
         * @return The enum numeric value on the wire for energyWinner.
         */
        @java.lang.Override public int getEnergyWinnerValue() {
          return energyWinner_;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEnergyWinner energyWinner = 15;</code>
         * @param value The enum numeric value on the wire for energyWinner to set.
         * @return This builder for chaining.
         */
        public Builder setEnergyWinnerValue(int value) {
          
          energyWinner_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEnergyWinner energyWinner = 15;</code>
         * @return The energyWinner.
         */
        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner getEnergyWinner() {
          @SuppressWarnings("deprecation")
          nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner result = nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner.valueOf(energyWinner_);
          return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEnergyWinner energyWinner = 15;</code>
         * @param value The energyWinner to set.
         * @return This builder for chaining.
         */
        public Builder setEnergyWinner(nest.trait.history.History.EnergyHistoryTrait.LegacyEnergyWinner value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          energyWinner_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEnergyWinner energyWinner = 15;</code>
         * @return This builder for chaining.
         */
        public Builder clearEnergyWinner() {
          
          energyWinner_ = 0;
          onChanged();
          return this;
        }

        private com.google.protobuf.BoolValue energyLeaf_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.BoolValue, com.google.protobuf.BoolValue.Builder, com.google.protobuf.BoolValueOrBuilder> energyLeafBuilder_;
        /**
         * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
         * @return Whether the energyLeaf field is set.
         */
        public boolean hasEnergyLeaf() {
          return energyLeafBuilder_ != null || energyLeaf_ != null;
        }
        /**
         * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
         * @return The energyLeaf.
         */
        public com.google.protobuf.BoolValue getEnergyLeaf() {
          if (energyLeafBuilder_ == null) {
            return energyLeaf_ == null ? com.google.protobuf.BoolValue.getDefaultInstance() : energyLeaf_;
          } else {
            return energyLeafBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
         */
        public Builder setEnergyLeaf(com.google.protobuf.BoolValue value) {
          if (energyLeafBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            energyLeaf_ = value;
            onChanged();
          } else {
            energyLeafBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
         */
        public Builder setEnergyLeaf(
            com.google.protobuf.BoolValue.Builder builderForValue) {
          if (energyLeafBuilder_ == null) {
            energyLeaf_ = builderForValue.build();
            onChanged();
          } else {
            energyLeafBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
         */
        public Builder mergeEnergyLeaf(com.google.protobuf.BoolValue value) {
          if (energyLeafBuilder_ == null) {
            if (energyLeaf_ != null) {
              energyLeaf_ =
                com.google.protobuf.BoolValue.newBuilder(energyLeaf_).mergeFrom(value).buildPartial();
            } else {
              energyLeaf_ = value;
            }
            onChanged();
          } else {
            energyLeafBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
         */
        public Builder clearEnergyLeaf() {
          if (energyLeafBuilder_ == null) {
            energyLeaf_ = null;
            onChanged();
          } else {
            energyLeaf_ = null;
            energyLeafBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
         */
        public com.google.protobuf.BoolValue.Builder getEnergyLeafBuilder() {
          
          onChanged();
          return getEnergyLeafFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
         */
        public com.google.protobuf.BoolValueOrBuilder getEnergyLeafOrBuilder() {
          if (energyLeafBuilder_ != null) {
            return energyLeafBuilder_.getMessageOrBuilder();
          } else {
            return energyLeaf_ == null ?
                com.google.protobuf.BoolValue.getDefaultInstance() : energyLeaf_;
          }
        }
        /**
         * <code>.google.protobuf.BoolValue energyLeaf = 16;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.BoolValue, com.google.protobuf.BoolValue.Builder, com.google.protobuf.BoolValueOrBuilder> 
            getEnergyLeafFieldBuilder() {
          if (energyLeafBuilder_ == null) {
            energyLeafBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.BoolValue, com.google.protobuf.BoolValue.Builder, com.google.protobuf.BoolValueOrBuilder>(
                    getEnergyLeaf(),
                    getParentForChildren(),
                    isClean());
            energyLeaf_ = null;
          }
          return energyLeafBuilder_;
        }

        private com.google.protobuf.Int32Value recentAverageUsedSeconds_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Int32Value, com.google.protobuf.Int32Value.Builder, com.google.protobuf.Int32ValueOrBuilder> recentAverageUsedSecondsBuilder_;
        /**
         * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
         * @return Whether the recentAverageUsedSeconds field is set.
         */
        public boolean hasRecentAverageUsedSeconds() {
          return recentAverageUsedSecondsBuilder_ != null || recentAverageUsedSeconds_ != null;
        }
        /**
         * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
         * @return The recentAverageUsedSeconds.
         */
        public com.google.protobuf.Int32Value getRecentAverageUsedSeconds() {
          if (recentAverageUsedSecondsBuilder_ == null) {
            return recentAverageUsedSeconds_ == null ? com.google.protobuf.Int32Value.getDefaultInstance() : recentAverageUsedSeconds_;
          } else {
            return recentAverageUsedSecondsBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
         */
        public Builder setRecentAverageUsedSeconds(com.google.protobuf.Int32Value value) {
          if (recentAverageUsedSecondsBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            recentAverageUsedSeconds_ = value;
            onChanged();
          } else {
            recentAverageUsedSecondsBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
         */
        public Builder setRecentAverageUsedSeconds(
            com.google.protobuf.Int32Value.Builder builderForValue) {
          if (recentAverageUsedSecondsBuilder_ == null) {
            recentAverageUsedSeconds_ = builderForValue.build();
            onChanged();
          } else {
            recentAverageUsedSecondsBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
         */
        public Builder mergeRecentAverageUsedSeconds(com.google.protobuf.Int32Value value) {
          if (recentAverageUsedSecondsBuilder_ == null) {
            if (recentAverageUsedSeconds_ != null) {
              recentAverageUsedSeconds_ =
                com.google.protobuf.Int32Value.newBuilder(recentAverageUsedSeconds_).mergeFrom(value).buildPartial();
            } else {
              recentAverageUsedSeconds_ = value;
            }
            onChanged();
          } else {
            recentAverageUsedSecondsBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
         */
        public Builder clearRecentAverageUsedSeconds() {
          if (recentAverageUsedSecondsBuilder_ == null) {
            recentAverageUsedSeconds_ = null;
            onChanged();
          } else {
            recentAverageUsedSeconds_ = null;
            recentAverageUsedSecondsBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
         */
        public com.google.protobuf.Int32Value.Builder getRecentAverageUsedSecondsBuilder() {
          
          onChanged();
          return getRecentAverageUsedSecondsFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
         */
        public com.google.protobuf.Int32ValueOrBuilder getRecentAverageUsedSecondsOrBuilder() {
          if (recentAverageUsedSecondsBuilder_ != null) {
            return recentAverageUsedSecondsBuilder_.getMessageOrBuilder();
          } else {
            return recentAverageUsedSeconds_ == null ?
                com.google.protobuf.Int32Value.getDefaultInstance() : recentAverageUsedSeconds_;
          }
        }
        /**
         * <code>.google.protobuf.Int32Value recentAverageUsedSeconds = 17;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Int32Value, com.google.protobuf.Int32Value.Builder, com.google.protobuf.Int32ValueOrBuilder> 
            getRecentAverageUsedSecondsFieldBuilder() {
          if (recentAverageUsedSecondsBuilder_ == null) {
            recentAverageUsedSecondsBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Int32Value, com.google.protobuf.Int32Value.Builder, com.google.protobuf.Int32ValueOrBuilder>(
                    getRecentAverageUsedSeconds(),
                    getParentForChildren(),
                    isClean());
            recentAverageUsedSeconds_ = null;
          }
          return recentAverageUsedSecondsBuilder_;
        }

        private com.google.protobuf.Int32Value secondsUsageOverAverage_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Int32Value, com.google.protobuf.Int32Value.Builder, com.google.protobuf.Int32ValueOrBuilder> secondsUsageOverAverageBuilder_;
        /**
         * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
         * @return Whether the secondsUsageOverAverage field is set.
         */
        public boolean hasSecondsUsageOverAverage() {
          return secondsUsageOverAverageBuilder_ != null || secondsUsageOverAverage_ != null;
        }
        /**
         * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
         * @return The secondsUsageOverAverage.
         */
        public com.google.protobuf.Int32Value getSecondsUsageOverAverage() {
          if (secondsUsageOverAverageBuilder_ == null) {
            return secondsUsageOverAverage_ == null ? com.google.protobuf.Int32Value.getDefaultInstance() : secondsUsageOverAverage_;
          } else {
            return secondsUsageOverAverageBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
         */
        public Builder setSecondsUsageOverAverage(com.google.protobuf.Int32Value value) {
          if (secondsUsageOverAverageBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            secondsUsageOverAverage_ = value;
            onChanged();
          } else {
            secondsUsageOverAverageBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
         */
        public Builder setSecondsUsageOverAverage(
            com.google.protobuf.Int32Value.Builder builderForValue) {
          if (secondsUsageOverAverageBuilder_ == null) {
            secondsUsageOverAverage_ = builderForValue.build();
            onChanged();
          } else {
            secondsUsageOverAverageBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
         */
        public Builder mergeSecondsUsageOverAverage(com.google.protobuf.Int32Value value) {
          if (secondsUsageOverAverageBuilder_ == null) {
            if (secondsUsageOverAverage_ != null) {
              secondsUsageOverAverage_ =
                com.google.protobuf.Int32Value.newBuilder(secondsUsageOverAverage_).mergeFrom(value).buildPartial();
            } else {
              secondsUsageOverAverage_ = value;
            }
            onChanged();
          } else {
            secondsUsageOverAverageBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
         */
        public Builder clearSecondsUsageOverAverage() {
          if (secondsUsageOverAverageBuilder_ == null) {
            secondsUsageOverAverage_ = null;
            onChanged();
          } else {
            secondsUsageOverAverage_ = null;
            secondsUsageOverAverageBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
         */
        public com.google.protobuf.Int32Value.Builder getSecondsUsageOverAverageBuilder() {
          
          onChanged();
          return getSecondsUsageOverAverageFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
         */
        public com.google.protobuf.Int32ValueOrBuilder getSecondsUsageOverAverageOrBuilder() {
          if (secondsUsageOverAverageBuilder_ != null) {
            return secondsUsageOverAverageBuilder_.getMessageOrBuilder();
          } else {
            return secondsUsageOverAverage_ == null ?
                com.google.protobuf.Int32Value.getDefaultInstance() : secondsUsageOverAverage_;
          }
        }
        /**
         * <code>.google.protobuf.Int32Value secondsUsageOverAverage = 18;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Int32Value, com.google.protobuf.Int32Value.Builder, com.google.protobuf.Int32ValueOrBuilder> 
            getSecondsUsageOverAverageFieldBuilder() {
          if (secondsUsageOverAverageBuilder_ == null) {
            secondsUsageOverAverageBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Int32Value, com.google.protobuf.Int32Value.Builder, com.google.protobuf.Int32ValueOrBuilder>(
                    getSecondsUsageOverAverage(),
                    getParentForChildren(),
                    isClean());
            secondsUsageOverAverage_ = null;
          }
          return secondsUsageOverAverageBuilder_;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities, nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilitiesOrBuilder> systemCapabilitiesBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
         * @return Whether the systemCapabilities field is set.
         */
        public boolean hasSystemCapabilities() {
          return systemCapabilitiesBuilder_ != null || systemCapabilities_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
         * @return The systemCapabilities.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities getSystemCapabilities() {
          if (systemCapabilitiesBuilder_ == null) {
            return systemCapabilities_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.getDefaultInstance() : systemCapabilities_;
          } else {
            return systemCapabilitiesBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
         */
        public Builder setSystemCapabilities(nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities value) {
          if (systemCapabilitiesBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            systemCapabilities_ = value;
            onChanged();
          } else {
            systemCapabilitiesBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
         */
        public Builder setSystemCapabilities(
            nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.Builder builderForValue) {
          if (systemCapabilitiesBuilder_ == null) {
            systemCapabilities_ = builderForValue.build();
            onChanged();
          } else {
            systemCapabilitiesBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
         */
        public Builder mergeSystemCapabilities(nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities value) {
          if (systemCapabilitiesBuilder_ == null) {
            if (systemCapabilities_ != null) {
              systemCapabilities_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.newBuilder(systemCapabilities_).mergeFrom(value).buildPartial();
            } else {
              systemCapabilities_ = value;
            }
            onChanged();
          } else {
            systemCapabilitiesBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
         */
        public Builder clearSystemCapabilities() {
          if (systemCapabilitiesBuilder_ == null) {
            systemCapabilities_ = null;
            onChanged();
          } else {
            systemCapabilities_ = null;
            systemCapabilitiesBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.Builder getSystemCapabilitiesBuilder() {
          
          onChanged();
          return getSystemCapabilitiesFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilitiesOrBuilder getSystemCapabilitiesOrBuilder() {
          if (systemCapabilitiesBuilder_ != null) {
            return systemCapabilitiesBuilder_.getMessageOrBuilder();
          } else {
            return systemCapabilities_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.getDefaultInstance() : systemCapabilities_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities systemCapabilities = 19;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities, nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilitiesOrBuilder> 
            getSystemCapabilitiesFieldBuilder() {
          if (systemCapabilitiesBuilder_ == null) {
            systemCapabilitiesBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities, nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilitiesOrBuilder>(
                    getSystemCapabilities(),
                    getParentForChildren(),
                    isClean());
            systemCapabilities_ = null;
          }
          return systemCapabilitiesBuilder_;
        }

        private boolean cyclesIncomplete_ ;
        /**
         * <code>bool cyclesIncomplete = 30;</code>
         * @return The cyclesIncomplete.
         */
        @java.lang.Override
        public boolean getCyclesIncomplete() {
          return cyclesIncomplete_;
        }
        /**
         * <code>bool cyclesIncomplete = 30;</code>
         * @param value The cyclesIncomplete to set.
         * @return This builder for chaining.
         */
        public Builder setCyclesIncomplete(boolean value) {
          
          cyclesIncomplete_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool cyclesIncomplete = 30;</code>
         * @return This builder for chaining.
         */
        public Builder clearCyclesIncomplete() {
          
          cyclesIncomplete_ = false;
          onChanged();
          return this;
        }

        private java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle> cycles_ =
          java.util.Collections.emptyList();
        private void ensureCyclesIsMutable() {
          if (!((bitField0_ & 0x00000001) != 0)) {
            cycles_ = new java.util.ArrayList<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle>(cycles_);
            bitField0_ |= 0x00000001;
           }
        }

        private com.google.protobuf.RepeatedFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycleOrBuilder> cyclesBuilder_;

        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle> getCyclesList() {
          if (cyclesBuilder_ == null) {
            return java.util.Collections.unmodifiableList(cycles_);
          } else {
            return cyclesBuilder_.getMessageList();
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public int getCyclesCount() {
          if (cyclesBuilder_ == null) {
            return cycles_.size();
          } else {
            return cyclesBuilder_.getCount();
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle getCycles(int index) {
          if (cyclesBuilder_ == null) {
            return cycles_.get(index);
          } else {
            return cyclesBuilder_.getMessage(index);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public Builder setCycles(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle value) {
          if (cyclesBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureCyclesIsMutable();
            cycles_.set(index, value);
            onChanged();
          } else {
            cyclesBuilder_.setMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public Builder setCycles(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder builderForValue) {
          if (cyclesBuilder_ == null) {
            ensureCyclesIsMutable();
            cycles_.set(index, builderForValue.build());
            onChanged();
          } else {
            cyclesBuilder_.setMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public Builder addCycles(nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle value) {
          if (cyclesBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureCyclesIsMutable();
            cycles_.add(value);
            onChanged();
          } else {
            cyclesBuilder_.addMessage(value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public Builder addCycles(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle value) {
          if (cyclesBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureCyclesIsMutable();
            cycles_.add(index, value);
            onChanged();
          } else {
            cyclesBuilder_.addMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public Builder addCycles(
            nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder builderForValue) {
          if (cyclesBuilder_ == null) {
            ensureCyclesIsMutable();
            cycles_.add(builderForValue.build());
            onChanged();
          } else {
            cyclesBuilder_.addMessage(builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public Builder addCycles(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder builderForValue) {
          if (cyclesBuilder_ == null) {
            ensureCyclesIsMutable();
            cycles_.add(index, builderForValue.build());
            onChanged();
          } else {
            cyclesBuilder_.addMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public Builder addAllCycles(
            java.lang.Iterable<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle> values) {
          if (cyclesBuilder_ == null) {
            ensureCyclesIsMutable();
            com.google.protobuf.AbstractMessageLite.Builder.addAll(
                values, cycles_);
            onChanged();
          } else {
            cyclesBuilder_.addAllMessages(values);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public Builder clearCycles() {
          if (cyclesBuilder_ == null) {
            cycles_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000001);
            onChanged();
          } else {
            cyclesBuilder_.clear();
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public Builder removeCycles(int index) {
          if (cyclesBuilder_ == null) {
            ensureCyclesIsMutable();
            cycles_.remove(index);
            onChanged();
          } else {
            cyclesBuilder_.remove(index);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder getCyclesBuilder(
            int index) {
          return getCyclesFieldBuilder().getBuilder(index);
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycleOrBuilder getCyclesOrBuilder(
            int index) {
          if (cyclesBuilder_ == null) {
            return cycles_.get(index);  } else {
            return cyclesBuilder_.getMessageOrBuilder(index);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycleOrBuilder> 
             getCyclesOrBuilderList() {
          if (cyclesBuilder_ != null) {
            return cyclesBuilder_.getMessageOrBuilderList();
          } else {
            return java.util.Collections.unmodifiableList(cycles_);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder addCyclesBuilder() {
          return getCyclesFieldBuilder().addBuilder(
              nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.getDefaultInstance());
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder addCyclesBuilder(
            int index) {
          return getCyclesFieldBuilder().addBuilder(
              index, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.getDefaultInstance());
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle cycles = 31;</code>
         */
        public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder> 
             getCyclesBuilderList() {
          return getCyclesFieldBuilder().getBuilderList();
        }
        private com.google.protobuf.RepeatedFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycleOrBuilder> 
            getCyclesFieldBuilder() {
          if (cyclesBuilder_ == null) {
            cyclesBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycleOrBuilder>(
                    cycles_,
                    ((bitField0_ & 0x00000001) != 0),
                    getParentForChildren(),
                    isClean());
            cycles_ = null;
          }
          return cyclesBuilder_;
        }

        private boolean eventsIncomplete_ ;
        /**
         * <code>bool eventsIncomplete = 40;</code>
         * @return The eventsIncomplete.
         */
        @java.lang.Override
        public boolean getEventsIncomplete() {
          return eventsIncomplete_;
        }
        /**
         * <code>bool eventsIncomplete = 40;</code>
         * @param value The eventsIncomplete to set.
         * @return This builder for chaining.
         */
        public Builder setEventsIncomplete(boolean value) {
          
          eventsIncomplete_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool eventsIncomplete = 40;</code>
         * @return This builder for chaining.
         */
        public Builder clearEventsIncomplete() {
          
          eventsIncomplete_ = false;
          onChanged();
          return this;
        }

        private java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage> usageEvents_ =
          java.util.Collections.emptyList();
        private void ensureUsageEventsIsMutable() {
          if (!((bitField0_ & 0x00000002) != 0)) {
            usageEvents_ = new java.util.ArrayList<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage>(usageEvents_);
            bitField0_ |= 0x00000002;
           }
        }

        private com.google.protobuf.RepeatedFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsageOrBuilder> usageEventsBuilder_;

        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage> getUsageEventsList() {
          if (usageEventsBuilder_ == null) {
            return java.util.Collections.unmodifiableList(usageEvents_);
          } else {
            return usageEventsBuilder_.getMessageList();
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public int getUsageEventsCount() {
          if (usageEventsBuilder_ == null) {
            return usageEvents_.size();
          } else {
            return usageEventsBuilder_.getCount();
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage getUsageEvents(int index) {
          if (usageEventsBuilder_ == null) {
            return usageEvents_.get(index);
          } else {
            return usageEventsBuilder_.getMessage(index);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public Builder setUsageEvents(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage value) {
          if (usageEventsBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureUsageEventsIsMutable();
            usageEvents_.set(index, value);
            onChanged();
          } else {
            usageEventsBuilder_.setMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public Builder setUsageEvents(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder builderForValue) {
          if (usageEventsBuilder_ == null) {
            ensureUsageEventsIsMutable();
            usageEvents_.set(index, builderForValue.build());
            onChanged();
          } else {
            usageEventsBuilder_.setMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public Builder addUsageEvents(nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage value) {
          if (usageEventsBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureUsageEventsIsMutable();
            usageEvents_.add(value);
            onChanged();
          } else {
            usageEventsBuilder_.addMessage(value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public Builder addUsageEvents(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage value) {
          if (usageEventsBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureUsageEventsIsMutable();
            usageEvents_.add(index, value);
            onChanged();
          } else {
            usageEventsBuilder_.addMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public Builder addUsageEvents(
            nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder builderForValue) {
          if (usageEventsBuilder_ == null) {
            ensureUsageEventsIsMutable();
            usageEvents_.add(builderForValue.build());
            onChanged();
          } else {
            usageEventsBuilder_.addMessage(builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public Builder addUsageEvents(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder builderForValue) {
          if (usageEventsBuilder_ == null) {
            ensureUsageEventsIsMutable();
            usageEvents_.add(index, builderForValue.build());
            onChanged();
          } else {
            usageEventsBuilder_.addMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public Builder addAllUsageEvents(
            java.lang.Iterable<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage> values) {
          if (usageEventsBuilder_ == null) {
            ensureUsageEventsIsMutable();
            com.google.protobuf.AbstractMessageLite.Builder.addAll(
                values, usageEvents_);
            onChanged();
          } else {
            usageEventsBuilder_.addAllMessages(values);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public Builder clearUsageEvents() {
          if (usageEventsBuilder_ == null) {
            usageEvents_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000002);
            onChanged();
          } else {
            usageEventsBuilder_.clear();
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public Builder removeUsageEvents(int index) {
          if (usageEventsBuilder_ == null) {
            ensureUsageEventsIsMutable();
            usageEvents_.remove(index);
            onChanged();
          } else {
            usageEventsBuilder_.remove(index);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder getUsageEventsBuilder(
            int index) {
          return getUsageEventsFieldBuilder().getBuilder(index);
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsageOrBuilder getUsageEventsOrBuilder(
            int index) {
          if (usageEventsBuilder_ == null) {
            return usageEvents_.get(index);  } else {
            return usageEventsBuilder_.getMessageOrBuilder(index);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsageOrBuilder> 
             getUsageEventsOrBuilderList() {
          if (usageEventsBuilder_ != null) {
            return usageEventsBuilder_.getMessageOrBuilderList();
          } else {
            return java.util.Collections.unmodifiableList(usageEvents_);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder addUsageEventsBuilder() {
          return getUsageEventsFieldBuilder().addBuilder(
              nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.getDefaultInstance());
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder addUsageEventsBuilder(
            int index) {
          return getUsageEventsFieldBuilder().addBuilder(
              index, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.getDefaultInstance());
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage usageEvents = 41;</code>
         */
        public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder> 
             getUsageEventsBuilderList() {
          return getUsageEventsFieldBuilder().getBuilderList();
        }
        private com.google.protobuf.RepeatedFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsageOrBuilder> 
            getUsageEventsFieldBuilder() {
          if (usageEventsBuilder_ == null) {
            usageEventsBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsageOrBuilder>(
                    usageEvents_,
                    ((bitField0_ & 0x00000002) != 0),
                    getParentForChildren(),
                    isClean());
            usageEvents_ = null;
          }
          return usageEventsBuilder_;
        }

        private java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange> rates_ =
          java.util.Collections.emptyList();
        private void ensureRatesIsMutable() {
          if (!((bitField0_ & 0x00000004) != 0)) {
            rates_ = new java.util.ArrayList<nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange>(rates_);
            bitField0_ |= 0x00000004;
           }
        }

        private com.google.protobuf.RepeatedFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChangeOrBuilder> ratesBuilder_;

        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange> getRatesList() {
          if (ratesBuilder_ == null) {
            return java.util.Collections.unmodifiableList(rates_);
          } else {
            return ratesBuilder_.getMessageList();
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public int getRatesCount() {
          if (ratesBuilder_ == null) {
            return rates_.size();
          } else {
            return ratesBuilder_.getCount();
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange getRates(int index) {
          if (ratesBuilder_ == null) {
            return rates_.get(index);
          } else {
            return ratesBuilder_.getMessage(index);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public Builder setRates(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange value) {
          if (ratesBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureRatesIsMutable();
            rates_.set(index, value);
            onChanged();
          } else {
            ratesBuilder_.setMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public Builder setRates(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder builderForValue) {
          if (ratesBuilder_ == null) {
            ensureRatesIsMutable();
            rates_.set(index, builderForValue.build());
            onChanged();
          } else {
            ratesBuilder_.setMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public Builder addRates(nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange value) {
          if (ratesBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureRatesIsMutable();
            rates_.add(value);
            onChanged();
          } else {
            ratesBuilder_.addMessage(value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public Builder addRates(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange value) {
          if (ratesBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureRatesIsMutable();
            rates_.add(index, value);
            onChanged();
          } else {
            ratesBuilder_.addMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public Builder addRates(
            nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder builderForValue) {
          if (ratesBuilder_ == null) {
            ensureRatesIsMutable();
            rates_.add(builderForValue.build());
            onChanged();
          } else {
            ratesBuilder_.addMessage(builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public Builder addRates(
            int index, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder builderForValue) {
          if (ratesBuilder_ == null) {
            ensureRatesIsMutable();
            rates_.add(index, builderForValue.build());
            onChanged();
          } else {
            ratesBuilder_.addMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public Builder addAllRates(
            java.lang.Iterable<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange> values) {
          if (ratesBuilder_ == null) {
            ensureRatesIsMutable();
            com.google.protobuf.AbstractMessageLite.Builder.addAll(
                values, rates_);
            onChanged();
          } else {
            ratesBuilder_.addAllMessages(values);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public Builder clearRates() {
          if (ratesBuilder_ == null) {
            rates_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000004);
            onChanged();
          } else {
            ratesBuilder_.clear();
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public Builder removeRates(int index) {
          if (ratesBuilder_ == null) {
            ensureRatesIsMutable();
            rates_.remove(index);
            onChanged();
          } else {
            ratesBuilder_.remove(index);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder getRatesBuilder(
            int index) {
          return getRatesFieldBuilder().getBuilder(index);
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChangeOrBuilder getRatesOrBuilder(
            int index) {
          if (ratesBuilder_ == null) {
            return rates_.get(index);  } else {
            return ratesBuilder_.getMessageOrBuilder(index);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public java.util.List<? extends nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChangeOrBuilder> 
             getRatesOrBuilderList() {
          if (ratesBuilder_ != null) {
            return ratesBuilder_.getMessageOrBuilderList();
          } else {
            return java.util.Collections.unmodifiableList(rates_);
          }
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder addRatesBuilder() {
          return getRatesFieldBuilder().addBuilder(
              nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.getDefaultInstance());
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder addRatesBuilder(
            int index) {
          return getRatesFieldBuilder().addBuilder(
              index, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.getDefaultInstance());
        }
        /**
         * <code>repeated .nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange rates = 50;</code>
         */
        public java.util.List<nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder> 
             getRatesBuilderList() {
          return getRatesFieldBuilder().getBuilderList();
        }
        private com.google.protobuf.RepeatedFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChangeOrBuilder> 
            getRatesFieldBuilder() {
          if (ratesBuilder_ == null) {
            ratesBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChangeOrBuilder>(
                    rates_,
                    ((bitField0_ & 0x00000004) != 0),
                    getParentForChildren(),
                    isClean());
            rates_ = null;
          }
          return ratesBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyDayUsage)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyDayUsage)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyDayUsage>
          PARSER = new com.google.protobuf.AbstractParser<LegacyDayUsage>() {
        @java.lang.Override
        public LegacyDayUsage parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyDayUsage(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyDayUsage> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyDayUsage> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyDayUsage getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyHVACCycleOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
       * @return Whether the cycleStart field is set.
       */
      boolean hasCycleStart();
      /**
       * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
       * @return The cycleStart.
       */
      com.google.protobuf.Timestamp getCycleStart();
      /**
       * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
       */
      com.google.protobuf.TimestampOrBuilder getCycleStartOrBuilder();

      /**
       * <code>.google.protobuf.Duration duration = 2;</code>
       * @return Whether the duration field is set.
       */
      boolean hasDuration();
      /**
       * <code>.google.protobuf.Duration duration = 2;</code>
       * @return The duration.
       */
      com.google.protobuf.Duration getDuration();
      /**
       * <code>.google.protobuf.Duration duration = 2;</code>
       */
      com.google.protobuf.DurationOrBuilder getDurationOrBuilder();

      /**
       * <code>bool isComplete = 3;</code>
       * @return The isComplete.
       */
      boolean getIsComplete();

      /**
       * <code>bool heat1 = 10;</code>
       * @return The heat1.
       */
      boolean getHeat1();

      /**
       * <code>bool heat2 = 11;</code>
       * @return The heat2.
       */
      boolean getHeat2();

      /**
       * <code>bool heat3 = 12;</code>
       * @return The heat3.
       */
      boolean getHeat3();

      /**
       * <code>bool heatAux = 13;</code>
       * @return The heatAux.
       */
      boolean getHeatAux();

      /**
       * <code>bool altHeat = 14;</code>
       * @return The altHeat.
       */
      boolean getAltHeat();

      /**
       * <code>bool altHeat2 = 15;</code>
       * @return The altHeat2.
       */
      boolean getAltHeat2();

      /**
       * <code>bool emergencyHeat = 16;</code>
       * @return The emergencyHeat.
       */
      boolean getEmergencyHeat();

      /**
       * <code>bool cool1 = 17;</code>
       * @return The cool1.
       */
      boolean getCool1();

      /**
       * <code>bool cool2 = 18;</code>
       * @return The cool2.
       */
      boolean getCool2();

      /**
       * <code>bool cool3 = 19;</code>
       * @return The cool3.
       */
      boolean getCool3();

      /**
       * <code>bool fan = 20;</code>
       * @return The fan.
       */
      boolean getFan();

      /**
       * <code>bool fanCooling = 21;</code>
       * @return The fanCooling.
       */
      boolean getFanCooling();

      /**
       * <code>bool humidifier = 22;</code>
       * @return The humidifier.
       */
      boolean getHumidifier();

      /**
       * <code>bool dehumidifier = 23;</code>
       * @return The dehumidifier.
       */
      boolean getDehumidifier();

      /**
       * <code>bool autoDehumdifier = 24;</code>
       * @return The autoDehumdifier.
       */
      boolean getAutoDehumdifier();

      /**
       * <code>bool waterHeater = 25;</code>
       * @return The waterHeater.
       */
      boolean getWaterHeater();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle}
     */
    public static final class LegacyHVACCycle extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle)
        LegacyHVACCycleOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyHVACCycle.newBuilder() to construct.
      private LegacyHVACCycle(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyHVACCycle() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyHVACCycle();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyHVACCycle(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (cycleStart_ != null) {
                  subBuilder = cycleStart_.toBuilder();
                }
                cycleStart_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(cycleStart_);
                  cycleStart_ = subBuilder.buildPartial();
                }

                break;
              }
              case 18: {
                com.google.protobuf.Duration.Builder subBuilder = null;
                if (duration_ != null) {
                  subBuilder = duration_.toBuilder();
                }
                duration_ = input.readMessage(com.google.protobuf.Duration.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(duration_);
                  duration_ = subBuilder.buildPartial();
                }

                break;
              }
              case 24: {

                isComplete_ = input.readBool();
                break;
              }
              case 80: {

                heat1_ = input.readBool();
                break;
              }
              case 88: {

                heat2_ = input.readBool();
                break;
              }
              case 96: {

                heat3_ = input.readBool();
                break;
              }
              case 104: {

                heatAux_ = input.readBool();
                break;
              }
              case 112: {

                altHeat_ = input.readBool();
                break;
              }
              case 120: {

                altHeat2_ = input.readBool();
                break;
              }
              case 128: {

                emergencyHeat_ = input.readBool();
                break;
              }
              case 136: {

                cool1_ = input.readBool();
                break;
              }
              case 144: {

                cool2_ = input.readBool();
                break;
              }
              case 152: {

                cool3_ = input.readBool();
                break;
              }
              case 160: {

                fan_ = input.readBool();
                break;
              }
              case 168: {

                fanCooling_ = input.readBool();
                break;
              }
              case 176: {

                humidifier_ = input.readBool();
                break;
              }
              case 184: {

                dehumidifier_ = input.readBool();
                break;
              }
              case 192: {

                autoDehumdifier_ = input.readBool();
                break;
              }
              case 200: {

                waterHeater_ = input.readBool();
                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACCycle_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACCycle_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.class, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder.class);
      }

      public static final int CYCLESTART_FIELD_NUMBER = 1;
      private com.google.protobuf.Timestamp cycleStart_;
      /**
       * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
       * @return Whether the cycleStart field is set.
       */
      @java.lang.Override
      public boolean hasCycleStart() {
        return cycleStart_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
       * @return The cycleStart.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getCycleStart() {
        return cycleStart_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : cycleStart_;
      }
      /**
       * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getCycleStartOrBuilder() {
        return getCycleStart();
      }

      public static final int DURATION_FIELD_NUMBER = 2;
      private com.google.protobuf.Duration duration_;
      /**
       * <code>.google.protobuf.Duration duration = 2;</code>
       * @return Whether the duration field is set.
       */
      @java.lang.Override
      public boolean hasDuration() {
        return duration_ != null;
      }
      /**
       * <code>.google.protobuf.Duration duration = 2;</code>
       * @return The duration.
       */
      @java.lang.Override
      public com.google.protobuf.Duration getDuration() {
        return duration_ == null ? com.google.protobuf.Duration.getDefaultInstance() : duration_;
      }
      /**
       * <code>.google.protobuf.Duration duration = 2;</code>
       */
      @java.lang.Override
      public com.google.protobuf.DurationOrBuilder getDurationOrBuilder() {
        return getDuration();
      }

      public static final int ISCOMPLETE_FIELD_NUMBER = 3;
      private boolean isComplete_;
      /**
       * <code>bool isComplete = 3;</code>
       * @return The isComplete.
       */
      @java.lang.Override
      public boolean getIsComplete() {
        return isComplete_;
      }

      public static final int HEAT1_FIELD_NUMBER = 10;
      private boolean heat1_;
      /**
       * <code>bool heat1 = 10;</code>
       * @return The heat1.
       */
      @java.lang.Override
      public boolean getHeat1() {
        return heat1_;
      }

      public static final int HEAT2_FIELD_NUMBER = 11;
      private boolean heat2_;
      /**
       * <code>bool heat2 = 11;</code>
       * @return The heat2.
       */
      @java.lang.Override
      public boolean getHeat2() {
        return heat2_;
      }

      public static final int HEAT3_FIELD_NUMBER = 12;
      private boolean heat3_;
      /**
       * <code>bool heat3 = 12;</code>
       * @return The heat3.
       */
      @java.lang.Override
      public boolean getHeat3() {
        return heat3_;
      }

      public static final int HEATAUX_FIELD_NUMBER = 13;
      private boolean heatAux_;
      /**
       * <code>bool heatAux = 13;</code>
       * @return The heatAux.
       */
      @java.lang.Override
      public boolean getHeatAux() {
        return heatAux_;
      }

      public static final int ALTHEAT_FIELD_NUMBER = 14;
      private boolean altHeat_;
      /**
       * <code>bool altHeat = 14;</code>
       * @return The altHeat.
       */
      @java.lang.Override
      public boolean getAltHeat() {
        return altHeat_;
      }

      public static final int ALTHEAT2_FIELD_NUMBER = 15;
      private boolean altHeat2_;
      /**
       * <code>bool altHeat2 = 15;</code>
       * @return The altHeat2.
       */
      @java.lang.Override
      public boolean getAltHeat2() {
        return altHeat2_;
      }

      public static final int EMERGENCYHEAT_FIELD_NUMBER = 16;
      private boolean emergencyHeat_;
      /**
       * <code>bool emergencyHeat = 16;</code>
       * @return The emergencyHeat.
       */
      @java.lang.Override
      public boolean getEmergencyHeat() {
        return emergencyHeat_;
      }

      public static final int COOL1_FIELD_NUMBER = 17;
      private boolean cool1_;
      /**
       * <code>bool cool1 = 17;</code>
       * @return The cool1.
       */
      @java.lang.Override
      public boolean getCool1() {
        return cool1_;
      }

      public static final int COOL2_FIELD_NUMBER = 18;
      private boolean cool2_;
      /**
       * <code>bool cool2 = 18;</code>
       * @return The cool2.
       */
      @java.lang.Override
      public boolean getCool2() {
        return cool2_;
      }

      public static final int COOL3_FIELD_NUMBER = 19;
      private boolean cool3_;
      /**
       * <code>bool cool3 = 19;</code>
       * @return The cool3.
       */
      @java.lang.Override
      public boolean getCool3() {
        return cool3_;
      }

      public static final int FAN_FIELD_NUMBER = 20;
      private boolean fan_;
      /**
       * <code>bool fan = 20;</code>
       * @return The fan.
       */
      @java.lang.Override
      public boolean getFan() {
        return fan_;
      }

      public static final int FANCOOLING_FIELD_NUMBER = 21;
      private boolean fanCooling_;
      /**
       * <code>bool fanCooling = 21;</code>
       * @return The fanCooling.
       */
      @java.lang.Override
      public boolean getFanCooling() {
        return fanCooling_;
      }

      public static final int HUMIDIFIER_FIELD_NUMBER = 22;
      private boolean humidifier_;
      /**
       * <code>bool humidifier = 22;</code>
       * @return The humidifier.
       */
      @java.lang.Override
      public boolean getHumidifier() {
        return humidifier_;
      }

      public static final int DEHUMIDIFIER_FIELD_NUMBER = 23;
      private boolean dehumidifier_;
      /**
       * <code>bool dehumidifier = 23;</code>
       * @return The dehumidifier.
       */
      @java.lang.Override
      public boolean getDehumidifier() {
        return dehumidifier_;
      }

      public static final int AUTODEHUMDIFIER_FIELD_NUMBER = 24;
      private boolean autoDehumdifier_;
      /**
       * <code>bool autoDehumdifier = 24;</code>
       * @return The autoDehumdifier.
       */
      @java.lang.Override
      public boolean getAutoDehumdifier() {
        return autoDehumdifier_;
      }

      public static final int WATERHEATER_FIELD_NUMBER = 25;
      private boolean waterHeater_;
      /**
       * <code>bool waterHeater = 25;</code>
       * @return The waterHeater.
       */
      @java.lang.Override
      public boolean getWaterHeater() {
        return waterHeater_;
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (cycleStart_ != null) {
          output.writeMessage(1, getCycleStart());
        }
        if (duration_ != null) {
          output.writeMessage(2, getDuration());
        }
        if (isComplete_ != false) {
          output.writeBool(3, isComplete_);
        }
        if (heat1_ != false) {
          output.writeBool(10, heat1_);
        }
        if (heat2_ != false) {
          output.writeBool(11, heat2_);
        }
        if (heat3_ != false) {
          output.writeBool(12, heat3_);
        }
        if (heatAux_ != false) {
          output.writeBool(13, heatAux_);
        }
        if (altHeat_ != false) {
          output.writeBool(14, altHeat_);
        }
        if (altHeat2_ != false) {
          output.writeBool(15, altHeat2_);
        }
        if (emergencyHeat_ != false) {
          output.writeBool(16, emergencyHeat_);
        }
        if (cool1_ != false) {
          output.writeBool(17, cool1_);
        }
        if (cool2_ != false) {
          output.writeBool(18, cool2_);
        }
        if (cool3_ != false) {
          output.writeBool(19, cool3_);
        }
        if (fan_ != false) {
          output.writeBool(20, fan_);
        }
        if (fanCooling_ != false) {
          output.writeBool(21, fanCooling_);
        }
        if (humidifier_ != false) {
          output.writeBool(22, humidifier_);
        }
        if (dehumidifier_ != false) {
          output.writeBool(23, dehumidifier_);
        }
        if (autoDehumdifier_ != false) {
          output.writeBool(24, autoDehumdifier_);
        }
        if (waterHeater_ != false) {
          output.writeBool(25, waterHeater_);
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (cycleStart_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getCycleStart());
        }
        if (duration_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getDuration());
        }
        if (isComplete_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(3, isComplete_);
        }
        if (heat1_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(10, heat1_);
        }
        if (heat2_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(11, heat2_);
        }
        if (heat3_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(12, heat3_);
        }
        if (heatAux_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(13, heatAux_);
        }
        if (altHeat_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(14, altHeat_);
        }
        if (altHeat2_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(15, altHeat2_);
        }
        if (emergencyHeat_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(16, emergencyHeat_);
        }
        if (cool1_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(17, cool1_);
        }
        if (cool2_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(18, cool2_);
        }
        if (cool3_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(19, cool3_);
        }
        if (fan_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(20, fan_);
        }
        if (fanCooling_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(21, fanCooling_);
        }
        if (humidifier_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(22, humidifier_);
        }
        if (dehumidifier_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(23, dehumidifier_);
        }
        if (autoDehumdifier_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(24, autoDehumdifier_);
        }
        if (waterHeater_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(25, waterHeater_);
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle other = (nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle) obj;

        if (hasCycleStart() != other.hasCycleStart()) return false;
        if (hasCycleStart()) {
          if (!getCycleStart()
              .equals(other.getCycleStart())) return false;
        }
        if (hasDuration() != other.hasDuration()) return false;
        if (hasDuration()) {
          if (!getDuration()
              .equals(other.getDuration())) return false;
        }
        if (getIsComplete()
            != other.getIsComplete()) return false;
        if (getHeat1()
            != other.getHeat1()) return false;
        if (getHeat2()
            != other.getHeat2()) return false;
        if (getHeat3()
            != other.getHeat3()) return false;
        if (getHeatAux()
            != other.getHeatAux()) return false;
        if (getAltHeat()
            != other.getAltHeat()) return false;
        if (getAltHeat2()
            != other.getAltHeat2()) return false;
        if (getEmergencyHeat()
            != other.getEmergencyHeat()) return false;
        if (getCool1()
            != other.getCool1()) return false;
        if (getCool2()
            != other.getCool2()) return false;
        if (getCool3()
            != other.getCool3()) return false;
        if (getFan()
            != other.getFan()) return false;
        if (getFanCooling()
            != other.getFanCooling()) return false;
        if (getHumidifier()
            != other.getHumidifier()) return false;
        if (getDehumidifier()
            != other.getDehumidifier()) return false;
        if (getAutoDehumdifier()
            != other.getAutoDehumdifier()) return false;
        if (getWaterHeater()
            != other.getWaterHeater()) return false;
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasCycleStart()) {
          hash = (37 * hash) + CYCLESTART_FIELD_NUMBER;
          hash = (53 * hash) + getCycleStart().hashCode();
        }
        if (hasDuration()) {
          hash = (37 * hash) + DURATION_FIELD_NUMBER;
          hash = (53 * hash) + getDuration().hashCode();
        }
        hash = (37 * hash) + ISCOMPLETE_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getIsComplete());
        hash = (37 * hash) + HEAT1_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHeat1());
        hash = (37 * hash) + HEAT2_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHeat2());
        hash = (37 * hash) + HEAT3_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHeat3());
        hash = (37 * hash) + HEATAUX_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHeatAux());
        hash = (37 * hash) + ALTHEAT_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getAltHeat());
        hash = (37 * hash) + ALTHEAT2_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getAltHeat2());
        hash = (37 * hash) + EMERGENCYHEAT_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getEmergencyHeat());
        hash = (37 * hash) + COOL1_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getCool1());
        hash = (37 * hash) + COOL2_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getCool2());
        hash = (37 * hash) + COOL3_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getCool3());
        hash = (37 * hash) + FAN_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getFan());
        hash = (37 * hash) + FANCOOLING_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getFanCooling());
        hash = (37 * hash) + HUMIDIFIER_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHumidifier());
        hash = (37 * hash) + DEHUMIDIFIER_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getDehumidifier());
        hash = (37 * hash) + AUTODEHUMDIFIER_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getAutoDehumdifier());
        hash = (37 * hash) + WATERHEATER_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getWaterHeater());
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle)
          nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycleOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACCycle_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACCycle_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.class, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (cycleStartBuilder_ == null) {
            cycleStart_ = null;
          } else {
            cycleStart_ = null;
            cycleStartBuilder_ = null;
          }
          if (durationBuilder_ == null) {
            duration_ = null;
          } else {
            duration_ = null;
            durationBuilder_ = null;
          }
          isComplete_ = false;

          heat1_ = false;

          heat2_ = false;

          heat3_ = false;

          heatAux_ = false;

          altHeat_ = false;

          altHeat2_ = false;

          emergencyHeat_ = false;

          cool1_ = false;

          cool2_ = false;

          cool3_ = false;

          fan_ = false;

          fanCooling_ = false;

          humidifier_ = false;

          dehumidifier_ = false;

          autoDehumdifier_ = false;

          waterHeater_ = false;

          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACCycle_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle result = new nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle(this);
          if (cycleStartBuilder_ == null) {
            result.cycleStart_ = cycleStart_;
          } else {
            result.cycleStart_ = cycleStartBuilder_.build();
          }
          if (durationBuilder_ == null) {
            result.duration_ = duration_;
          } else {
            result.duration_ = durationBuilder_.build();
          }
          result.isComplete_ = isComplete_;
          result.heat1_ = heat1_;
          result.heat2_ = heat2_;
          result.heat3_ = heat3_;
          result.heatAux_ = heatAux_;
          result.altHeat_ = altHeat_;
          result.altHeat2_ = altHeat2_;
          result.emergencyHeat_ = emergencyHeat_;
          result.cool1_ = cool1_;
          result.cool2_ = cool2_;
          result.cool3_ = cool3_;
          result.fan_ = fan_;
          result.fanCooling_ = fanCooling_;
          result.humidifier_ = humidifier_;
          result.dehumidifier_ = dehumidifier_;
          result.autoDehumdifier_ = autoDehumdifier_;
          result.waterHeater_ = waterHeater_;
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle.getDefaultInstance()) return this;
          if (other.hasCycleStart()) {
            mergeCycleStart(other.getCycleStart());
          }
          if (other.hasDuration()) {
            mergeDuration(other.getDuration());
          }
          if (other.getIsComplete() != false) {
            setIsComplete(other.getIsComplete());
          }
          if (other.getHeat1() != false) {
            setHeat1(other.getHeat1());
          }
          if (other.getHeat2() != false) {
            setHeat2(other.getHeat2());
          }
          if (other.getHeat3() != false) {
            setHeat3(other.getHeat3());
          }
          if (other.getHeatAux() != false) {
            setHeatAux(other.getHeatAux());
          }
          if (other.getAltHeat() != false) {
            setAltHeat(other.getAltHeat());
          }
          if (other.getAltHeat2() != false) {
            setAltHeat2(other.getAltHeat2());
          }
          if (other.getEmergencyHeat() != false) {
            setEmergencyHeat(other.getEmergencyHeat());
          }
          if (other.getCool1() != false) {
            setCool1(other.getCool1());
          }
          if (other.getCool2() != false) {
            setCool2(other.getCool2());
          }
          if (other.getCool3() != false) {
            setCool3(other.getCool3());
          }
          if (other.getFan() != false) {
            setFan(other.getFan());
          }
          if (other.getFanCooling() != false) {
            setFanCooling(other.getFanCooling());
          }
          if (other.getHumidifier() != false) {
            setHumidifier(other.getHumidifier());
          }
          if (other.getDehumidifier() != false) {
            setDehumidifier(other.getDehumidifier());
          }
          if (other.getAutoDehumdifier() != false) {
            setAutoDehumdifier(other.getAutoDehumdifier());
          }
          if (other.getWaterHeater() != false) {
            setWaterHeater(other.getWaterHeater());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private com.google.protobuf.Timestamp cycleStart_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> cycleStartBuilder_;
        /**
         * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
         * @return Whether the cycleStart field is set.
         */
        public boolean hasCycleStart() {
          return cycleStartBuilder_ != null || cycleStart_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
         * @return The cycleStart.
         */
        public com.google.protobuf.Timestamp getCycleStart() {
          if (cycleStartBuilder_ == null) {
            return cycleStart_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : cycleStart_;
          } else {
            return cycleStartBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
         */
        public Builder setCycleStart(com.google.protobuf.Timestamp value) {
          if (cycleStartBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            cycleStart_ = value;
            onChanged();
          } else {
            cycleStartBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
         */
        public Builder setCycleStart(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (cycleStartBuilder_ == null) {
            cycleStart_ = builderForValue.build();
            onChanged();
          } else {
            cycleStartBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
         */
        public Builder mergeCycleStart(com.google.protobuf.Timestamp value) {
          if (cycleStartBuilder_ == null) {
            if (cycleStart_ != null) {
              cycleStart_ =
                com.google.protobuf.Timestamp.newBuilder(cycleStart_).mergeFrom(value).buildPartial();
            } else {
              cycleStart_ = value;
            }
            onChanged();
          } else {
            cycleStartBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
         */
        public Builder clearCycleStart() {
          if (cycleStartBuilder_ == null) {
            cycleStart_ = null;
            onChanged();
          } else {
            cycleStart_ = null;
            cycleStartBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
         */
        public com.google.protobuf.Timestamp.Builder getCycleStartBuilder() {
          
          onChanged();
          return getCycleStartFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getCycleStartOrBuilder() {
          if (cycleStartBuilder_ != null) {
            return cycleStartBuilder_.getMessageOrBuilder();
          } else {
            return cycleStart_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : cycleStart_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp cycleStart = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getCycleStartFieldBuilder() {
          if (cycleStartBuilder_ == null) {
            cycleStartBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getCycleStart(),
                    getParentForChildren(),
                    isClean());
            cycleStart_ = null;
          }
          return cycleStartBuilder_;
        }

        private com.google.protobuf.Duration duration_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> durationBuilder_;
        /**
         * <code>.google.protobuf.Duration duration = 2;</code>
         * @return Whether the duration field is set.
         */
        public boolean hasDuration() {
          return durationBuilder_ != null || duration_ != null;
        }
        /**
         * <code>.google.protobuf.Duration duration = 2;</code>
         * @return The duration.
         */
        public com.google.protobuf.Duration getDuration() {
          if (durationBuilder_ == null) {
            return duration_ == null ? com.google.protobuf.Duration.getDefaultInstance() : duration_;
          } else {
            return durationBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Duration duration = 2;</code>
         */
        public Builder setDuration(com.google.protobuf.Duration value) {
          if (durationBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            duration_ = value;
            onChanged();
          } else {
            durationBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration duration = 2;</code>
         */
        public Builder setDuration(
            com.google.protobuf.Duration.Builder builderForValue) {
          if (durationBuilder_ == null) {
            duration_ = builderForValue.build();
            onChanged();
          } else {
            durationBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration duration = 2;</code>
         */
        public Builder mergeDuration(com.google.protobuf.Duration value) {
          if (durationBuilder_ == null) {
            if (duration_ != null) {
              duration_ =
                com.google.protobuf.Duration.newBuilder(duration_).mergeFrom(value).buildPartial();
            } else {
              duration_ = value;
            }
            onChanged();
          } else {
            durationBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration duration = 2;</code>
         */
        public Builder clearDuration() {
          if (durationBuilder_ == null) {
            duration_ = null;
            onChanged();
          } else {
            duration_ = null;
            durationBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration duration = 2;</code>
         */
        public com.google.protobuf.Duration.Builder getDurationBuilder() {
          
          onChanged();
          return getDurationFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Duration duration = 2;</code>
         */
        public com.google.protobuf.DurationOrBuilder getDurationOrBuilder() {
          if (durationBuilder_ != null) {
            return durationBuilder_.getMessageOrBuilder();
          } else {
            return duration_ == null ?
                com.google.protobuf.Duration.getDefaultInstance() : duration_;
          }
        }
        /**
         * <code>.google.protobuf.Duration duration = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> 
            getDurationFieldBuilder() {
          if (durationBuilder_ == null) {
            durationBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder>(
                    getDuration(),
                    getParentForChildren(),
                    isClean());
            duration_ = null;
          }
          return durationBuilder_;
        }

        private boolean isComplete_ ;
        /**
         * <code>bool isComplete = 3;</code>
         * @return The isComplete.
         */
        @java.lang.Override
        public boolean getIsComplete() {
          return isComplete_;
        }
        /**
         * <code>bool isComplete = 3;</code>
         * @param value The isComplete to set.
         * @return This builder for chaining.
         */
        public Builder setIsComplete(boolean value) {
          
          isComplete_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool isComplete = 3;</code>
         * @return This builder for chaining.
         */
        public Builder clearIsComplete() {
          
          isComplete_ = false;
          onChanged();
          return this;
        }

        private boolean heat1_ ;
        /**
         * <code>bool heat1 = 10;</code>
         * @return The heat1.
         */
        @java.lang.Override
        public boolean getHeat1() {
          return heat1_;
        }
        /**
         * <code>bool heat1 = 10;</code>
         * @param value The heat1 to set.
         * @return This builder for chaining.
         */
        public Builder setHeat1(boolean value) {
          
          heat1_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool heat1 = 10;</code>
         * @return This builder for chaining.
         */
        public Builder clearHeat1() {
          
          heat1_ = false;
          onChanged();
          return this;
        }

        private boolean heat2_ ;
        /**
         * <code>bool heat2 = 11;</code>
         * @return The heat2.
         */
        @java.lang.Override
        public boolean getHeat2() {
          return heat2_;
        }
        /**
         * <code>bool heat2 = 11;</code>
         * @param value The heat2 to set.
         * @return This builder for chaining.
         */
        public Builder setHeat2(boolean value) {
          
          heat2_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool heat2 = 11;</code>
         * @return This builder for chaining.
         */
        public Builder clearHeat2() {
          
          heat2_ = false;
          onChanged();
          return this;
        }

        private boolean heat3_ ;
        /**
         * <code>bool heat3 = 12;</code>
         * @return The heat3.
         */
        @java.lang.Override
        public boolean getHeat3() {
          return heat3_;
        }
        /**
         * <code>bool heat3 = 12;</code>
         * @param value The heat3 to set.
         * @return This builder for chaining.
         */
        public Builder setHeat3(boolean value) {
          
          heat3_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool heat3 = 12;</code>
         * @return This builder for chaining.
         */
        public Builder clearHeat3() {
          
          heat3_ = false;
          onChanged();
          return this;
        }

        private boolean heatAux_ ;
        /**
         * <code>bool heatAux = 13;</code>
         * @return The heatAux.
         */
        @java.lang.Override
        public boolean getHeatAux() {
          return heatAux_;
        }
        /**
         * <code>bool heatAux = 13;</code>
         * @param value The heatAux to set.
         * @return This builder for chaining.
         */
        public Builder setHeatAux(boolean value) {
          
          heatAux_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool heatAux = 13;</code>
         * @return This builder for chaining.
         */
        public Builder clearHeatAux() {
          
          heatAux_ = false;
          onChanged();
          return this;
        }

        private boolean altHeat_ ;
        /**
         * <code>bool altHeat = 14;</code>
         * @return The altHeat.
         */
        @java.lang.Override
        public boolean getAltHeat() {
          return altHeat_;
        }
        /**
         * <code>bool altHeat = 14;</code>
         * @param value The altHeat to set.
         * @return This builder for chaining.
         */
        public Builder setAltHeat(boolean value) {
          
          altHeat_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool altHeat = 14;</code>
         * @return This builder for chaining.
         */
        public Builder clearAltHeat() {
          
          altHeat_ = false;
          onChanged();
          return this;
        }

        private boolean altHeat2_ ;
        /**
         * <code>bool altHeat2 = 15;</code>
         * @return The altHeat2.
         */
        @java.lang.Override
        public boolean getAltHeat2() {
          return altHeat2_;
        }
        /**
         * <code>bool altHeat2 = 15;</code>
         * @param value The altHeat2 to set.
         * @return This builder for chaining.
         */
        public Builder setAltHeat2(boolean value) {
          
          altHeat2_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool altHeat2 = 15;</code>
         * @return This builder for chaining.
         */
        public Builder clearAltHeat2() {
          
          altHeat2_ = false;
          onChanged();
          return this;
        }

        private boolean emergencyHeat_ ;
        /**
         * <code>bool emergencyHeat = 16;</code>
         * @return The emergencyHeat.
         */
        @java.lang.Override
        public boolean getEmergencyHeat() {
          return emergencyHeat_;
        }
        /**
         * <code>bool emergencyHeat = 16;</code>
         * @param value The emergencyHeat to set.
         * @return This builder for chaining.
         */
        public Builder setEmergencyHeat(boolean value) {
          
          emergencyHeat_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool emergencyHeat = 16;</code>
         * @return This builder for chaining.
         */
        public Builder clearEmergencyHeat() {
          
          emergencyHeat_ = false;
          onChanged();
          return this;
        }

        private boolean cool1_ ;
        /**
         * <code>bool cool1 = 17;</code>
         * @return The cool1.
         */
        @java.lang.Override
        public boolean getCool1() {
          return cool1_;
        }
        /**
         * <code>bool cool1 = 17;</code>
         * @param value The cool1 to set.
         * @return This builder for chaining.
         */
        public Builder setCool1(boolean value) {
          
          cool1_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool cool1 = 17;</code>
         * @return This builder for chaining.
         */
        public Builder clearCool1() {
          
          cool1_ = false;
          onChanged();
          return this;
        }

        private boolean cool2_ ;
        /**
         * <code>bool cool2 = 18;</code>
         * @return The cool2.
         */
        @java.lang.Override
        public boolean getCool2() {
          return cool2_;
        }
        /**
         * <code>bool cool2 = 18;</code>
         * @param value The cool2 to set.
         * @return This builder for chaining.
         */
        public Builder setCool2(boolean value) {
          
          cool2_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool cool2 = 18;</code>
         * @return This builder for chaining.
         */
        public Builder clearCool2() {
          
          cool2_ = false;
          onChanged();
          return this;
        }

        private boolean cool3_ ;
        /**
         * <code>bool cool3 = 19;</code>
         * @return The cool3.
         */
        @java.lang.Override
        public boolean getCool3() {
          return cool3_;
        }
        /**
         * <code>bool cool3 = 19;</code>
         * @param value The cool3 to set.
         * @return This builder for chaining.
         */
        public Builder setCool3(boolean value) {
          
          cool3_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool cool3 = 19;</code>
         * @return This builder for chaining.
         */
        public Builder clearCool3() {
          
          cool3_ = false;
          onChanged();
          return this;
        }

        private boolean fan_ ;
        /**
         * <code>bool fan = 20;</code>
         * @return The fan.
         */
        @java.lang.Override
        public boolean getFan() {
          return fan_;
        }
        /**
         * <code>bool fan = 20;</code>
         * @param value The fan to set.
         * @return This builder for chaining.
         */
        public Builder setFan(boolean value) {
          
          fan_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool fan = 20;</code>
         * @return This builder for chaining.
         */
        public Builder clearFan() {
          
          fan_ = false;
          onChanged();
          return this;
        }

        private boolean fanCooling_ ;
        /**
         * <code>bool fanCooling = 21;</code>
         * @return The fanCooling.
         */
        @java.lang.Override
        public boolean getFanCooling() {
          return fanCooling_;
        }
        /**
         * <code>bool fanCooling = 21;</code>
         * @param value The fanCooling to set.
         * @return This builder for chaining.
         */
        public Builder setFanCooling(boolean value) {
          
          fanCooling_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool fanCooling = 21;</code>
         * @return This builder for chaining.
         */
        public Builder clearFanCooling() {
          
          fanCooling_ = false;
          onChanged();
          return this;
        }

        private boolean humidifier_ ;
        /**
         * <code>bool humidifier = 22;</code>
         * @return The humidifier.
         */
        @java.lang.Override
        public boolean getHumidifier() {
          return humidifier_;
        }
        /**
         * <code>bool humidifier = 22;</code>
         * @param value The humidifier to set.
         * @return This builder for chaining.
         */
        public Builder setHumidifier(boolean value) {
          
          humidifier_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool humidifier = 22;</code>
         * @return This builder for chaining.
         */
        public Builder clearHumidifier() {
          
          humidifier_ = false;
          onChanged();
          return this;
        }

        private boolean dehumidifier_ ;
        /**
         * <code>bool dehumidifier = 23;</code>
         * @return The dehumidifier.
         */
        @java.lang.Override
        public boolean getDehumidifier() {
          return dehumidifier_;
        }
        /**
         * <code>bool dehumidifier = 23;</code>
         * @param value The dehumidifier to set.
         * @return This builder for chaining.
         */
        public Builder setDehumidifier(boolean value) {
          
          dehumidifier_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool dehumidifier = 23;</code>
         * @return This builder for chaining.
         */
        public Builder clearDehumidifier() {
          
          dehumidifier_ = false;
          onChanged();
          return this;
        }

        private boolean autoDehumdifier_ ;
        /**
         * <code>bool autoDehumdifier = 24;</code>
         * @return The autoDehumdifier.
         */
        @java.lang.Override
        public boolean getAutoDehumdifier() {
          return autoDehumdifier_;
        }
        /**
         * <code>bool autoDehumdifier = 24;</code>
         * @param value The autoDehumdifier to set.
         * @return This builder for chaining.
         */
        public Builder setAutoDehumdifier(boolean value) {
          
          autoDehumdifier_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool autoDehumdifier = 24;</code>
         * @return This builder for chaining.
         */
        public Builder clearAutoDehumdifier() {
          
          autoDehumdifier_ = false;
          onChanged();
          return this;
        }

        private boolean waterHeater_ ;
        /**
         * <code>bool waterHeater = 25;</code>
         * @return The waterHeater.
         */
        @java.lang.Override
        public boolean getWaterHeater() {
          return waterHeater_;
        }
        /**
         * <code>bool waterHeater = 25;</code>
         * @param value The waterHeater to set.
         * @return This builder for chaining.
         */
        public Builder setWaterHeater(boolean value) {
          
          waterHeater_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool waterHeater = 25;</code>
         * @return This builder for chaining.
         */
        public Builder clearWaterHeater() {
          
          waterHeater_ = false;
          onChanged();
          return this;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyHVACCycle)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyHVACCycle>
          PARSER = new com.google.protobuf.AbstractParser<LegacyHVACCycle>() {
        @java.lang.Override
        public LegacyHVACCycle parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyHVACCycle(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyHVACCycle> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyHVACCycle> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACCycle getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacySystemCapabilitiesOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>bool hasStage1Cool = 1;</code>
       * @return The hasStage1Cool.
       */
      boolean getHasStage1Cool();

      /**
       * <code>bool hasStage2Cool = 2;</code>
       * @return The hasStage2Cool.
       */
      boolean getHasStage2Cool();

      /**
       * <code>bool hasStage3Cool = 3;</code>
       * @return The hasStage3Cool.
       */
      boolean getHasStage3Cool();

      /**
       * <code>bool hasStage1Heat = 4;</code>
       * @return The hasStage1Heat.
       */
      boolean getHasStage1Heat();

      /**
       * <code>bool hasStage2Heat = 5;</code>
       * @return The hasStage2Heat.
       */
      boolean getHasStage2Heat();

      /**
       * <code>bool hasStage3Heat = 6;</code>
       * @return The hasStage3Heat.
       */
      boolean getHasStage3Heat();

      /**
       * <code>bool hasStage1AlternateHeat = 7;</code>
       * @return The hasStage1AlternateHeat.
       */
      boolean getHasStage1AlternateHeat();

      /**
       * <code>bool hasStage2AlternateHeat = 8;</code>
       * @return The hasStage2AlternateHeat.
       */
      boolean getHasStage2AlternateHeat();

      /**
       * <code>bool hasHumidifier = 9;</code>
       * @return The hasHumidifier.
       */
      boolean getHasHumidifier();

      /**
       * <code>bool hasDehumidifier = 10;</code>
       * @return The hasDehumidifier.
       */
      boolean getHasDehumidifier();

      /**
       * <code>bool hasDualFuel = 11;</code>
       * @return The hasDualFuel.
       */
      boolean getHasDualFuel();

      /**
       * <code>bool hasAuxHeat = 12;</code>
       * @return The hasAuxHeat.
       */
      boolean getHasAuxHeat();

      /**
       * <code>bool hasEmergencyHeat = 13;</code>
       * @return The hasEmergencyHeat.
       */
      boolean getHasEmergencyHeat();

      /**
       * <code>bool hasAirFilter = 14;</code>
       * @return The hasAirFilter.
       */
      boolean getHasAirFilter();

      /**
       * <code>bool hasFossilFuel = 15;</code>
       * @return The hasFossilFuel.
       */
      boolean getHasFossilFuel();

      /**
       * <code>bool hasHotWaterControl = 16;</code>
       * @return The hasHotWaterControl.
       */
      boolean getHasHotWaterControl();

      /**
       * <code>bool hasHeatPump = 17;</code>
       * @return The hasHeatPump.
       */
      boolean getHasHeatPump();

      /**
       * <code>bool hasHotWaterTemperature = 18;</code>
       * @return The hasHotWaterTemperature.
       */
      boolean getHasHotWaterTemperature();

      /**
       * <code>bool hasFan = 19;</code>
       * @return The hasFan.
       */
      boolean getHasFan();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities}
     */
    public static final class LegacySystemCapabilities extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities)
        LegacySystemCapabilitiesOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacySystemCapabilities.newBuilder() to construct.
      private LegacySystemCapabilities(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacySystemCapabilities() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacySystemCapabilities();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacySystemCapabilities(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 8: {

                hasStage1Cool_ = input.readBool();
                break;
              }
              case 16: {

                hasStage2Cool_ = input.readBool();
                break;
              }
              case 24: {

                hasStage3Cool_ = input.readBool();
                break;
              }
              case 32: {

                hasStage1Heat_ = input.readBool();
                break;
              }
              case 40: {

                hasStage2Heat_ = input.readBool();
                break;
              }
              case 48: {

                hasStage3Heat_ = input.readBool();
                break;
              }
              case 56: {

                hasStage1AlternateHeat_ = input.readBool();
                break;
              }
              case 64: {

                hasStage2AlternateHeat_ = input.readBool();
                break;
              }
              case 72: {

                hasHumidifier_ = input.readBool();
                break;
              }
              case 80: {

                hasDehumidifier_ = input.readBool();
                break;
              }
              case 88: {

                hasDualFuel_ = input.readBool();
                break;
              }
              case 96: {

                hasAuxHeat_ = input.readBool();
                break;
              }
              case 104: {

                hasEmergencyHeat_ = input.readBool();
                break;
              }
              case 112: {

                hasAirFilter_ = input.readBool();
                break;
              }
              case 120: {

                hasFossilFuel_ = input.readBool();
                break;
              }
              case 128: {

                hasHotWaterControl_ = input.readBool();
                break;
              }
              case 136: {

                hasHeatPump_ = input.readBool();
                break;
              }
              case 144: {

                hasHotWaterTemperature_ = input.readBool();
                break;
              }
              case 152: {

                hasFan_ = input.readBool();
                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacySystemCapabilities_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacySystemCapabilities_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.class, nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.Builder.class);
      }

      public static final int HASSTAGE1COOL_FIELD_NUMBER = 1;
      private boolean hasStage1Cool_;
      /**
       * <code>bool hasStage1Cool = 1;</code>
       * @return The hasStage1Cool.
       */
      @java.lang.Override
      public boolean getHasStage1Cool() {
        return hasStage1Cool_;
      }

      public static final int HASSTAGE2COOL_FIELD_NUMBER = 2;
      private boolean hasStage2Cool_;
      /**
       * <code>bool hasStage2Cool = 2;</code>
       * @return The hasStage2Cool.
       */
      @java.lang.Override
      public boolean getHasStage2Cool() {
        return hasStage2Cool_;
      }

      public static final int HASSTAGE3COOL_FIELD_NUMBER = 3;
      private boolean hasStage3Cool_;
      /**
       * <code>bool hasStage3Cool = 3;</code>
       * @return The hasStage3Cool.
       */
      @java.lang.Override
      public boolean getHasStage3Cool() {
        return hasStage3Cool_;
      }

      public static final int HASSTAGE1HEAT_FIELD_NUMBER = 4;
      private boolean hasStage1Heat_;
      /**
       * <code>bool hasStage1Heat = 4;</code>
       * @return The hasStage1Heat.
       */
      @java.lang.Override
      public boolean getHasStage1Heat() {
        return hasStage1Heat_;
      }

      public static final int HASSTAGE2HEAT_FIELD_NUMBER = 5;
      private boolean hasStage2Heat_;
      /**
       * <code>bool hasStage2Heat = 5;</code>
       * @return The hasStage2Heat.
       */
      @java.lang.Override
      public boolean getHasStage2Heat() {
        return hasStage2Heat_;
      }

      public static final int HASSTAGE3HEAT_FIELD_NUMBER = 6;
      private boolean hasStage3Heat_;
      /**
       * <code>bool hasStage3Heat = 6;</code>
       * @return The hasStage3Heat.
       */
      @java.lang.Override
      public boolean getHasStage3Heat() {
        return hasStage3Heat_;
      }

      public static final int HASSTAGE1ALTERNATEHEAT_FIELD_NUMBER = 7;
      private boolean hasStage1AlternateHeat_;
      /**
       * <code>bool hasStage1AlternateHeat = 7;</code>
       * @return The hasStage1AlternateHeat.
       */
      @java.lang.Override
      public boolean getHasStage1AlternateHeat() {
        return hasStage1AlternateHeat_;
      }

      public static final int HASSTAGE2ALTERNATEHEAT_FIELD_NUMBER = 8;
      private boolean hasStage2AlternateHeat_;
      /**
       * <code>bool hasStage2AlternateHeat = 8;</code>
       * @return The hasStage2AlternateHeat.
       */
      @java.lang.Override
      public boolean getHasStage2AlternateHeat() {
        return hasStage2AlternateHeat_;
      }

      public static final int HASHUMIDIFIER_FIELD_NUMBER = 9;
      private boolean hasHumidifier_;
      /**
       * <code>bool hasHumidifier = 9;</code>
       * @return The hasHumidifier.
       */
      @java.lang.Override
      public boolean getHasHumidifier() {
        return hasHumidifier_;
      }

      public static final int HASDEHUMIDIFIER_FIELD_NUMBER = 10;
      private boolean hasDehumidifier_;
      /**
       * <code>bool hasDehumidifier = 10;</code>
       * @return The hasDehumidifier.
       */
      @java.lang.Override
      public boolean getHasDehumidifier() {
        return hasDehumidifier_;
      }

      public static final int HASDUALFUEL_FIELD_NUMBER = 11;
      private boolean hasDualFuel_;
      /**
       * <code>bool hasDualFuel = 11;</code>
       * @return The hasDualFuel.
       */
      @java.lang.Override
      public boolean getHasDualFuel() {
        return hasDualFuel_;
      }

      public static final int HASAUXHEAT_FIELD_NUMBER = 12;
      private boolean hasAuxHeat_;
      /**
       * <code>bool hasAuxHeat = 12;</code>
       * @return The hasAuxHeat.
       */
      @java.lang.Override
      public boolean getHasAuxHeat() {
        return hasAuxHeat_;
      }

      public static final int HASEMERGENCYHEAT_FIELD_NUMBER = 13;
      private boolean hasEmergencyHeat_;
      /**
       * <code>bool hasEmergencyHeat = 13;</code>
       * @return The hasEmergencyHeat.
       */
      @java.lang.Override
      public boolean getHasEmergencyHeat() {
        return hasEmergencyHeat_;
      }

      public static final int HASAIRFILTER_FIELD_NUMBER = 14;
      private boolean hasAirFilter_;
      /**
       * <code>bool hasAirFilter = 14;</code>
       * @return The hasAirFilter.
       */
      @java.lang.Override
      public boolean getHasAirFilter() {
        return hasAirFilter_;
      }

      public static final int HASFOSSILFUEL_FIELD_NUMBER = 15;
      private boolean hasFossilFuel_;
      /**
       * <code>bool hasFossilFuel = 15;</code>
       * @return The hasFossilFuel.
       */
      @java.lang.Override
      public boolean getHasFossilFuel() {
        return hasFossilFuel_;
      }

      public static final int HASHOTWATERCONTROL_FIELD_NUMBER = 16;
      private boolean hasHotWaterControl_;
      /**
       * <code>bool hasHotWaterControl = 16;</code>
       * @return The hasHotWaterControl.
       */
      @java.lang.Override
      public boolean getHasHotWaterControl() {
        return hasHotWaterControl_;
      }

      public static final int HASHEATPUMP_FIELD_NUMBER = 17;
      private boolean hasHeatPump_;
      /**
       * <code>bool hasHeatPump = 17;</code>
       * @return The hasHeatPump.
       */
      @java.lang.Override
      public boolean getHasHeatPump() {
        return hasHeatPump_;
      }

      public static final int HASHOTWATERTEMPERATURE_FIELD_NUMBER = 18;
      private boolean hasHotWaterTemperature_;
      /**
       * <code>bool hasHotWaterTemperature = 18;</code>
       * @return The hasHotWaterTemperature.
       */
      @java.lang.Override
      public boolean getHasHotWaterTemperature() {
        return hasHotWaterTemperature_;
      }

      public static final int HASFAN_FIELD_NUMBER = 19;
      private boolean hasFan_;
      /**
       * <code>bool hasFan = 19;</code>
       * @return The hasFan.
       */
      @java.lang.Override
      public boolean getHasFan() {
        return hasFan_;
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (hasStage1Cool_ != false) {
          output.writeBool(1, hasStage1Cool_);
        }
        if (hasStage2Cool_ != false) {
          output.writeBool(2, hasStage2Cool_);
        }
        if (hasStage3Cool_ != false) {
          output.writeBool(3, hasStage3Cool_);
        }
        if (hasStage1Heat_ != false) {
          output.writeBool(4, hasStage1Heat_);
        }
        if (hasStage2Heat_ != false) {
          output.writeBool(5, hasStage2Heat_);
        }
        if (hasStage3Heat_ != false) {
          output.writeBool(6, hasStage3Heat_);
        }
        if (hasStage1AlternateHeat_ != false) {
          output.writeBool(7, hasStage1AlternateHeat_);
        }
        if (hasStage2AlternateHeat_ != false) {
          output.writeBool(8, hasStage2AlternateHeat_);
        }
        if (hasHumidifier_ != false) {
          output.writeBool(9, hasHumidifier_);
        }
        if (hasDehumidifier_ != false) {
          output.writeBool(10, hasDehumidifier_);
        }
        if (hasDualFuel_ != false) {
          output.writeBool(11, hasDualFuel_);
        }
        if (hasAuxHeat_ != false) {
          output.writeBool(12, hasAuxHeat_);
        }
        if (hasEmergencyHeat_ != false) {
          output.writeBool(13, hasEmergencyHeat_);
        }
        if (hasAirFilter_ != false) {
          output.writeBool(14, hasAirFilter_);
        }
        if (hasFossilFuel_ != false) {
          output.writeBool(15, hasFossilFuel_);
        }
        if (hasHotWaterControl_ != false) {
          output.writeBool(16, hasHotWaterControl_);
        }
        if (hasHeatPump_ != false) {
          output.writeBool(17, hasHeatPump_);
        }
        if (hasHotWaterTemperature_ != false) {
          output.writeBool(18, hasHotWaterTemperature_);
        }
        if (hasFan_ != false) {
          output.writeBool(19, hasFan_);
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (hasStage1Cool_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(1, hasStage1Cool_);
        }
        if (hasStage2Cool_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(2, hasStage2Cool_);
        }
        if (hasStage3Cool_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(3, hasStage3Cool_);
        }
        if (hasStage1Heat_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(4, hasStage1Heat_);
        }
        if (hasStage2Heat_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(5, hasStage2Heat_);
        }
        if (hasStage3Heat_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(6, hasStage3Heat_);
        }
        if (hasStage1AlternateHeat_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(7, hasStage1AlternateHeat_);
        }
        if (hasStage2AlternateHeat_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(8, hasStage2AlternateHeat_);
        }
        if (hasHumidifier_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(9, hasHumidifier_);
        }
        if (hasDehumidifier_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(10, hasDehumidifier_);
        }
        if (hasDualFuel_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(11, hasDualFuel_);
        }
        if (hasAuxHeat_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(12, hasAuxHeat_);
        }
        if (hasEmergencyHeat_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(13, hasEmergencyHeat_);
        }
        if (hasAirFilter_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(14, hasAirFilter_);
        }
        if (hasFossilFuel_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(15, hasFossilFuel_);
        }
        if (hasHotWaterControl_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(16, hasHotWaterControl_);
        }
        if (hasHeatPump_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(17, hasHeatPump_);
        }
        if (hasHotWaterTemperature_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(18, hasHotWaterTemperature_);
        }
        if (hasFan_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(19, hasFan_);
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities other = (nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities) obj;

        if (getHasStage1Cool()
            != other.getHasStage1Cool()) return false;
        if (getHasStage2Cool()
            != other.getHasStage2Cool()) return false;
        if (getHasStage3Cool()
            != other.getHasStage3Cool()) return false;
        if (getHasStage1Heat()
            != other.getHasStage1Heat()) return false;
        if (getHasStage2Heat()
            != other.getHasStage2Heat()) return false;
        if (getHasStage3Heat()
            != other.getHasStage3Heat()) return false;
        if (getHasStage1AlternateHeat()
            != other.getHasStage1AlternateHeat()) return false;
        if (getHasStage2AlternateHeat()
            != other.getHasStage2AlternateHeat()) return false;
        if (getHasHumidifier()
            != other.getHasHumidifier()) return false;
        if (getHasDehumidifier()
            != other.getHasDehumidifier()) return false;
        if (getHasDualFuel()
            != other.getHasDualFuel()) return false;
        if (getHasAuxHeat()
            != other.getHasAuxHeat()) return false;
        if (getHasEmergencyHeat()
            != other.getHasEmergencyHeat()) return false;
        if (getHasAirFilter()
            != other.getHasAirFilter()) return false;
        if (getHasFossilFuel()
            != other.getHasFossilFuel()) return false;
        if (getHasHotWaterControl()
            != other.getHasHotWaterControl()) return false;
        if (getHasHeatPump()
            != other.getHasHeatPump()) return false;
        if (getHasHotWaterTemperature()
            != other.getHasHotWaterTemperature()) return false;
        if (getHasFan()
            != other.getHasFan()) return false;
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + HASSTAGE1COOL_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasStage1Cool());
        hash = (37 * hash) + HASSTAGE2COOL_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasStage2Cool());
        hash = (37 * hash) + HASSTAGE3COOL_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasStage3Cool());
        hash = (37 * hash) + HASSTAGE1HEAT_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasStage1Heat());
        hash = (37 * hash) + HASSTAGE2HEAT_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasStage2Heat());
        hash = (37 * hash) + HASSTAGE3HEAT_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasStage3Heat());
        hash = (37 * hash) + HASSTAGE1ALTERNATEHEAT_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasStage1AlternateHeat());
        hash = (37 * hash) + HASSTAGE2ALTERNATEHEAT_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasStage2AlternateHeat());
        hash = (37 * hash) + HASHUMIDIFIER_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasHumidifier());
        hash = (37 * hash) + HASDEHUMIDIFIER_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasDehumidifier());
        hash = (37 * hash) + HASDUALFUEL_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasDualFuel());
        hash = (37 * hash) + HASAUXHEAT_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasAuxHeat());
        hash = (37 * hash) + HASEMERGENCYHEAT_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasEmergencyHeat());
        hash = (37 * hash) + HASAIRFILTER_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasAirFilter());
        hash = (37 * hash) + HASFOSSILFUEL_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasFossilFuel());
        hash = (37 * hash) + HASHOTWATERCONTROL_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasHotWaterControl());
        hash = (37 * hash) + HASHEATPUMP_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasHeatPump());
        hash = (37 * hash) + HASHOTWATERTEMPERATURE_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasHotWaterTemperature());
        hash = (37 * hash) + HASFAN_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getHasFan());
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities)
          nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilitiesOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacySystemCapabilities_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacySystemCapabilities_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.class, nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          hasStage1Cool_ = false;

          hasStage2Cool_ = false;

          hasStage3Cool_ = false;

          hasStage1Heat_ = false;

          hasStage2Heat_ = false;

          hasStage3Heat_ = false;

          hasStage1AlternateHeat_ = false;

          hasStage2AlternateHeat_ = false;

          hasHumidifier_ = false;

          hasDehumidifier_ = false;

          hasDualFuel_ = false;

          hasAuxHeat_ = false;

          hasEmergencyHeat_ = false;

          hasAirFilter_ = false;

          hasFossilFuel_ = false;

          hasHotWaterControl_ = false;

          hasHeatPump_ = false;

          hasHotWaterTemperature_ = false;

          hasFan_ = false;

          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacySystemCapabilities_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities result = new nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities(this);
          result.hasStage1Cool_ = hasStage1Cool_;
          result.hasStage2Cool_ = hasStage2Cool_;
          result.hasStage3Cool_ = hasStage3Cool_;
          result.hasStage1Heat_ = hasStage1Heat_;
          result.hasStage2Heat_ = hasStage2Heat_;
          result.hasStage3Heat_ = hasStage3Heat_;
          result.hasStage1AlternateHeat_ = hasStage1AlternateHeat_;
          result.hasStage2AlternateHeat_ = hasStage2AlternateHeat_;
          result.hasHumidifier_ = hasHumidifier_;
          result.hasDehumidifier_ = hasDehumidifier_;
          result.hasDualFuel_ = hasDualFuel_;
          result.hasAuxHeat_ = hasAuxHeat_;
          result.hasEmergencyHeat_ = hasEmergencyHeat_;
          result.hasAirFilter_ = hasAirFilter_;
          result.hasFossilFuel_ = hasFossilFuel_;
          result.hasHotWaterControl_ = hasHotWaterControl_;
          result.hasHeatPump_ = hasHeatPump_;
          result.hasHotWaterTemperature_ = hasHotWaterTemperature_;
          result.hasFan_ = hasFan_;
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities.getDefaultInstance()) return this;
          if (other.getHasStage1Cool() != false) {
            setHasStage1Cool(other.getHasStage1Cool());
          }
          if (other.getHasStage2Cool() != false) {
            setHasStage2Cool(other.getHasStage2Cool());
          }
          if (other.getHasStage3Cool() != false) {
            setHasStage3Cool(other.getHasStage3Cool());
          }
          if (other.getHasStage1Heat() != false) {
            setHasStage1Heat(other.getHasStage1Heat());
          }
          if (other.getHasStage2Heat() != false) {
            setHasStage2Heat(other.getHasStage2Heat());
          }
          if (other.getHasStage3Heat() != false) {
            setHasStage3Heat(other.getHasStage3Heat());
          }
          if (other.getHasStage1AlternateHeat() != false) {
            setHasStage1AlternateHeat(other.getHasStage1AlternateHeat());
          }
          if (other.getHasStage2AlternateHeat() != false) {
            setHasStage2AlternateHeat(other.getHasStage2AlternateHeat());
          }
          if (other.getHasHumidifier() != false) {
            setHasHumidifier(other.getHasHumidifier());
          }
          if (other.getHasDehumidifier() != false) {
            setHasDehumidifier(other.getHasDehumidifier());
          }
          if (other.getHasDualFuel() != false) {
            setHasDualFuel(other.getHasDualFuel());
          }
          if (other.getHasAuxHeat() != false) {
            setHasAuxHeat(other.getHasAuxHeat());
          }
          if (other.getHasEmergencyHeat() != false) {
            setHasEmergencyHeat(other.getHasEmergencyHeat());
          }
          if (other.getHasAirFilter() != false) {
            setHasAirFilter(other.getHasAirFilter());
          }
          if (other.getHasFossilFuel() != false) {
            setHasFossilFuel(other.getHasFossilFuel());
          }
          if (other.getHasHotWaterControl() != false) {
            setHasHotWaterControl(other.getHasHotWaterControl());
          }
          if (other.getHasHeatPump() != false) {
            setHasHeatPump(other.getHasHeatPump());
          }
          if (other.getHasHotWaterTemperature() != false) {
            setHasHotWaterTemperature(other.getHasHotWaterTemperature());
          }
          if (other.getHasFan() != false) {
            setHasFan(other.getHasFan());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private boolean hasStage1Cool_ ;
        /**
         * <code>bool hasStage1Cool = 1;</code>
         * @return The hasStage1Cool.
         */
        @java.lang.Override
        public boolean getHasStage1Cool() {
          return hasStage1Cool_;
        }
        /**
         * <code>bool hasStage1Cool = 1;</code>
         * @param value The hasStage1Cool to set.
         * @return This builder for chaining.
         */
        public Builder setHasStage1Cool(boolean value) {
          
          hasStage1Cool_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasStage1Cool = 1;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasStage1Cool() {
          
          hasStage1Cool_ = false;
          onChanged();
          return this;
        }

        private boolean hasStage2Cool_ ;
        /**
         * <code>bool hasStage2Cool = 2;</code>
         * @return The hasStage2Cool.
         */
        @java.lang.Override
        public boolean getHasStage2Cool() {
          return hasStage2Cool_;
        }
        /**
         * <code>bool hasStage2Cool = 2;</code>
         * @param value The hasStage2Cool to set.
         * @return This builder for chaining.
         */
        public Builder setHasStage2Cool(boolean value) {
          
          hasStage2Cool_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasStage2Cool = 2;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasStage2Cool() {
          
          hasStage2Cool_ = false;
          onChanged();
          return this;
        }

        private boolean hasStage3Cool_ ;
        /**
         * <code>bool hasStage3Cool = 3;</code>
         * @return The hasStage3Cool.
         */
        @java.lang.Override
        public boolean getHasStage3Cool() {
          return hasStage3Cool_;
        }
        /**
         * <code>bool hasStage3Cool = 3;</code>
         * @param value The hasStage3Cool to set.
         * @return This builder for chaining.
         */
        public Builder setHasStage3Cool(boolean value) {
          
          hasStage3Cool_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasStage3Cool = 3;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasStage3Cool() {
          
          hasStage3Cool_ = false;
          onChanged();
          return this;
        }

        private boolean hasStage1Heat_ ;
        /**
         * <code>bool hasStage1Heat = 4;</code>
         * @return The hasStage1Heat.
         */
        @java.lang.Override
        public boolean getHasStage1Heat() {
          return hasStage1Heat_;
        }
        /**
         * <code>bool hasStage1Heat = 4;</code>
         * @param value The hasStage1Heat to set.
         * @return This builder for chaining.
         */
        public Builder setHasStage1Heat(boolean value) {
          
          hasStage1Heat_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasStage1Heat = 4;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasStage1Heat() {
          
          hasStage1Heat_ = false;
          onChanged();
          return this;
        }

        private boolean hasStage2Heat_ ;
        /**
         * <code>bool hasStage2Heat = 5;</code>
         * @return The hasStage2Heat.
         */
        @java.lang.Override
        public boolean getHasStage2Heat() {
          return hasStage2Heat_;
        }
        /**
         * <code>bool hasStage2Heat = 5;</code>
         * @param value The hasStage2Heat to set.
         * @return This builder for chaining.
         */
        public Builder setHasStage2Heat(boolean value) {
          
          hasStage2Heat_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasStage2Heat = 5;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasStage2Heat() {
          
          hasStage2Heat_ = false;
          onChanged();
          return this;
        }

        private boolean hasStage3Heat_ ;
        /**
         * <code>bool hasStage3Heat = 6;</code>
         * @return The hasStage3Heat.
         */
        @java.lang.Override
        public boolean getHasStage3Heat() {
          return hasStage3Heat_;
        }
        /**
         * <code>bool hasStage3Heat = 6;</code>
         * @param value The hasStage3Heat to set.
         * @return This builder for chaining.
         */
        public Builder setHasStage3Heat(boolean value) {
          
          hasStage3Heat_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasStage3Heat = 6;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasStage3Heat() {
          
          hasStage3Heat_ = false;
          onChanged();
          return this;
        }

        private boolean hasStage1AlternateHeat_ ;
        /**
         * <code>bool hasStage1AlternateHeat = 7;</code>
         * @return The hasStage1AlternateHeat.
         */
        @java.lang.Override
        public boolean getHasStage1AlternateHeat() {
          return hasStage1AlternateHeat_;
        }
        /**
         * <code>bool hasStage1AlternateHeat = 7;</code>
         * @param value The hasStage1AlternateHeat to set.
         * @return This builder for chaining.
         */
        public Builder setHasStage1AlternateHeat(boolean value) {
          
          hasStage1AlternateHeat_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasStage1AlternateHeat = 7;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasStage1AlternateHeat() {
          
          hasStage1AlternateHeat_ = false;
          onChanged();
          return this;
        }

        private boolean hasStage2AlternateHeat_ ;
        /**
         * <code>bool hasStage2AlternateHeat = 8;</code>
         * @return The hasStage2AlternateHeat.
         */
        @java.lang.Override
        public boolean getHasStage2AlternateHeat() {
          return hasStage2AlternateHeat_;
        }
        /**
         * <code>bool hasStage2AlternateHeat = 8;</code>
         * @param value The hasStage2AlternateHeat to set.
         * @return This builder for chaining.
         */
        public Builder setHasStage2AlternateHeat(boolean value) {
          
          hasStage2AlternateHeat_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasStage2AlternateHeat = 8;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasStage2AlternateHeat() {
          
          hasStage2AlternateHeat_ = false;
          onChanged();
          return this;
        }

        private boolean hasHumidifier_ ;
        /**
         * <code>bool hasHumidifier = 9;</code>
         * @return The hasHumidifier.
         */
        @java.lang.Override
        public boolean getHasHumidifier() {
          return hasHumidifier_;
        }
        /**
         * <code>bool hasHumidifier = 9;</code>
         * @param value The hasHumidifier to set.
         * @return This builder for chaining.
         */
        public Builder setHasHumidifier(boolean value) {
          
          hasHumidifier_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasHumidifier = 9;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasHumidifier() {
          
          hasHumidifier_ = false;
          onChanged();
          return this;
        }

        private boolean hasDehumidifier_ ;
        /**
         * <code>bool hasDehumidifier = 10;</code>
         * @return The hasDehumidifier.
         */
        @java.lang.Override
        public boolean getHasDehumidifier() {
          return hasDehumidifier_;
        }
        /**
         * <code>bool hasDehumidifier = 10;</code>
         * @param value The hasDehumidifier to set.
         * @return This builder for chaining.
         */
        public Builder setHasDehumidifier(boolean value) {
          
          hasDehumidifier_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasDehumidifier = 10;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasDehumidifier() {
          
          hasDehumidifier_ = false;
          onChanged();
          return this;
        }

        private boolean hasDualFuel_ ;
        /**
         * <code>bool hasDualFuel = 11;</code>
         * @return The hasDualFuel.
         */
        @java.lang.Override
        public boolean getHasDualFuel() {
          return hasDualFuel_;
        }
        /**
         * <code>bool hasDualFuel = 11;</code>
         * @param value The hasDualFuel to set.
         * @return This builder for chaining.
         */
        public Builder setHasDualFuel(boolean value) {
          
          hasDualFuel_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasDualFuel = 11;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasDualFuel() {
          
          hasDualFuel_ = false;
          onChanged();
          return this;
        }

        private boolean hasAuxHeat_ ;
        /**
         * <code>bool hasAuxHeat = 12;</code>
         * @return The hasAuxHeat.
         */
        @java.lang.Override
        public boolean getHasAuxHeat() {
          return hasAuxHeat_;
        }
        /**
         * <code>bool hasAuxHeat = 12;</code>
         * @param value The hasAuxHeat to set.
         * @return This builder for chaining.
         */
        public Builder setHasAuxHeat(boolean value) {
          
          hasAuxHeat_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasAuxHeat = 12;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasAuxHeat() {
          
          hasAuxHeat_ = false;
          onChanged();
          return this;
        }

        private boolean hasEmergencyHeat_ ;
        /**
         * <code>bool hasEmergencyHeat = 13;</code>
         * @return The hasEmergencyHeat.
         */
        @java.lang.Override
        public boolean getHasEmergencyHeat() {
          return hasEmergencyHeat_;
        }
        /**
         * <code>bool hasEmergencyHeat = 13;</code>
         * @param value The hasEmergencyHeat to set.
         * @return This builder for chaining.
         */
        public Builder setHasEmergencyHeat(boolean value) {
          
          hasEmergencyHeat_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasEmergencyHeat = 13;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasEmergencyHeat() {
          
          hasEmergencyHeat_ = false;
          onChanged();
          return this;
        }

        private boolean hasAirFilter_ ;
        /**
         * <code>bool hasAirFilter = 14;</code>
         * @return The hasAirFilter.
         */
        @java.lang.Override
        public boolean getHasAirFilter() {
          return hasAirFilter_;
        }
        /**
         * <code>bool hasAirFilter = 14;</code>
         * @param value The hasAirFilter to set.
         * @return This builder for chaining.
         */
        public Builder setHasAirFilter(boolean value) {
          
          hasAirFilter_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasAirFilter = 14;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasAirFilter() {
          
          hasAirFilter_ = false;
          onChanged();
          return this;
        }

        private boolean hasFossilFuel_ ;
        /**
         * <code>bool hasFossilFuel = 15;</code>
         * @return The hasFossilFuel.
         */
        @java.lang.Override
        public boolean getHasFossilFuel() {
          return hasFossilFuel_;
        }
        /**
         * <code>bool hasFossilFuel = 15;</code>
         * @param value The hasFossilFuel to set.
         * @return This builder for chaining.
         */
        public Builder setHasFossilFuel(boolean value) {
          
          hasFossilFuel_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasFossilFuel = 15;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasFossilFuel() {
          
          hasFossilFuel_ = false;
          onChanged();
          return this;
        }

        private boolean hasHotWaterControl_ ;
        /**
         * <code>bool hasHotWaterControl = 16;</code>
         * @return The hasHotWaterControl.
         */
        @java.lang.Override
        public boolean getHasHotWaterControl() {
          return hasHotWaterControl_;
        }
        /**
         * <code>bool hasHotWaterControl = 16;</code>
         * @param value The hasHotWaterControl to set.
         * @return This builder for chaining.
         */
        public Builder setHasHotWaterControl(boolean value) {
          
          hasHotWaterControl_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasHotWaterControl = 16;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasHotWaterControl() {
          
          hasHotWaterControl_ = false;
          onChanged();
          return this;
        }

        private boolean hasHeatPump_ ;
        /**
         * <code>bool hasHeatPump = 17;</code>
         * @return The hasHeatPump.
         */
        @java.lang.Override
        public boolean getHasHeatPump() {
          return hasHeatPump_;
        }
        /**
         * <code>bool hasHeatPump = 17;</code>
         * @param value The hasHeatPump to set.
         * @return This builder for chaining.
         */
        public Builder setHasHeatPump(boolean value) {
          
          hasHeatPump_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasHeatPump = 17;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasHeatPump() {
          
          hasHeatPump_ = false;
          onChanged();
          return this;
        }

        private boolean hasHotWaterTemperature_ ;
        /**
         * <code>bool hasHotWaterTemperature = 18;</code>
         * @return The hasHotWaterTemperature.
         */
        @java.lang.Override
        public boolean getHasHotWaterTemperature() {
          return hasHotWaterTemperature_;
        }
        /**
         * <code>bool hasHotWaterTemperature = 18;</code>
         * @param value The hasHotWaterTemperature to set.
         * @return This builder for chaining.
         */
        public Builder setHasHotWaterTemperature(boolean value) {
          
          hasHotWaterTemperature_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasHotWaterTemperature = 18;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasHotWaterTemperature() {
          
          hasHotWaterTemperature_ = false;
          onChanged();
          return this;
        }

        private boolean hasFan_ ;
        /**
         * <code>bool hasFan = 19;</code>
         * @return The hasFan.
         */
        @java.lang.Override
        public boolean getHasFan() {
          return hasFan_;
        }
        /**
         * <code>bool hasFan = 19;</code>
         * @param value The hasFan to set.
         * @return This builder for chaining.
         */
        public Builder setHasFan(boolean value) {
          
          hasFan_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool hasFan = 19;</code>
         * @return This builder for chaining.
         */
        public Builder clearHasFan() {
          
          hasFan_ = false;
          onChanged();
          return this;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacySystemCapabilities)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacySystemCapabilities>
          PARSER = new com.google.protobuf.AbstractParser<LegacySystemCapabilities>() {
        @java.lang.Override
        public LegacySystemCapabilities parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacySystemCapabilities(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacySystemCapabilities> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacySystemCapabilities> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacySystemCapabilities getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyRatePlanChangeOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.google.protobuf.Timestamp timestamp = 1;</code>
       * @return Whether the timestamp field is set.
       */
      boolean hasTimestamp();
      /**
       * <code>.google.protobuf.Timestamp timestamp = 1;</code>
       * @return The timestamp.
       */
      com.google.protobuf.Timestamp getTimestamp();
      /**
       * <code>.google.protobuf.Timestamp timestamp = 1;</code>
       */
      com.google.protobuf.TimestampOrBuilder getTimestampOrBuilder();

      /**
       * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
       * @return Whether the ratePlanStart field is set.
       */
      boolean hasRatePlanStart();
      /**
       * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
       * @return The ratePlanStart.
       */
      com.google.protobuf.Timestamp getRatePlanStart();
      /**
       * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
       */
      com.google.protobuf.TimestampOrBuilder getRatePlanStartOrBuilder();

      /**
       * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
       * @return Whether the ratePlanEnd field is set.
       */
      boolean hasRatePlanEnd();
      /**
       * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
       * @return The ratePlanEnd.
       */
      com.google.protobuf.Timestamp getRatePlanEnd();
      /**
       * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
       */
      com.google.protobuf.TimestampOrBuilder getRatePlanEndOrBuilder();

      /**
       * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
       * @return Whether the tierLevel field is set.
       */
      boolean hasTierLevel();
      /**
       * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
       * @return The tierLevel.
       */
      com.google.protobuf.UInt32Value getTierLevel();
      /**
       * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
       */
      com.google.protobuf.UInt32ValueOrBuilder getTierLevelOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange}
     */
    public static final class LegacyRatePlanChange extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange)
        LegacyRatePlanChangeOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyRatePlanChange.newBuilder() to construct.
      private LegacyRatePlanChange(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyRatePlanChange() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyRatePlanChange();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyRatePlanChange(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (timestamp_ != null) {
                  subBuilder = timestamp_.toBuilder();
                }
                timestamp_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(timestamp_);
                  timestamp_ = subBuilder.buildPartial();
                }

                break;
              }
              case 18: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (ratePlanStart_ != null) {
                  subBuilder = ratePlanStart_.toBuilder();
                }
                ratePlanStart_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(ratePlanStart_);
                  ratePlanStart_ = subBuilder.buildPartial();
                }

                break;
              }
              case 26: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (ratePlanEnd_ != null) {
                  subBuilder = ratePlanEnd_.toBuilder();
                }
                ratePlanEnd_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(ratePlanEnd_);
                  ratePlanEnd_ = subBuilder.buildPartial();
                }

                break;
              }
              case 34: {
                com.google.protobuf.UInt32Value.Builder subBuilder = null;
                if (tierLevel_ != null) {
                  subBuilder = tierLevel_.toBuilder();
                }
                tierLevel_ = input.readMessage(com.google.protobuf.UInt32Value.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(tierLevel_);
                  tierLevel_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyRatePlanChange_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyRatePlanChange_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.class, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder.class);
      }

      public static final int TIMESTAMP_FIELD_NUMBER = 1;
      private com.google.protobuf.Timestamp timestamp_;
      /**
       * <code>.google.protobuf.Timestamp timestamp = 1;</code>
       * @return Whether the timestamp field is set.
       */
      @java.lang.Override
      public boolean hasTimestamp() {
        return timestamp_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp timestamp = 1;</code>
       * @return The timestamp.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getTimestamp() {
        return timestamp_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : timestamp_;
      }
      /**
       * <code>.google.protobuf.Timestamp timestamp = 1;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getTimestampOrBuilder() {
        return getTimestamp();
      }

      public static final int RATEPLANSTART_FIELD_NUMBER = 2;
      private com.google.protobuf.Timestamp ratePlanStart_;
      /**
       * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
       * @return Whether the ratePlanStart field is set.
       */
      @java.lang.Override
      public boolean hasRatePlanStart() {
        return ratePlanStart_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
       * @return The ratePlanStart.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getRatePlanStart() {
        return ratePlanStart_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : ratePlanStart_;
      }
      /**
       * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getRatePlanStartOrBuilder() {
        return getRatePlanStart();
      }

      public static final int RATEPLANEND_FIELD_NUMBER = 3;
      private com.google.protobuf.Timestamp ratePlanEnd_;
      /**
       * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
       * @return Whether the ratePlanEnd field is set.
       */
      @java.lang.Override
      public boolean hasRatePlanEnd() {
        return ratePlanEnd_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
       * @return The ratePlanEnd.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getRatePlanEnd() {
        return ratePlanEnd_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : ratePlanEnd_;
      }
      /**
       * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getRatePlanEndOrBuilder() {
        return getRatePlanEnd();
      }

      public static final int TIERLEVEL_FIELD_NUMBER = 4;
      private com.google.protobuf.UInt32Value tierLevel_;
      /**
       * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
       * @return Whether the tierLevel field is set.
       */
      @java.lang.Override
      public boolean hasTierLevel() {
        return tierLevel_ != null;
      }
      /**
       * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
       * @return The tierLevel.
       */
      @java.lang.Override
      public com.google.protobuf.UInt32Value getTierLevel() {
        return tierLevel_ == null ? com.google.protobuf.UInt32Value.getDefaultInstance() : tierLevel_;
      }
      /**
       * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
       */
      @java.lang.Override
      public com.google.protobuf.UInt32ValueOrBuilder getTierLevelOrBuilder() {
        return getTierLevel();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (timestamp_ != null) {
          output.writeMessage(1, getTimestamp());
        }
        if (ratePlanStart_ != null) {
          output.writeMessage(2, getRatePlanStart());
        }
        if (ratePlanEnd_ != null) {
          output.writeMessage(3, getRatePlanEnd());
        }
        if (tierLevel_ != null) {
          output.writeMessage(4, getTierLevel());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (timestamp_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getTimestamp());
        }
        if (ratePlanStart_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getRatePlanStart());
        }
        if (ratePlanEnd_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getRatePlanEnd());
        }
        if (tierLevel_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(4, getTierLevel());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange other = (nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange) obj;

        if (hasTimestamp() != other.hasTimestamp()) return false;
        if (hasTimestamp()) {
          if (!getTimestamp()
              .equals(other.getTimestamp())) return false;
        }
        if (hasRatePlanStart() != other.hasRatePlanStart()) return false;
        if (hasRatePlanStart()) {
          if (!getRatePlanStart()
              .equals(other.getRatePlanStart())) return false;
        }
        if (hasRatePlanEnd() != other.hasRatePlanEnd()) return false;
        if (hasRatePlanEnd()) {
          if (!getRatePlanEnd()
              .equals(other.getRatePlanEnd())) return false;
        }
        if (hasTierLevel() != other.hasTierLevel()) return false;
        if (hasTierLevel()) {
          if (!getTierLevel()
              .equals(other.getTierLevel())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasTimestamp()) {
          hash = (37 * hash) + TIMESTAMP_FIELD_NUMBER;
          hash = (53 * hash) + getTimestamp().hashCode();
        }
        if (hasRatePlanStart()) {
          hash = (37 * hash) + RATEPLANSTART_FIELD_NUMBER;
          hash = (53 * hash) + getRatePlanStart().hashCode();
        }
        if (hasRatePlanEnd()) {
          hash = (37 * hash) + RATEPLANEND_FIELD_NUMBER;
          hash = (53 * hash) + getRatePlanEnd().hashCode();
        }
        if (hasTierLevel()) {
          hash = (37 * hash) + TIERLEVEL_FIELD_NUMBER;
          hash = (53 * hash) + getTierLevel().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange)
          nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChangeOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyRatePlanChange_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyRatePlanChange_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.class, nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (timestampBuilder_ == null) {
            timestamp_ = null;
          } else {
            timestamp_ = null;
            timestampBuilder_ = null;
          }
          if (ratePlanStartBuilder_ == null) {
            ratePlanStart_ = null;
          } else {
            ratePlanStart_ = null;
            ratePlanStartBuilder_ = null;
          }
          if (ratePlanEndBuilder_ == null) {
            ratePlanEnd_ = null;
          } else {
            ratePlanEnd_ = null;
            ratePlanEndBuilder_ = null;
          }
          if (tierLevelBuilder_ == null) {
            tierLevel_ = null;
          } else {
            tierLevel_ = null;
            tierLevelBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyRatePlanChange_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange result = new nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange(this);
          if (timestampBuilder_ == null) {
            result.timestamp_ = timestamp_;
          } else {
            result.timestamp_ = timestampBuilder_.build();
          }
          if (ratePlanStartBuilder_ == null) {
            result.ratePlanStart_ = ratePlanStart_;
          } else {
            result.ratePlanStart_ = ratePlanStartBuilder_.build();
          }
          if (ratePlanEndBuilder_ == null) {
            result.ratePlanEnd_ = ratePlanEnd_;
          } else {
            result.ratePlanEnd_ = ratePlanEndBuilder_.build();
          }
          if (tierLevelBuilder_ == null) {
            result.tierLevel_ = tierLevel_;
          } else {
            result.tierLevel_ = tierLevelBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange.getDefaultInstance()) return this;
          if (other.hasTimestamp()) {
            mergeTimestamp(other.getTimestamp());
          }
          if (other.hasRatePlanStart()) {
            mergeRatePlanStart(other.getRatePlanStart());
          }
          if (other.hasRatePlanEnd()) {
            mergeRatePlanEnd(other.getRatePlanEnd());
          }
          if (other.hasTierLevel()) {
            mergeTierLevel(other.getTierLevel());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private com.google.protobuf.Timestamp timestamp_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> timestampBuilder_;
        /**
         * <code>.google.protobuf.Timestamp timestamp = 1;</code>
         * @return Whether the timestamp field is set.
         */
        public boolean hasTimestamp() {
          return timestampBuilder_ != null || timestamp_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp timestamp = 1;</code>
         * @return The timestamp.
         */
        public com.google.protobuf.Timestamp getTimestamp() {
          if (timestampBuilder_ == null) {
            return timestamp_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : timestamp_;
          } else {
            return timestampBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp timestamp = 1;</code>
         */
        public Builder setTimestamp(com.google.protobuf.Timestamp value) {
          if (timestampBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            timestamp_ = value;
            onChanged();
          } else {
            timestampBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp timestamp = 1;</code>
         */
        public Builder setTimestamp(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (timestampBuilder_ == null) {
            timestamp_ = builderForValue.build();
            onChanged();
          } else {
            timestampBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp timestamp = 1;</code>
         */
        public Builder mergeTimestamp(com.google.protobuf.Timestamp value) {
          if (timestampBuilder_ == null) {
            if (timestamp_ != null) {
              timestamp_ =
                com.google.protobuf.Timestamp.newBuilder(timestamp_).mergeFrom(value).buildPartial();
            } else {
              timestamp_ = value;
            }
            onChanged();
          } else {
            timestampBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp timestamp = 1;</code>
         */
        public Builder clearTimestamp() {
          if (timestampBuilder_ == null) {
            timestamp_ = null;
            onChanged();
          } else {
            timestamp_ = null;
            timestampBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp timestamp = 1;</code>
         */
        public com.google.protobuf.Timestamp.Builder getTimestampBuilder() {
          
          onChanged();
          return getTimestampFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp timestamp = 1;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getTimestampOrBuilder() {
          if (timestampBuilder_ != null) {
            return timestampBuilder_.getMessageOrBuilder();
          } else {
            return timestamp_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : timestamp_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp timestamp = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getTimestampFieldBuilder() {
          if (timestampBuilder_ == null) {
            timestampBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getTimestamp(),
                    getParentForChildren(),
                    isClean());
            timestamp_ = null;
          }
          return timestampBuilder_;
        }

        private com.google.protobuf.Timestamp ratePlanStart_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> ratePlanStartBuilder_;
        /**
         * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
         * @return Whether the ratePlanStart field is set.
         */
        public boolean hasRatePlanStart() {
          return ratePlanStartBuilder_ != null || ratePlanStart_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
         * @return The ratePlanStart.
         */
        public com.google.protobuf.Timestamp getRatePlanStart() {
          if (ratePlanStartBuilder_ == null) {
            return ratePlanStart_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : ratePlanStart_;
          } else {
            return ratePlanStartBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
         */
        public Builder setRatePlanStart(com.google.protobuf.Timestamp value) {
          if (ratePlanStartBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ratePlanStart_ = value;
            onChanged();
          } else {
            ratePlanStartBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
         */
        public Builder setRatePlanStart(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (ratePlanStartBuilder_ == null) {
            ratePlanStart_ = builderForValue.build();
            onChanged();
          } else {
            ratePlanStartBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
         */
        public Builder mergeRatePlanStart(com.google.protobuf.Timestamp value) {
          if (ratePlanStartBuilder_ == null) {
            if (ratePlanStart_ != null) {
              ratePlanStart_ =
                com.google.protobuf.Timestamp.newBuilder(ratePlanStart_).mergeFrom(value).buildPartial();
            } else {
              ratePlanStart_ = value;
            }
            onChanged();
          } else {
            ratePlanStartBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
         */
        public Builder clearRatePlanStart() {
          if (ratePlanStartBuilder_ == null) {
            ratePlanStart_ = null;
            onChanged();
          } else {
            ratePlanStart_ = null;
            ratePlanStartBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
         */
        public com.google.protobuf.Timestamp.Builder getRatePlanStartBuilder() {
          
          onChanged();
          return getRatePlanStartFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getRatePlanStartOrBuilder() {
          if (ratePlanStartBuilder_ != null) {
            return ratePlanStartBuilder_.getMessageOrBuilder();
          } else {
            return ratePlanStart_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : ratePlanStart_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanStart = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getRatePlanStartFieldBuilder() {
          if (ratePlanStartBuilder_ == null) {
            ratePlanStartBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getRatePlanStart(),
                    getParentForChildren(),
                    isClean());
            ratePlanStart_ = null;
          }
          return ratePlanStartBuilder_;
        }

        private com.google.protobuf.Timestamp ratePlanEnd_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> ratePlanEndBuilder_;
        /**
         * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
         * @return Whether the ratePlanEnd field is set.
         */
        public boolean hasRatePlanEnd() {
          return ratePlanEndBuilder_ != null || ratePlanEnd_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
         * @return The ratePlanEnd.
         */
        public com.google.protobuf.Timestamp getRatePlanEnd() {
          if (ratePlanEndBuilder_ == null) {
            return ratePlanEnd_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : ratePlanEnd_;
          } else {
            return ratePlanEndBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
         */
        public Builder setRatePlanEnd(com.google.protobuf.Timestamp value) {
          if (ratePlanEndBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ratePlanEnd_ = value;
            onChanged();
          } else {
            ratePlanEndBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
         */
        public Builder setRatePlanEnd(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (ratePlanEndBuilder_ == null) {
            ratePlanEnd_ = builderForValue.build();
            onChanged();
          } else {
            ratePlanEndBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
         */
        public Builder mergeRatePlanEnd(com.google.protobuf.Timestamp value) {
          if (ratePlanEndBuilder_ == null) {
            if (ratePlanEnd_ != null) {
              ratePlanEnd_ =
                com.google.protobuf.Timestamp.newBuilder(ratePlanEnd_).mergeFrom(value).buildPartial();
            } else {
              ratePlanEnd_ = value;
            }
            onChanged();
          } else {
            ratePlanEndBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
         */
        public Builder clearRatePlanEnd() {
          if (ratePlanEndBuilder_ == null) {
            ratePlanEnd_ = null;
            onChanged();
          } else {
            ratePlanEnd_ = null;
            ratePlanEndBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
         */
        public com.google.protobuf.Timestamp.Builder getRatePlanEndBuilder() {
          
          onChanged();
          return getRatePlanEndFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getRatePlanEndOrBuilder() {
          if (ratePlanEndBuilder_ != null) {
            return ratePlanEndBuilder_.getMessageOrBuilder();
          } else {
            return ratePlanEnd_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : ratePlanEnd_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp ratePlanEnd = 3;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getRatePlanEndFieldBuilder() {
          if (ratePlanEndBuilder_ == null) {
            ratePlanEndBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getRatePlanEnd(),
                    getParentForChildren(),
                    isClean());
            ratePlanEnd_ = null;
          }
          return ratePlanEndBuilder_;
        }

        private com.google.protobuf.UInt32Value tierLevel_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.UInt32Value, com.google.protobuf.UInt32Value.Builder, com.google.protobuf.UInt32ValueOrBuilder> tierLevelBuilder_;
        /**
         * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
         * @return Whether the tierLevel field is set.
         */
        public boolean hasTierLevel() {
          return tierLevelBuilder_ != null || tierLevel_ != null;
        }
        /**
         * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
         * @return The tierLevel.
         */
        public com.google.protobuf.UInt32Value getTierLevel() {
          if (tierLevelBuilder_ == null) {
            return tierLevel_ == null ? com.google.protobuf.UInt32Value.getDefaultInstance() : tierLevel_;
          } else {
            return tierLevelBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
         */
        public Builder setTierLevel(com.google.protobuf.UInt32Value value) {
          if (tierLevelBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            tierLevel_ = value;
            onChanged();
          } else {
            tierLevelBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
         */
        public Builder setTierLevel(
            com.google.protobuf.UInt32Value.Builder builderForValue) {
          if (tierLevelBuilder_ == null) {
            tierLevel_ = builderForValue.build();
            onChanged();
          } else {
            tierLevelBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
         */
        public Builder mergeTierLevel(com.google.protobuf.UInt32Value value) {
          if (tierLevelBuilder_ == null) {
            if (tierLevel_ != null) {
              tierLevel_ =
                com.google.protobuf.UInt32Value.newBuilder(tierLevel_).mergeFrom(value).buildPartial();
            } else {
              tierLevel_ = value;
            }
            onChanged();
          } else {
            tierLevelBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
         */
        public Builder clearTierLevel() {
          if (tierLevelBuilder_ == null) {
            tierLevel_ = null;
            onChanged();
          } else {
            tierLevel_ = null;
            tierLevelBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
         */
        public com.google.protobuf.UInt32Value.Builder getTierLevelBuilder() {
          
          onChanged();
          return getTierLevelFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
         */
        public com.google.protobuf.UInt32ValueOrBuilder getTierLevelOrBuilder() {
          if (tierLevelBuilder_ != null) {
            return tierLevelBuilder_.getMessageOrBuilder();
          } else {
            return tierLevel_ == null ?
                com.google.protobuf.UInt32Value.getDefaultInstance() : tierLevel_;
          }
        }
        /**
         * <code>.google.protobuf.UInt32Value tierLevel = 4;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.UInt32Value, com.google.protobuf.UInt32Value.Builder, com.google.protobuf.UInt32ValueOrBuilder> 
            getTierLevelFieldBuilder() {
          if (tierLevelBuilder_ == null) {
            tierLevelBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.UInt32Value, com.google.protobuf.UInt32Value.Builder, com.google.protobuf.UInt32ValueOrBuilder>(
                    getTierLevel(),
                    getParentForChildren(),
                    isClean());
            tierLevel_ = null;
          }
          return tierLevelBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyRatePlanChange)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyRatePlanChange>
          PARSER = new com.google.protobuf.AbstractParser<LegacyRatePlanChange>() {
        @java.lang.Override
        public LegacyRatePlanChange parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyRatePlanChange(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyRatePlanChange> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyRatePlanChange> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyRatePlanChange getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyHVACUsageOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.google.protobuf.Timestamp eventStart = 1;</code>
       * @return Whether the eventStart field is set.
       */
      boolean hasEventStart();
      /**
       * <code>.google.protobuf.Timestamp eventStart = 1;</code>
       * @return The eventStart.
       */
      com.google.protobuf.Timestamp getEventStart();
      /**
       * <code>.google.protobuf.Timestamp eventStart = 1;</code>
       */
      com.google.protobuf.TimestampOrBuilder getEventStartOrBuilder();

      /**
       * <code>int32 timezoneOffset = 2;</code>
       * @return The timezoneOffset.
       */
      int getTimezoneOffset();

      /**
       * <code>.google.protobuf.Duration duration = 3;</code>
       * @return Whether the duration field is set.
       */
      boolean hasDuration();
      /**
       * <code>.google.protobuf.Duration duration = 3;</code>
       * @return The duration.
       */
      com.google.protobuf.Duration getDuration();
      /**
       * <code>.google.protobuf.Duration duration = 3;</code>
       */
      com.google.protobuf.DurationOrBuilder getDurationOrBuilder();

      /**
       * <code>bool continuation = 4;</code>
       * @return The continuation.
       */
      boolean getContinuation();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType eventType = 5;</code>
       * @return The enum numeric value on the wire for eventType.
       */
      int getEventTypeValue();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType eventType = 5;</code>
       * @return The eventType.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventType getEventType();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
       * @return Whether the on field is set.
       */
      boolean hasOn();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
       * @return The on.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode getOn();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnModeOrBuilder getOnOrBuilder();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
       * @return Whether the off field is set.
       */
      boolean hasOff();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
       * @return The off.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode getOff();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffModeOrBuilder getOffOrBuilder();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
       * @return Whether the ecoAway field is set.
       */
      boolean hasEcoAway();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
       * @return The ecoAway.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode getEcoAway();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayModeOrBuilder getEcoAwayOrBuilder();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
       * @return Whether the ecoAutoAway field is set.
       */
      boolean hasEcoAutoAway();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
       * @return The ecoAutoAway.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode getEcoAutoAway();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayModeOrBuilder getEcoAutoAwayOrBuilder();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
       * @return Whether the sunlightCorrection field is set.
       */
      boolean hasSunlightCorrection();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
       * @return The sunlightCorrection.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection getSunlightCorrection();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrectionOrBuilder getSunlightCorrectionOrBuilder();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
       * @return Whether the setPoint field is set.
       */
      boolean hasSetPoint();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
       * @return The setPoint.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint getSetPoint();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPointOrBuilder getSetPointOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage}
     */
    public static final class LegacyHVACUsage extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage)
        LegacyHVACUsageOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyHVACUsage.newBuilder() to construct.
      private LegacyHVACUsage(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyHVACUsage() {
        eventType_ = 0;
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyHVACUsage();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyHVACUsage(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (eventStart_ != null) {
                  subBuilder = eventStart_.toBuilder();
                }
                eventStart_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(eventStart_);
                  eventStart_ = subBuilder.buildPartial();
                }

                break;
              }
              case 16: {

                timezoneOffset_ = input.readInt32();
                break;
              }
              case 26: {
                com.google.protobuf.Duration.Builder subBuilder = null;
                if (duration_ != null) {
                  subBuilder = duration_.toBuilder();
                }
                duration_ = input.readMessage(com.google.protobuf.Duration.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(duration_);
                  duration_ = subBuilder.buildPartial();
                }

                break;
              }
              case 32: {

                continuation_ = input.readBool();
                break;
              }
              case 40: {
                int rawValue = input.readEnum();

                eventType_ = rawValue;
                break;
              }
              case 82: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.Builder subBuilder = null;
                if (on_ != null) {
                  subBuilder = on_.toBuilder();
                }
                on_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(on_);
                  on_ = subBuilder.buildPartial();
                }

                break;
              }
              case 90: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.Builder subBuilder = null;
                if (off_ != null) {
                  subBuilder = off_.toBuilder();
                }
                off_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(off_);
                  off_ = subBuilder.buildPartial();
                }

                break;
              }
              case 98: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.Builder subBuilder = null;
                if (ecoAway_ != null) {
                  subBuilder = ecoAway_.toBuilder();
                }
                ecoAway_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(ecoAway_);
                  ecoAway_ = subBuilder.buildPartial();
                }

                break;
              }
              case 106: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.Builder subBuilder = null;
                if (ecoAutoAway_ != null) {
                  subBuilder = ecoAutoAway_.toBuilder();
                }
                ecoAutoAway_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(ecoAutoAway_);
                  ecoAutoAway_ = subBuilder.buildPartial();
                }

                break;
              }
              case 114: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.Builder subBuilder = null;
                if (sunlightCorrection_ != null) {
                  subBuilder = sunlightCorrection_.toBuilder();
                }
                sunlightCorrection_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(sunlightCorrection_);
                  sunlightCorrection_ = subBuilder.buildPartial();
                }

                break;
              }
              case 122: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.Builder subBuilder = null;
                if (setPoint_ != null) {
                  subBuilder = setPoint_.toBuilder();
                }
                setPoint_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(setPoint_);
                  setPoint_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACUsage_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACUsage_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.class, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder.class);
      }

      public static final int EVENTSTART_FIELD_NUMBER = 1;
      private com.google.protobuf.Timestamp eventStart_;
      /**
       * <code>.google.protobuf.Timestamp eventStart = 1;</code>
       * @return Whether the eventStart field is set.
       */
      @java.lang.Override
      public boolean hasEventStart() {
        return eventStart_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp eventStart = 1;</code>
       * @return The eventStart.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getEventStart() {
        return eventStart_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : eventStart_;
      }
      /**
       * <code>.google.protobuf.Timestamp eventStart = 1;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getEventStartOrBuilder() {
        return getEventStart();
      }

      public static final int TIMEZONEOFFSET_FIELD_NUMBER = 2;
      private int timezoneOffset_;
      /**
       * <code>int32 timezoneOffset = 2;</code>
       * @return The timezoneOffset.
       */
      @java.lang.Override
      public int getTimezoneOffset() {
        return timezoneOffset_;
      }

      public static final int DURATION_FIELD_NUMBER = 3;
      private com.google.protobuf.Duration duration_;
      /**
       * <code>.google.protobuf.Duration duration = 3;</code>
       * @return Whether the duration field is set.
       */
      @java.lang.Override
      public boolean hasDuration() {
        return duration_ != null;
      }
      /**
       * <code>.google.protobuf.Duration duration = 3;</code>
       * @return The duration.
       */
      @java.lang.Override
      public com.google.protobuf.Duration getDuration() {
        return duration_ == null ? com.google.protobuf.Duration.getDefaultInstance() : duration_;
      }
      /**
       * <code>.google.protobuf.Duration duration = 3;</code>
       */
      @java.lang.Override
      public com.google.protobuf.DurationOrBuilder getDurationOrBuilder() {
        return getDuration();
      }

      public static final int CONTINUATION_FIELD_NUMBER = 4;
      private boolean continuation_;
      /**
       * <code>bool continuation = 4;</code>
       * @return The continuation.
       */
      @java.lang.Override
      public boolean getContinuation() {
        return continuation_;
      }

      public static final int EVENTTYPE_FIELD_NUMBER = 5;
      private int eventType_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType eventType = 5;</code>
       * @return The enum numeric value on the wire for eventType.
       */
      @java.lang.Override public int getEventTypeValue() {
        return eventType_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType eventType = 5;</code>
       * @return The eventType.
       */
      @java.lang.Override public nest.trait.history.History.EnergyHistoryTrait.LegacyEventType getEventType() {
        @SuppressWarnings("deprecation")
        nest.trait.history.History.EnergyHistoryTrait.LegacyEventType result = nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.valueOf(eventType_);
        return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.UNRECOGNIZED : result;
      }

      public static final int ON_FIELD_NUMBER = 10;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode on_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
       * @return Whether the on field is set.
       */
      @java.lang.Override
      public boolean hasOn() {
        return on_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
       * @return The on.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode getOn() {
        return on_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.getDefaultInstance() : on_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnModeOrBuilder getOnOrBuilder() {
        return getOn();
      }

      public static final int OFF_FIELD_NUMBER = 11;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode off_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
       * @return Whether the off field is set.
       */
      @java.lang.Override
      public boolean hasOff() {
        return off_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
       * @return The off.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode getOff() {
        return off_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.getDefaultInstance() : off_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffModeOrBuilder getOffOrBuilder() {
        return getOff();
      }

      public static final int ECOAWAY_FIELD_NUMBER = 12;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
       * @return Whether the ecoAway field is set.
       */
      @java.lang.Override
      public boolean hasEcoAway() {
        return ecoAway_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
       * @return The ecoAway.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode getEcoAway() {
        return ecoAway_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.getDefaultInstance() : ecoAway_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayModeOrBuilder getEcoAwayOrBuilder() {
        return getEcoAway();
      }

      public static final int ECOAUTOAWAY_FIELD_NUMBER = 13;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
       * @return Whether the ecoAutoAway field is set.
       */
      @java.lang.Override
      public boolean hasEcoAutoAway() {
        return ecoAutoAway_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
       * @return The ecoAutoAway.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode getEcoAutoAway() {
        return ecoAutoAway_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.getDefaultInstance() : ecoAutoAway_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayModeOrBuilder getEcoAutoAwayOrBuilder() {
        return getEcoAutoAway();
      }

      public static final int SUNLIGHTCORRECTION_FIELD_NUMBER = 14;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
       * @return Whether the sunlightCorrection field is set.
       */
      @java.lang.Override
      public boolean hasSunlightCorrection() {
        return sunlightCorrection_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
       * @return The sunlightCorrection.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection getSunlightCorrection() {
        return sunlightCorrection_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.getDefaultInstance() : sunlightCorrection_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrectionOrBuilder getSunlightCorrectionOrBuilder() {
        return getSunlightCorrection();
      }

      public static final int SETPOINT_FIELD_NUMBER = 15;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint setPoint_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
       * @return Whether the setPoint field is set.
       */
      @java.lang.Override
      public boolean hasSetPoint() {
        return setPoint_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
       * @return The setPoint.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint getSetPoint() {
        return setPoint_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.getDefaultInstance() : setPoint_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPointOrBuilder getSetPointOrBuilder() {
        return getSetPoint();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (eventStart_ != null) {
          output.writeMessage(1, getEventStart());
        }
        if (timezoneOffset_ != 0) {
          output.writeInt32(2, timezoneOffset_);
        }
        if (duration_ != null) {
          output.writeMessage(3, getDuration());
        }
        if (continuation_ != false) {
          output.writeBool(4, continuation_);
        }
        if (eventType_ != nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.LEGACY_EVENT_TYPE_UNSPECIFIED.getNumber()) {
          output.writeEnum(5, eventType_);
        }
        if (on_ != null) {
          output.writeMessage(10, getOn());
        }
        if (off_ != null) {
          output.writeMessage(11, getOff());
        }
        if (ecoAway_ != null) {
          output.writeMessage(12, getEcoAway());
        }
        if (ecoAutoAway_ != null) {
          output.writeMessage(13, getEcoAutoAway());
        }
        if (sunlightCorrection_ != null) {
          output.writeMessage(14, getSunlightCorrection());
        }
        if (setPoint_ != null) {
          output.writeMessage(15, getSetPoint());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (eventStart_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getEventStart());
        }
        if (timezoneOffset_ != 0) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt32Size(2, timezoneOffset_);
        }
        if (duration_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getDuration());
        }
        if (continuation_ != false) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(4, continuation_);
        }
        if (eventType_ != nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.LEGACY_EVENT_TYPE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(5, eventType_);
        }
        if (on_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(10, getOn());
        }
        if (off_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(11, getOff());
        }
        if (ecoAway_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(12, getEcoAway());
        }
        if (ecoAutoAway_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(13, getEcoAutoAway());
        }
        if (sunlightCorrection_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(14, getSunlightCorrection());
        }
        if (setPoint_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(15, getSetPoint());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage other = (nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage) obj;

        if (hasEventStart() != other.hasEventStart()) return false;
        if (hasEventStart()) {
          if (!getEventStart()
              .equals(other.getEventStart())) return false;
        }
        if (getTimezoneOffset()
            != other.getTimezoneOffset()) return false;
        if (hasDuration() != other.hasDuration()) return false;
        if (hasDuration()) {
          if (!getDuration()
              .equals(other.getDuration())) return false;
        }
        if (getContinuation()
            != other.getContinuation()) return false;
        if (eventType_ != other.eventType_) return false;
        if (hasOn() != other.hasOn()) return false;
        if (hasOn()) {
          if (!getOn()
              .equals(other.getOn())) return false;
        }
        if (hasOff() != other.hasOff()) return false;
        if (hasOff()) {
          if (!getOff()
              .equals(other.getOff())) return false;
        }
        if (hasEcoAway() != other.hasEcoAway()) return false;
        if (hasEcoAway()) {
          if (!getEcoAway()
              .equals(other.getEcoAway())) return false;
        }
        if (hasEcoAutoAway() != other.hasEcoAutoAway()) return false;
        if (hasEcoAutoAway()) {
          if (!getEcoAutoAway()
              .equals(other.getEcoAutoAway())) return false;
        }
        if (hasSunlightCorrection() != other.hasSunlightCorrection()) return false;
        if (hasSunlightCorrection()) {
          if (!getSunlightCorrection()
              .equals(other.getSunlightCorrection())) return false;
        }
        if (hasSetPoint() != other.hasSetPoint()) return false;
        if (hasSetPoint()) {
          if (!getSetPoint()
              .equals(other.getSetPoint())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasEventStart()) {
          hash = (37 * hash) + EVENTSTART_FIELD_NUMBER;
          hash = (53 * hash) + getEventStart().hashCode();
        }
        hash = (37 * hash) + TIMEZONEOFFSET_FIELD_NUMBER;
        hash = (53 * hash) + getTimezoneOffset();
        if (hasDuration()) {
          hash = (37 * hash) + DURATION_FIELD_NUMBER;
          hash = (53 * hash) + getDuration().hashCode();
        }
        hash = (37 * hash) + CONTINUATION_FIELD_NUMBER;
        hash = (53 * hash) + com.google.protobuf.Internal.hashBoolean(
            getContinuation());
        hash = (37 * hash) + EVENTTYPE_FIELD_NUMBER;
        hash = (53 * hash) + eventType_;
        if (hasOn()) {
          hash = (37 * hash) + ON_FIELD_NUMBER;
          hash = (53 * hash) + getOn().hashCode();
        }
        if (hasOff()) {
          hash = (37 * hash) + OFF_FIELD_NUMBER;
          hash = (53 * hash) + getOff().hashCode();
        }
        if (hasEcoAway()) {
          hash = (37 * hash) + ECOAWAY_FIELD_NUMBER;
          hash = (53 * hash) + getEcoAway().hashCode();
        }
        if (hasEcoAutoAway()) {
          hash = (37 * hash) + ECOAUTOAWAY_FIELD_NUMBER;
          hash = (53 * hash) + getEcoAutoAway().hashCode();
        }
        if (hasSunlightCorrection()) {
          hash = (37 * hash) + SUNLIGHTCORRECTION_FIELD_NUMBER;
          hash = (53 * hash) + getSunlightCorrection().hashCode();
        }
        if (hasSetPoint()) {
          hash = (37 * hash) + SETPOINT_FIELD_NUMBER;
          hash = (53 * hash) + getSetPoint().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage)
          nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsageOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACUsage_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACUsage_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.class, nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (eventStartBuilder_ == null) {
            eventStart_ = null;
          } else {
            eventStart_ = null;
            eventStartBuilder_ = null;
          }
          timezoneOffset_ = 0;

          if (durationBuilder_ == null) {
            duration_ = null;
          } else {
            duration_ = null;
            durationBuilder_ = null;
          }
          continuation_ = false;

          eventType_ = 0;

          if (onBuilder_ == null) {
            on_ = null;
          } else {
            on_ = null;
            onBuilder_ = null;
          }
          if (offBuilder_ == null) {
            off_ = null;
          } else {
            off_ = null;
            offBuilder_ = null;
          }
          if (ecoAwayBuilder_ == null) {
            ecoAway_ = null;
          } else {
            ecoAway_ = null;
            ecoAwayBuilder_ = null;
          }
          if (ecoAutoAwayBuilder_ == null) {
            ecoAutoAway_ = null;
          } else {
            ecoAutoAway_ = null;
            ecoAutoAwayBuilder_ = null;
          }
          if (sunlightCorrectionBuilder_ == null) {
            sunlightCorrection_ = null;
          } else {
            sunlightCorrection_ = null;
            sunlightCorrectionBuilder_ = null;
          }
          if (setPointBuilder_ == null) {
            setPoint_ = null;
          } else {
            setPoint_ = null;
            setPointBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACUsage_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage result = new nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage(this);
          if (eventStartBuilder_ == null) {
            result.eventStart_ = eventStart_;
          } else {
            result.eventStart_ = eventStartBuilder_.build();
          }
          result.timezoneOffset_ = timezoneOffset_;
          if (durationBuilder_ == null) {
            result.duration_ = duration_;
          } else {
            result.duration_ = durationBuilder_.build();
          }
          result.continuation_ = continuation_;
          result.eventType_ = eventType_;
          if (onBuilder_ == null) {
            result.on_ = on_;
          } else {
            result.on_ = onBuilder_.build();
          }
          if (offBuilder_ == null) {
            result.off_ = off_;
          } else {
            result.off_ = offBuilder_.build();
          }
          if (ecoAwayBuilder_ == null) {
            result.ecoAway_ = ecoAway_;
          } else {
            result.ecoAway_ = ecoAwayBuilder_.build();
          }
          if (ecoAutoAwayBuilder_ == null) {
            result.ecoAutoAway_ = ecoAutoAway_;
          } else {
            result.ecoAutoAway_ = ecoAutoAwayBuilder_.build();
          }
          if (sunlightCorrectionBuilder_ == null) {
            result.sunlightCorrection_ = sunlightCorrection_;
          } else {
            result.sunlightCorrection_ = sunlightCorrectionBuilder_.build();
          }
          if (setPointBuilder_ == null) {
            result.setPoint_ = setPoint_;
          } else {
            result.setPoint_ = setPointBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage.getDefaultInstance()) return this;
          if (other.hasEventStart()) {
            mergeEventStart(other.getEventStart());
          }
          if (other.getTimezoneOffset() != 0) {
            setTimezoneOffset(other.getTimezoneOffset());
          }
          if (other.hasDuration()) {
            mergeDuration(other.getDuration());
          }
          if (other.getContinuation() != false) {
            setContinuation(other.getContinuation());
          }
          if (other.eventType_ != 0) {
            setEventTypeValue(other.getEventTypeValue());
          }
          if (other.hasOn()) {
            mergeOn(other.getOn());
          }
          if (other.hasOff()) {
            mergeOff(other.getOff());
          }
          if (other.hasEcoAway()) {
            mergeEcoAway(other.getEcoAway());
          }
          if (other.hasEcoAutoAway()) {
            mergeEcoAutoAway(other.getEcoAutoAway());
          }
          if (other.hasSunlightCorrection()) {
            mergeSunlightCorrection(other.getSunlightCorrection());
          }
          if (other.hasSetPoint()) {
            mergeSetPoint(other.getSetPoint());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private com.google.protobuf.Timestamp eventStart_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> eventStartBuilder_;
        /**
         * <code>.google.protobuf.Timestamp eventStart = 1;</code>
         * @return Whether the eventStart field is set.
         */
        public boolean hasEventStart() {
          return eventStartBuilder_ != null || eventStart_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp eventStart = 1;</code>
         * @return The eventStart.
         */
        public com.google.protobuf.Timestamp getEventStart() {
          if (eventStartBuilder_ == null) {
            return eventStart_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : eventStart_;
          } else {
            return eventStartBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp eventStart = 1;</code>
         */
        public Builder setEventStart(com.google.protobuf.Timestamp value) {
          if (eventStartBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            eventStart_ = value;
            onChanged();
          } else {
            eventStartBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp eventStart = 1;</code>
         */
        public Builder setEventStart(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (eventStartBuilder_ == null) {
            eventStart_ = builderForValue.build();
            onChanged();
          } else {
            eventStartBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp eventStart = 1;</code>
         */
        public Builder mergeEventStart(com.google.protobuf.Timestamp value) {
          if (eventStartBuilder_ == null) {
            if (eventStart_ != null) {
              eventStart_ =
                com.google.protobuf.Timestamp.newBuilder(eventStart_).mergeFrom(value).buildPartial();
            } else {
              eventStart_ = value;
            }
            onChanged();
          } else {
            eventStartBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp eventStart = 1;</code>
         */
        public Builder clearEventStart() {
          if (eventStartBuilder_ == null) {
            eventStart_ = null;
            onChanged();
          } else {
            eventStart_ = null;
            eventStartBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp eventStart = 1;</code>
         */
        public com.google.protobuf.Timestamp.Builder getEventStartBuilder() {
          
          onChanged();
          return getEventStartFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp eventStart = 1;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getEventStartOrBuilder() {
          if (eventStartBuilder_ != null) {
            return eventStartBuilder_.getMessageOrBuilder();
          } else {
            return eventStart_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : eventStart_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp eventStart = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getEventStartFieldBuilder() {
          if (eventStartBuilder_ == null) {
            eventStartBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getEventStart(),
                    getParentForChildren(),
                    isClean());
            eventStart_ = null;
          }
          return eventStartBuilder_;
        }

        private int timezoneOffset_ ;
        /**
         * <code>int32 timezoneOffset = 2;</code>
         * @return The timezoneOffset.
         */
        @java.lang.Override
        public int getTimezoneOffset() {
          return timezoneOffset_;
        }
        /**
         * <code>int32 timezoneOffset = 2;</code>
         * @param value The timezoneOffset to set.
         * @return This builder for chaining.
         */
        public Builder setTimezoneOffset(int value) {
          
          timezoneOffset_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>int32 timezoneOffset = 2;</code>
         * @return This builder for chaining.
         */
        public Builder clearTimezoneOffset() {
          
          timezoneOffset_ = 0;
          onChanged();
          return this;
        }

        private com.google.protobuf.Duration duration_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> durationBuilder_;
        /**
         * <code>.google.protobuf.Duration duration = 3;</code>
         * @return Whether the duration field is set.
         */
        public boolean hasDuration() {
          return durationBuilder_ != null || duration_ != null;
        }
        /**
         * <code>.google.protobuf.Duration duration = 3;</code>
         * @return The duration.
         */
        public com.google.protobuf.Duration getDuration() {
          if (durationBuilder_ == null) {
            return duration_ == null ? com.google.protobuf.Duration.getDefaultInstance() : duration_;
          } else {
            return durationBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Duration duration = 3;</code>
         */
        public Builder setDuration(com.google.protobuf.Duration value) {
          if (durationBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            duration_ = value;
            onChanged();
          } else {
            durationBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration duration = 3;</code>
         */
        public Builder setDuration(
            com.google.protobuf.Duration.Builder builderForValue) {
          if (durationBuilder_ == null) {
            duration_ = builderForValue.build();
            onChanged();
          } else {
            durationBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration duration = 3;</code>
         */
        public Builder mergeDuration(com.google.protobuf.Duration value) {
          if (durationBuilder_ == null) {
            if (duration_ != null) {
              duration_ =
                com.google.protobuf.Duration.newBuilder(duration_).mergeFrom(value).buildPartial();
            } else {
              duration_ = value;
            }
            onChanged();
          } else {
            durationBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration duration = 3;</code>
         */
        public Builder clearDuration() {
          if (durationBuilder_ == null) {
            duration_ = null;
            onChanged();
          } else {
            duration_ = null;
            durationBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Duration duration = 3;</code>
         */
        public com.google.protobuf.Duration.Builder getDurationBuilder() {
          
          onChanged();
          return getDurationFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Duration duration = 3;</code>
         */
        public com.google.protobuf.DurationOrBuilder getDurationOrBuilder() {
          if (durationBuilder_ != null) {
            return durationBuilder_.getMessageOrBuilder();
          } else {
            return duration_ == null ?
                com.google.protobuf.Duration.getDefaultInstance() : duration_;
          }
        }
        /**
         * <code>.google.protobuf.Duration duration = 3;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder> 
            getDurationFieldBuilder() {
          if (durationBuilder_ == null) {
            durationBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Duration, com.google.protobuf.Duration.Builder, com.google.protobuf.DurationOrBuilder>(
                    getDuration(),
                    getParentForChildren(),
                    isClean());
            duration_ = null;
          }
          return durationBuilder_;
        }

        private boolean continuation_ ;
        /**
         * <code>bool continuation = 4;</code>
         * @return The continuation.
         */
        @java.lang.Override
        public boolean getContinuation() {
          return continuation_;
        }
        /**
         * <code>bool continuation = 4;</code>
         * @param value The continuation to set.
         * @return This builder for chaining.
         */
        public Builder setContinuation(boolean value) {
          
          continuation_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>bool continuation = 4;</code>
         * @return This builder for chaining.
         */
        public Builder clearContinuation() {
          
          continuation_ = false;
          onChanged();
          return this;
        }

        private int eventType_ = 0;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType eventType = 5;</code>
         * @return The enum numeric value on the wire for eventType.
         */
        @java.lang.Override public int getEventTypeValue() {
          return eventType_;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType eventType = 5;</code>
         * @param value The enum numeric value on the wire for eventType to set.
         * @return This builder for chaining.
         */
        public Builder setEventTypeValue(int value) {
          
          eventType_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType eventType = 5;</code>
         * @return The eventType.
         */
        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventType getEventType() {
          @SuppressWarnings("deprecation")
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventType result = nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.valueOf(eventType_);
          return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType eventType = 5;</code>
         * @param value The eventType to set.
         * @return This builder for chaining.
         */
        public Builder setEventType(nest.trait.history.History.EnergyHistoryTrait.LegacyEventType value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          eventType_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType eventType = 5;</code>
         * @return This builder for chaining.
         */
        public Builder clearEventType() {
          
          eventType_ = 0;
          onChanged();
          return this;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode on_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnModeOrBuilder> onBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
         * @return Whether the on field is set.
         */
        public boolean hasOn() {
          return onBuilder_ != null || on_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
         * @return The on.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode getOn() {
          if (onBuilder_ == null) {
            return on_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.getDefaultInstance() : on_;
          } else {
            return onBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
         */
        public Builder setOn(nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode value) {
          if (onBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            on_ = value;
            onChanged();
          } else {
            onBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
         */
        public Builder setOn(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.Builder builderForValue) {
          if (onBuilder_ == null) {
            on_ = builderForValue.build();
            onChanged();
          } else {
            onBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
         */
        public Builder mergeOn(nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode value) {
          if (onBuilder_ == null) {
            if (on_ != null) {
              on_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.newBuilder(on_).mergeFrom(value).buildPartial();
            } else {
              on_ = value;
            }
            onChanged();
          } else {
            onBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
         */
        public Builder clearOn() {
          if (onBuilder_ == null) {
            on_ = null;
            onChanged();
          } else {
            on_ = null;
            onBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.Builder getOnBuilder() {
          
          onChanged();
          return getOnFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnModeOrBuilder getOnOrBuilder() {
          if (onBuilder_ != null) {
            return onBuilder_.getMessageOrBuilder();
          } else {
            return on_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.getDefaultInstance() : on_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode on = 10;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnModeOrBuilder> 
            getOnFieldBuilder() {
          if (onBuilder_ == null) {
            onBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnModeOrBuilder>(
                    getOn(),
                    getParentForChildren(),
                    isClean());
            on_ = null;
          }
          return onBuilder_;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode off_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffModeOrBuilder> offBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
         * @return Whether the off field is set.
         */
        public boolean hasOff() {
          return offBuilder_ != null || off_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
         * @return The off.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode getOff() {
          if (offBuilder_ == null) {
            return off_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.getDefaultInstance() : off_;
          } else {
            return offBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
         */
        public Builder setOff(nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode value) {
          if (offBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            off_ = value;
            onChanged();
          } else {
            offBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
         */
        public Builder setOff(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.Builder builderForValue) {
          if (offBuilder_ == null) {
            off_ = builderForValue.build();
            onChanged();
          } else {
            offBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
         */
        public Builder mergeOff(nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode value) {
          if (offBuilder_ == null) {
            if (off_ != null) {
              off_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.newBuilder(off_).mergeFrom(value).buildPartial();
            } else {
              off_ = value;
            }
            onChanged();
          } else {
            offBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
         */
        public Builder clearOff() {
          if (offBuilder_ == null) {
            off_ = null;
            onChanged();
          } else {
            off_ = null;
            offBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.Builder getOffBuilder() {
          
          onChanged();
          return getOffFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffModeOrBuilder getOffOrBuilder() {
          if (offBuilder_ != null) {
            return offBuilder_.getMessageOrBuilder();
          } else {
            return off_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.getDefaultInstance() : off_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode off = 11;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffModeOrBuilder> 
            getOffFieldBuilder() {
          if (offBuilder_ == null) {
            offBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffModeOrBuilder>(
                    getOff(),
                    getParentForChildren(),
                    isClean());
            off_ = null;
          }
          return offBuilder_;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayModeOrBuilder> ecoAwayBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
         * @return Whether the ecoAway field is set.
         */
        public boolean hasEcoAway() {
          return ecoAwayBuilder_ != null || ecoAway_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
         * @return The ecoAway.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode getEcoAway() {
          if (ecoAwayBuilder_ == null) {
            return ecoAway_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.getDefaultInstance() : ecoAway_;
          } else {
            return ecoAwayBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
         */
        public Builder setEcoAway(nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode value) {
          if (ecoAwayBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ecoAway_ = value;
            onChanged();
          } else {
            ecoAwayBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
         */
        public Builder setEcoAway(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.Builder builderForValue) {
          if (ecoAwayBuilder_ == null) {
            ecoAway_ = builderForValue.build();
            onChanged();
          } else {
            ecoAwayBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
         */
        public Builder mergeEcoAway(nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode value) {
          if (ecoAwayBuilder_ == null) {
            if (ecoAway_ != null) {
              ecoAway_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.newBuilder(ecoAway_).mergeFrom(value).buildPartial();
            } else {
              ecoAway_ = value;
            }
            onChanged();
          } else {
            ecoAwayBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
         */
        public Builder clearEcoAway() {
          if (ecoAwayBuilder_ == null) {
            ecoAway_ = null;
            onChanged();
          } else {
            ecoAway_ = null;
            ecoAwayBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.Builder getEcoAwayBuilder() {
          
          onChanged();
          return getEcoAwayFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayModeOrBuilder getEcoAwayOrBuilder() {
          if (ecoAwayBuilder_ != null) {
            return ecoAwayBuilder_.getMessageOrBuilder();
          } else {
            return ecoAway_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.getDefaultInstance() : ecoAway_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode ecoAway = 12;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayModeOrBuilder> 
            getEcoAwayFieldBuilder() {
          if (ecoAwayBuilder_ == null) {
            ecoAwayBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayModeOrBuilder>(
                    getEcoAway(),
                    getParentForChildren(),
                    isClean());
            ecoAway_ = null;
          }
          return ecoAwayBuilder_;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayModeOrBuilder> ecoAutoAwayBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
         * @return Whether the ecoAutoAway field is set.
         */
        public boolean hasEcoAutoAway() {
          return ecoAutoAwayBuilder_ != null || ecoAutoAway_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
         * @return The ecoAutoAway.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode getEcoAutoAway() {
          if (ecoAutoAwayBuilder_ == null) {
            return ecoAutoAway_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.getDefaultInstance() : ecoAutoAway_;
          } else {
            return ecoAutoAwayBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
         */
        public Builder setEcoAutoAway(nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode value) {
          if (ecoAutoAwayBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ecoAutoAway_ = value;
            onChanged();
          } else {
            ecoAutoAwayBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
         */
        public Builder setEcoAutoAway(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.Builder builderForValue) {
          if (ecoAutoAwayBuilder_ == null) {
            ecoAutoAway_ = builderForValue.build();
            onChanged();
          } else {
            ecoAutoAwayBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
         */
        public Builder mergeEcoAutoAway(nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode value) {
          if (ecoAutoAwayBuilder_ == null) {
            if (ecoAutoAway_ != null) {
              ecoAutoAway_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.newBuilder(ecoAutoAway_).mergeFrom(value).buildPartial();
            } else {
              ecoAutoAway_ = value;
            }
            onChanged();
          } else {
            ecoAutoAwayBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
         */
        public Builder clearEcoAutoAway() {
          if (ecoAutoAwayBuilder_ == null) {
            ecoAutoAway_ = null;
            onChanged();
          } else {
            ecoAutoAway_ = null;
            ecoAutoAwayBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.Builder getEcoAutoAwayBuilder() {
          
          onChanged();
          return getEcoAutoAwayFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayModeOrBuilder getEcoAutoAwayOrBuilder() {
          if (ecoAutoAwayBuilder_ != null) {
            return ecoAutoAwayBuilder_.getMessageOrBuilder();
          } else {
            return ecoAutoAway_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.getDefaultInstance() : ecoAutoAway_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode ecoAutoAway = 13;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayModeOrBuilder> 
            getEcoAutoAwayFieldBuilder() {
          if (ecoAutoAwayBuilder_ == null) {
            ecoAutoAwayBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayModeOrBuilder>(
                    getEcoAutoAway(),
                    getParentForChildren(),
                    isClean());
            ecoAutoAway_ = null;
          }
          return ecoAutoAwayBuilder_;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrectionOrBuilder> sunlightCorrectionBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
         * @return Whether the sunlightCorrection field is set.
         */
        public boolean hasSunlightCorrection() {
          return sunlightCorrectionBuilder_ != null || sunlightCorrection_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
         * @return The sunlightCorrection.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection getSunlightCorrection() {
          if (sunlightCorrectionBuilder_ == null) {
            return sunlightCorrection_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.getDefaultInstance() : sunlightCorrection_;
          } else {
            return sunlightCorrectionBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
         */
        public Builder setSunlightCorrection(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection value) {
          if (sunlightCorrectionBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            sunlightCorrection_ = value;
            onChanged();
          } else {
            sunlightCorrectionBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
         */
        public Builder setSunlightCorrection(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.Builder builderForValue) {
          if (sunlightCorrectionBuilder_ == null) {
            sunlightCorrection_ = builderForValue.build();
            onChanged();
          } else {
            sunlightCorrectionBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
         */
        public Builder mergeSunlightCorrection(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection value) {
          if (sunlightCorrectionBuilder_ == null) {
            if (sunlightCorrection_ != null) {
              sunlightCorrection_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.newBuilder(sunlightCorrection_).mergeFrom(value).buildPartial();
            } else {
              sunlightCorrection_ = value;
            }
            onChanged();
          } else {
            sunlightCorrectionBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
         */
        public Builder clearSunlightCorrection() {
          if (sunlightCorrectionBuilder_ == null) {
            sunlightCorrection_ = null;
            onChanged();
          } else {
            sunlightCorrection_ = null;
            sunlightCorrectionBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.Builder getSunlightCorrectionBuilder() {
          
          onChanged();
          return getSunlightCorrectionFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrectionOrBuilder getSunlightCorrectionOrBuilder() {
          if (sunlightCorrectionBuilder_ != null) {
            return sunlightCorrectionBuilder_.getMessageOrBuilder();
          } else {
            return sunlightCorrection_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.getDefaultInstance() : sunlightCorrection_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection sunlightCorrection = 14;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrectionOrBuilder> 
            getSunlightCorrectionFieldBuilder() {
          if (sunlightCorrectionBuilder_ == null) {
            sunlightCorrectionBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrectionOrBuilder>(
                    getSunlightCorrection(),
                    getParentForChildren(),
                    isClean());
            sunlightCorrection_ = null;
          }
          return sunlightCorrectionBuilder_;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint setPoint_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPointOrBuilder> setPointBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
         * @return Whether the setPoint field is set.
         */
        public boolean hasSetPoint() {
          return setPointBuilder_ != null || setPoint_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
         * @return The setPoint.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint getSetPoint() {
          if (setPointBuilder_ == null) {
            return setPoint_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.getDefaultInstance() : setPoint_;
          } else {
            return setPointBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
         */
        public Builder setSetPoint(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint value) {
          if (setPointBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            setPoint_ = value;
            onChanged();
          } else {
            setPointBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
         */
        public Builder setSetPoint(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.Builder builderForValue) {
          if (setPointBuilder_ == null) {
            setPoint_ = builderForValue.build();
            onChanged();
          } else {
            setPointBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
         */
        public Builder mergeSetPoint(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint value) {
          if (setPointBuilder_ == null) {
            if (setPoint_ != null) {
              setPoint_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.newBuilder(setPoint_).mergeFrom(value).buildPartial();
            } else {
              setPoint_ = value;
            }
            onChanged();
          } else {
            setPointBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
         */
        public Builder clearSetPoint() {
          if (setPointBuilder_ == null) {
            setPoint_ = null;
            onChanged();
          } else {
            setPoint_ = null;
            setPointBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.Builder getSetPointBuilder() {
          
          onChanged();
          return getSetPointFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPointOrBuilder getSetPointOrBuilder() {
          if (setPointBuilder_ != null) {
            return setPointBuilder_.getMessageOrBuilder();
          } else {
            return setPoint_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.getDefaultInstance() : setPoint_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint setPoint = 15;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPointOrBuilder> 
            getSetPointFieldBuilder() {
          if (setPointBuilder_ == null) {
            setPointBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPointOrBuilder>(
                    getSetPoint(),
                    getParentForChildren(),
                    isClean());
            setPoint_ = null;
          }
          return setPointBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyHVACUsage)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyHVACUsage>
          PARSER = new com.google.protobuf.AbstractParser<LegacyHVACUsage>() {
        @java.lang.Override
        public LegacyHVACUsage parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyHVACUsage(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyHVACUsage> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyHVACUsage> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyHVACUsage getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyEventOnModeOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return Whether the eventSource field is set.
       */
      boolean hasEventSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return The eventSource.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode}
     */
    public static final class LegacyEventOnMode extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode)
        LegacyEventOnModeOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyEventOnMode.newBuilder() to construct.
      private LegacyEventOnMode(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyEventOnMode() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyEventOnMode();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyEventOnMode(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder subBuilder = null;
                if (eventSource_ != null) {
                  subBuilder = eventSource_.toBuilder();
                }
                eventSource_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(eventSource_);
                  eventSource_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOnMode_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOnMode_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.Builder.class);
      }

      public static final int EVENTSOURCE_FIELD_NUMBER = 1;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource eventSource_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return Whether the eventSource field is set.
       */
      @java.lang.Override
      public boolean hasEventSource() {
        return eventSource_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return The eventSource.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource() {
        return eventSource_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder() {
        return getEventSource();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (eventSource_ != null) {
          output.writeMessage(1, getEventSource());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (eventSource_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getEventSource());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode other = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode) obj;

        if (hasEventSource() != other.hasEventSource()) return false;
        if (hasEventSource()) {
          if (!getEventSource()
              .equals(other.getEventSource())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasEventSource()) {
          hash = (37 * hash) + EVENTSOURCE_FIELD_NUMBER;
          hash = (53 * hash) + getEventSource().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode)
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnModeOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOnMode_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOnMode_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (eventSourceBuilder_ == null) {
            eventSource_ = null;
          } else {
            eventSource_ = null;
            eventSourceBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOnMode_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode result = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode(this);
          if (eventSourceBuilder_ == null) {
            result.eventSource_ = eventSource_;
          } else {
            result.eventSource_ = eventSourceBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode.getDefaultInstance()) return this;
          if (other.hasEventSource()) {
            mergeEventSource(other.getEventSource());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource eventSource_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> eventSourceBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         * @return Whether the eventSource field is set.
         */
        public boolean hasEventSource() {
          return eventSourceBuilder_ != null || eventSource_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         * @return The eventSource.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource() {
          if (eventSourceBuilder_ == null) {
            return eventSource_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
          } else {
            return eventSourceBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder setEventSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (eventSourceBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            eventSource_ = value;
            onChanged();
          } else {
            eventSourceBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder setEventSource(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder builderForValue) {
          if (eventSourceBuilder_ == null) {
            eventSource_ = builderForValue.build();
            onChanged();
          } else {
            eventSourceBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder mergeEventSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (eventSourceBuilder_ == null) {
            if (eventSource_ != null) {
              eventSource_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.newBuilder(eventSource_).mergeFrom(value).buildPartial();
            } else {
              eventSource_ = value;
            }
            onChanged();
          } else {
            eventSourceBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder clearEventSource() {
          if (eventSourceBuilder_ == null) {
            eventSource_ = null;
            onChanged();
          } else {
            eventSource_ = null;
            eventSourceBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder getEventSourceBuilder() {
          
          onChanged();
          return getEventSourceFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder() {
          if (eventSourceBuilder_ != null) {
            return eventSourceBuilder_.getMessageOrBuilder();
          } else {
            return eventSource_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> 
            getEventSourceFieldBuilder() {
          if (eventSourceBuilder_ == null) {
            eventSourceBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder>(
                    getEventSource(),
                    getParentForChildren(),
                    isClean());
            eventSource_ = null;
          }
          return eventSourceBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventOnMode)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyEventOnMode>
          PARSER = new com.google.protobuf.AbstractParser<LegacyEventOnMode>() {
        @java.lang.Override
        public LegacyEventOnMode parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyEventOnMode(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyEventOnMode> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyEventOnMode> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOnMode getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyEventOffModeOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return Whether the eventSource field is set.
       */
      boolean hasEventSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return The eventSource.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode}
     */
    public static final class LegacyEventOffMode extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode)
        LegacyEventOffModeOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyEventOffMode.newBuilder() to construct.
      private LegacyEventOffMode(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyEventOffMode() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyEventOffMode();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyEventOffMode(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder subBuilder = null;
                if (eventSource_ != null) {
                  subBuilder = eventSource_.toBuilder();
                }
                eventSource_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(eventSource_);
                  eventSource_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOffMode_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOffMode_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.Builder.class);
      }

      public static final int EVENTSOURCE_FIELD_NUMBER = 1;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource eventSource_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return Whether the eventSource field is set.
       */
      @java.lang.Override
      public boolean hasEventSource() {
        return eventSource_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return The eventSource.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource() {
        return eventSource_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder() {
        return getEventSource();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (eventSource_ != null) {
          output.writeMessage(1, getEventSource());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (eventSource_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getEventSource());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode other = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode) obj;

        if (hasEventSource() != other.hasEventSource()) return false;
        if (hasEventSource()) {
          if (!getEventSource()
              .equals(other.getEventSource())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasEventSource()) {
          hash = (37 * hash) + EVENTSOURCE_FIELD_NUMBER;
          hash = (53 * hash) + getEventSource().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode)
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffModeOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOffMode_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOffMode_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (eventSourceBuilder_ == null) {
            eventSource_ = null;
          } else {
            eventSource_ = null;
            eventSourceBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOffMode_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode result = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode(this);
          if (eventSourceBuilder_ == null) {
            result.eventSource_ = eventSource_;
          } else {
            result.eventSource_ = eventSourceBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode.getDefaultInstance()) return this;
          if (other.hasEventSource()) {
            mergeEventSource(other.getEventSource());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource eventSource_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> eventSourceBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         * @return Whether the eventSource field is set.
         */
        public boolean hasEventSource() {
          return eventSourceBuilder_ != null || eventSource_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         * @return The eventSource.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource() {
          if (eventSourceBuilder_ == null) {
            return eventSource_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
          } else {
            return eventSourceBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder setEventSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (eventSourceBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            eventSource_ = value;
            onChanged();
          } else {
            eventSourceBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder setEventSource(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder builderForValue) {
          if (eventSourceBuilder_ == null) {
            eventSource_ = builderForValue.build();
            onChanged();
          } else {
            eventSourceBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder mergeEventSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (eventSourceBuilder_ == null) {
            if (eventSource_ != null) {
              eventSource_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.newBuilder(eventSource_).mergeFrom(value).buildPartial();
            } else {
              eventSource_ = value;
            }
            onChanged();
          } else {
            eventSourceBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder clearEventSource() {
          if (eventSourceBuilder_ == null) {
            eventSource_ = null;
            onChanged();
          } else {
            eventSource_ = null;
            eventSourceBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder getEventSourceBuilder() {
          
          onChanged();
          return getEventSourceFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder() {
          if (eventSourceBuilder_ != null) {
            return eventSourceBuilder_.getMessageOrBuilder();
          } else {
            return eventSource_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> 
            getEventSourceFieldBuilder() {
          if (eventSourceBuilder_ == null) {
            eventSourceBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder>(
                    getEventSource(),
                    getParentForChildren(),
                    isClean());
            eventSource_ = null;
          }
          return eventSourceBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventOffMode)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyEventOffMode>
          PARSER = new com.google.protobuf.AbstractParser<LegacyEventOffMode>() {
        @java.lang.Override
        public LegacyEventOffMode parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyEventOffMode(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyEventOffMode> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyEventOffMode> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventOffMode getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyEventEcoAwayModeOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       * @return Whether the heatingTarget field is set.
       */
      boolean hasHeatingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       * @return The heatingTarget.
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getHeatingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getHeatingTargetOrBuilder();

      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       * @return Whether the coolingTarget field is set.
       */
      boolean hasCoolingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       * @return The coolingTarget.
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getCoolingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getCoolingTargetOrBuilder();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       * @return Whether the eventSource field is set.
       */
      boolean hasEventSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       * @return The eventSource.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode}
     */
    public static final class LegacyEventEcoAwayMode extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode)
        LegacyEventEcoAwayModeOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyEventEcoAwayMode.newBuilder() to construct.
      private LegacyEventEcoAwayMode(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyEventEcoAwayMode() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyEventEcoAwayMode();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyEventEcoAwayMode(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder subBuilder = null;
                if (heatingTarget_ != null) {
                  subBuilder = heatingTarget_.toBuilder();
                }
                heatingTarget_ = input.readMessage(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(heatingTarget_);
                  heatingTarget_ = subBuilder.buildPartial();
                }

                break;
              }
              case 18: {
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder subBuilder = null;
                if (coolingTarget_ != null) {
                  subBuilder = coolingTarget_.toBuilder();
                }
                coolingTarget_ = input.readMessage(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(coolingTarget_);
                  coolingTarget_ = subBuilder.buildPartial();
                }

                break;
              }
              case 26: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder subBuilder = null;
                if (eventSource_ != null) {
                  subBuilder = eventSource_.toBuilder();
                }
                eventSource_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(eventSource_);
                  eventSource_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAwayMode_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAwayMode_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.Builder.class);
      }

      public static final int HEATINGTARGET_FIELD_NUMBER = 1;
      private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold heatingTarget_;
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       * @return Whether the heatingTarget field is set.
       */
      @java.lang.Override
      public boolean hasHeatingTarget() {
        return heatingTarget_ != null;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       * @return The heatingTarget.
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getHeatingTarget() {
        return heatingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : heatingTarget_;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getHeatingTargetOrBuilder() {
        return getHeatingTarget();
      }

      public static final int COOLINGTARGET_FIELD_NUMBER = 2;
      private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold coolingTarget_;
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       * @return Whether the coolingTarget field is set.
       */
      @java.lang.Override
      public boolean hasCoolingTarget() {
        return coolingTarget_ != null;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       * @return The coolingTarget.
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getCoolingTarget() {
        return coolingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : coolingTarget_;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getCoolingTargetOrBuilder() {
        return getCoolingTarget();
      }

      public static final int EVENTSOURCE_FIELD_NUMBER = 3;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource eventSource_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       * @return Whether the eventSource field is set.
       */
      @java.lang.Override
      public boolean hasEventSource() {
        return eventSource_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       * @return The eventSource.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource() {
        return eventSource_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder() {
        return getEventSource();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (heatingTarget_ != null) {
          output.writeMessage(1, getHeatingTarget());
        }
        if (coolingTarget_ != null) {
          output.writeMessage(2, getCoolingTarget());
        }
        if (eventSource_ != null) {
          output.writeMessage(3, getEventSource());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (heatingTarget_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getHeatingTarget());
        }
        if (coolingTarget_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getCoolingTarget());
        }
        if (eventSource_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getEventSource());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode other = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode) obj;

        if (hasHeatingTarget() != other.hasHeatingTarget()) return false;
        if (hasHeatingTarget()) {
          if (!getHeatingTarget()
              .equals(other.getHeatingTarget())) return false;
        }
        if (hasCoolingTarget() != other.hasCoolingTarget()) return false;
        if (hasCoolingTarget()) {
          if (!getCoolingTarget()
              .equals(other.getCoolingTarget())) return false;
        }
        if (hasEventSource() != other.hasEventSource()) return false;
        if (hasEventSource()) {
          if (!getEventSource()
              .equals(other.getEventSource())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasHeatingTarget()) {
          hash = (37 * hash) + HEATINGTARGET_FIELD_NUMBER;
          hash = (53 * hash) + getHeatingTarget().hashCode();
        }
        if (hasCoolingTarget()) {
          hash = (37 * hash) + COOLINGTARGET_FIELD_NUMBER;
          hash = (53 * hash) + getCoolingTarget().hashCode();
        }
        if (hasEventSource()) {
          hash = (37 * hash) + EVENTSOURCE_FIELD_NUMBER;
          hash = (53 * hash) + getEventSource().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode)
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayModeOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAwayMode_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAwayMode_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (heatingTargetBuilder_ == null) {
            heatingTarget_ = null;
          } else {
            heatingTarget_ = null;
            heatingTargetBuilder_ = null;
          }
          if (coolingTargetBuilder_ == null) {
            coolingTarget_ = null;
          } else {
            coolingTarget_ = null;
            coolingTargetBuilder_ = null;
          }
          if (eventSourceBuilder_ == null) {
            eventSource_ = null;
          } else {
            eventSource_ = null;
            eventSourceBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAwayMode_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode result = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode(this);
          if (heatingTargetBuilder_ == null) {
            result.heatingTarget_ = heatingTarget_;
          } else {
            result.heatingTarget_ = heatingTargetBuilder_.build();
          }
          if (coolingTargetBuilder_ == null) {
            result.coolingTarget_ = coolingTarget_;
          } else {
            result.coolingTarget_ = coolingTargetBuilder_.build();
          }
          if (eventSourceBuilder_ == null) {
            result.eventSource_ = eventSource_;
          } else {
            result.eventSource_ = eventSourceBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode.getDefaultInstance()) return this;
          if (other.hasHeatingTarget()) {
            mergeHeatingTarget(other.getHeatingTarget());
          }
          if (other.hasCoolingTarget()) {
            mergeCoolingTarget(other.getCoolingTarget());
          }
          if (other.hasEventSource()) {
            mergeEventSource(other.getEventSource());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold heatingTarget_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> heatingTargetBuilder_;
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         * @return Whether the heatingTarget field is set.
         */
        public boolean hasHeatingTarget() {
          return heatingTargetBuilder_ != null || heatingTarget_ != null;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         * @return The heatingTarget.
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getHeatingTarget() {
          if (heatingTargetBuilder_ == null) {
            return heatingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : heatingTarget_;
          } else {
            return heatingTargetBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public Builder setHeatingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (heatingTargetBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            heatingTarget_ = value;
            onChanged();
          } else {
            heatingTargetBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public Builder setHeatingTarget(
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder builderForValue) {
          if (heatingTargetBuilder_ == null) {
            heatingTarget_ = builderForValue.build();
            onChanged();
          } else {
            heatingTargetBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public Builder mergeHeatingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (heatingTargetBuilder_ == null) {
            if (heatingTarget_ != null) {
              heatingTarget_ =
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.newBuilder(heatingTarget_).mergeFrom(value).buildPartial();
            } else {
              heatingTarget_ = value;
            }
            onChanged();
          } else {
            heatingTargetBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public Builder clearHeatingTarget() {
          if (heatingTargetBuilder_ == null) {
            heatingTarget_ = null;
            onChanged();
          } else {
            heatingTarget_ = null;
            heatingTargetBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder getHeatingTargetBuilder() {
          
          onChanged();
          return getHeatingTargetFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getHeatingTargetOrBuilder() {
          if (heatingTargetBuilder_ != null) {
            return heatingTargetBuilder_.getMessageOrBuilder();
          } else {
            return heatingTarget_ == null ?
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : heatingTarget_;
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> 
            getHeatingTargetFieldBuilder() {
          if (heatingTargetBuilder_ == null) {
            heatingTargetBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder>(
                    getHeatingTarget(),
                    getParentForChildren(),
                    isClean());
            heatingTarget_ = null;
          }
          return heatingTargetBuilder_;
        }

        private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold coolingTarget_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> coolingTargetBuilder_;
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         * @return Whether the coolingTarget field is set.
         */
        public boolean hasCoolingTarget() {
          return coolingTargetBuilder_ != null || coolingTarget_ != null;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         * @return The coolingTarget.
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getCoolingTarget() {
          if (coolingTargetBuilder_ == null) {
            return coolingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : coolingTarget_;
          } else {
            return coolingTargetBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public Builder setCoolingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (coolingTargetBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            coolingTarget_ = value;
            onChanged();
          } else {
            coolingTargetBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public Builder setCoolingTarget(
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder builderForValue) {
          if (coolingTargetBuilder_ == null) {
            coolingTarget_ = builderForValue.build();
            onChanged();
          } else {
            coolingTargetBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public Builder mergeCoolingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (coolingTargetBuilder_ == null) {
            if (coolingTarget_ != null) {
              coolingTarget_ =
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.newBuilder(coolingTarget_).mergeFrom(value).buildPartial();
            } else {
              coolingTarget_ = value;
            }
            onChanged();
          } else {
            coolingTargetBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public Builder clearCoolingTarget() {
          if (coolingTargetBuilder_ == null) {
            coolingTarget_ = null;
            onChanged();
          } else {
            coolingTarget_ = null;
            coolingTargetBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder getCoolingTargetBuilder() {
          
          onChanged();
          return getCoolingTargetFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getCoolingTargetOrBuilder() {
          if (coolingTargetBuilder_ != null) {
            return coolingTargetBuilder_.getMessageOrBuilder();
          } else {
            return coolingTarget_ == null ?
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : coolingTarget_;
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> 
            getCoolingTargetFieldBuilder() {
          if (coolingTargetBuilder_ == null) {
            coolingTargetBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder>(
                    getCoolingTarget(),
                    getParentForChildren(),
                    isClean());
            coolingTarget_ = null;
          }
          return coolingTargetBuilder_;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource eventSource_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> eventSourceBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         * @return Whether the eventSource field is set.
         */
        public boolean hasEventSource() {
          return eventSourceBuilder_ != null || eventSource_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         * @return The eventSource.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource() {
          if (eventSourceBuilder_ == null) {
            return eventSource_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
          } else {
            return eventSourceBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public Builder setEventSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (eventSourceBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            eventSource_ = value;
            onChanged();
          } else {
            eventSourceBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public Builder setEventSource(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder builderForValue) {
          if (eventSourceBuilder_ == null) {
            eventSource_ = builderForValue.build();
            onChanged();
          } else {
            eventSourceBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public Builder mergeEventSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (eventSourceBuilder_ == null) {
            if (eventSource_ != null) {
              eventSource_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.newBuilder(eventSource_).mergeFrom(value).buildPartial();
            } else {
              eventSource_ = value;
            }
            onChanged();
          } else {
            eventSourceBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public Builder clearEventSource() {
          if (eventSourceBuilder_ == null) {
            eventSource_ = null;
            onChanged();
          } else {
            eventSource_ = null;
            eventSourceBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder getEventSourceBuilder() {
          
          onChanged();
          return getEventSourceFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder() {
          if (eventSourceBuilder_ != null) {
            return eventSourceBuilder_.getMessageOrBuilder();
          } else {
            return eventSource_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> 
            getEventSourceFieldBuilder() {
          if (eventSourceBuilder_ == null) {
            eventSourceBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder>(
                    getEventSource(),
                    getParentForChildren(),
                    isClean());
            eventSource_ = null;
          }
          return eventSourceBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAwayMode)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyEventEcoAwayMode>
          PARSER = new com.google.protobuf.AbstractParser<LegacyEventEcoAwayMode>() {
        @java.lang.Override
        public LegacyEventEcoAwayMode parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyEventEcoAwayMode(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyEventEcoAwayMode> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyEventEcoAwayMode> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAwayMode getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyEventEcoAutoAwayModeOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       * @return Whether the heatingTarget field is set.
       */
      boolean hasHeatingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       * @return The heatingTarget.
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getHeatingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getHeatingTargetOrBuilder();

      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       * @return Whether the coolingTarget field is set.
       */
      boolean hasCoolingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       * @return The coolingTarget.
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getCoolingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getCoolingTargetOrBuilder();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       * @return Whether the eventSource field is set.
       */
      boolean hasEventSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       * @return The eventSource.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode}
     */
    public static final class LegacyEventEcoAutoAwayMode extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode)
        LegacyEventEcoAutoAwayModeOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyEventEcoAutoAwayMode.newBuilder() to construct.
      private LegacyEventEcoAutoAwayMode(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyEventEcoAutoAwayMode() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyEventEcoAutoAwayMode();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyEventEcoAutoAwayMode(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder subBuilder = null;
                if (heatingTarget_ != null) {
                  subBuilder = heatingTarget_.toBuilder();
                }
                heatingTarget_ = input.readMessage(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(heatingTarget_);
                  heatingTarget_ = subBuilder.buildPartial();
                }

                break;
              }
              case 18: {
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder subBuilder = null;
                if (coolingTarget_ != null) {
                  subBuilder = coolingTarget_.toBuilder();
                }
                coolingTarget_ = input.readMessage(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(coolingTarget_);
                  coolingTarget_ = subBuilder.buildPartial();
                }

                break;
              }
              case 26: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder subBuilder = null;
                if (eventSource_ != null) {
                  subBuilder = eventSource_.toBuilder();
                }
                eventSource_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(eventSource_);
                  eventSource_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAutoAwayMode_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAutoAwayMode_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.Builder.class);
      }

      public static final int HEATINGTARGET_FIELD_NUMBER = 1;
      private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold heatingTarget_;
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       * @return Whether the heatingTarget field is set.
       */
      @java.lang.Override
      public boolean hasHeatingTarget() {
        return heatingTarget_ != null;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       * @return The heatingTarget.
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getHeatingTarget() {
        return heatingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : heatingTarget_;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getHeatingTargetOrBuilder() {
        return getHeatingTarget();
      }

      public static final int COOLINGTARGET_FIELD_NUMBER = 2;
      private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold coolingTarget_;
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       * @return Whether the coolingTarget field is set.
       */
      @java.lang.Override
      public boolean hasCoolingTarget() {
        return coolingTarget_ != null;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       * @return The coolingTarget.
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getCoolingTarget() {
        return coolingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : coolingTarget_;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getCoolingTargetOrBuilder() {
        return getCoolingTarget();
      }

      public static final int EVENTSOURCE_FIELD_NUMBER = 3;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource eventSource_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       * @return Whether the eventSource field is set.
       */
      @java.lang.Override
      public boolean hasEventSource() {
        return eventSource_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       * @return The eventSource.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource() {
        return eventSource_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder() {
        return getEventSource();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (heatingTarget_ != null) {
          output.writeMessage(1, getHeatingTarget());
        }
        if (coolingTarget_ != null) {
          output.writeMessage(2, getCoolingTarget());
        }
        if (eventSource_ != null) {
          output.writeMessage(3, getEventSource());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (heatingTarget_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getHeatingTarget());
        }
        if (coolingTarget_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getCoolingTarget());
        }
        if (eventSource_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getEventSource());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode other = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode) obj;

        if (hasHeatingTarget() != other.hasHeatingTarget()) return false;
        if (hasHeatingTarget()) {
          if (!getHeatingTarget()
              .equals(other.getHeatingTarget())) return false;
        }
        if (hasCoolingTarget() != other.hasCoolingTarget()) return false;
        if (hasCoolingTarget()) {
          if (!getCoolingTarget()
              .equals(other.getCoolingTarget())) return false;
        }
        if (hasEventSource() != other.hasEventSource()) return false;
        if (hasEventSource()) {
          if (!getEventSource()
              .equals(other.getEventSource())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasHeatingTarget()) {
          hash = (37 * hash) + HEATINGTARGET_FIELD_NUMBER;
          hash = (53 * hash) + getHeatingTarget().hashCode();
        }
        if (hasCoolingTarget()) {
          hash = (37 * hash) + COOLINGTARGET_FIELD_NUMBER;
          hash = (53 * hash) + getCoolingTarget().hashCode();
        }
        if (hasEventSource()) {
          hash = (37 * hash) + EVENTSOURCE_FIELD_NUMBER;
          hash = (53 * hash) + getEventSource().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode)
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayModeOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAutoAwayMode_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAutoAwayMode_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (heatingTargetBuilder_ == null) {
            heatingTarget_ = null;
          } else {
            heatingTarget_ = null;
            heatingTargetBuilder_ = null;
          }
          if (coolingTargetBuilder_ == null) {
            coolingTarget_ = null;
          } else {
            coolingTarget_ = null;
            coolingTargetBuilder_ = null;
          }
          if (eventSourceBuilder_ == null) {
            eventSource_ = null;
          } else {
            eventSource_ = null;
            eventSourceBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAutoAwayMode_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode result = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode(this);
          if (heatingTargetBuilder_ == null) {
            result.heatingTarget_ = heatingTarget_;
          } else {
            result.heatingTarget_ = heatingTargetBuilder_.build();
          }
          if (coolingTargetBuilder_ == null) {
            result.coolingTarget_ = coolingTarget_;
          } else {
            result.coolingTarget_ = coolingTargetBuilder_.build();
          }
          if (eventSourceBuilder_ == null) {
            result.eventSource_ = eventSource_;
          } else {
            result.eventSource_ = eventSourceBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode.getDefaultInstance()) return this;
          if (other.hasHeatingTarget()) {
            mergeHeatingTarget(other.getHeatingTarget());
          }
          if (other.hasCoolingTarget()) {
            mergeCoolingTarget(other.getCoolingTarget());
          }
          if (other.hasEventSource()) {
            mergeEventSource(other.getEventSource());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold heatingTarget_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> heatingTargetBuilder_;
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         * @return Whether the heatingTarget field is set.
         */
        public boolean hasHeatingTarget() {
          return heatingTargetBuilder_ != null || heatingTarget_ != null;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         * @return The heatingTarget.
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getHeatingTarget() {
          if (heatingTargetBuilder_ == null) {
            return heatingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : heatingTarget_;
          } else {
            return heatingTargetBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public Builder setHeatingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (heatingTargetBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            heatingTarget_ = value;
            onChanged();
          } else {
            heatingTargetBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public Builder setHeatingTarget(
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder builderForValue) {
          if (heatingTargetBuilder_ == null) {
            heatingTarget_ = builderForValue.build();
            onChanged();
          } else {
            heatingTargetBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public Builder mergeHeatingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (heatingTargetBuilder_ == null) {
            if (heatingTarget_ != null) {
              heatingTarget_ =
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.newBuilder(heatingTarget_).mergeFrom(value).buildPartial();
            } else {
              heatingTarget_ = value;
            }
            onChanged();
          } else {
            heatingTargetBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public Builder clearHeatingTarget() {
          if (heatingTargetBuilder_ == null) {
            heatingTarget_ = null;
            onChanged();
          } else {
            heatingTarget_ = null;
            heatingTargetBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder getHeatingTargetBuilder() {
          
          onChanged();
          return getHeatingTargetFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getHeatingTargetOrBuilder() {
          if (heatingTargetBuilder_ != null) {
            return heatingTargetBuilder_.getMessageOrBuilder();
          } else {
            return heatingTarget_ == null ?
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : heatingTarget_;
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> 
            getHeatingTargetFieldBuilder() {
          if (heatingTargetBuilder_ == null) {
            heatingTargetBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder>(
                    getHeatingTarget(),
                    getParentForChildren(),
                    isClean());
            heatingTarget_ = null;
          }
          return heatingTargetBuilder_;
        }

        private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold coolingTarget_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> coolingTargetBuilder_;
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         * @return Whether the coolingTarget field is set.
         */
        public boolean hasCoolingTarget() {
          return coolingTargetBuilder_ != null || coolingTarget_ != null;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         * @return The coolingTarget.
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getCoolingTarget() {
          if (coolingTargetBuilder_ == null) {
            return coolingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : coolingTarget_;
          } else {
            return coolingTargetBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public Builder setCoolingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (coolingTargetBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            coolingTarget_ = value;
            onChanged();
          } else {
            coolingTargetBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public Builder setCoolingTarget(
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder builderForValue) {
          if (coolingTargetBuilder_ == null) {
            coolingTarget_ = builderForValue.build();
            onChanged();
          } else {
            coolingTargetBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public Builder mergeCoolingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (coolingTargetBuilder_ == null) {
            if (coolingTarget_ != null) {
              coolingTarget_ =
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.newBuilder(coolingTarget_).mergeFrom(value).buildPartial();
            } else {
              coolingTarget_ = value;
            }
            onChanged();
          } else {
            coolingTargetBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public Builder clearCoolingTarget() {
          if (coolingTargetBuilder_ == null) {
            coolingTarget_ = null;
            onChanged();
          } else {
            coolingTarget_ = null;
            coolingTargetBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder getCoolingTargetBuilder() {
          
          onChanged();
          return getCoolingTargetFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getCoolingTargetOrBuilder() {
          if (coolingTargetBuilder_ != null) {
            return coolingTargetBuilder_.getMessageOrBuilder();
          } else {
            return coolingTarget_ == null ?
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : coolingTarget_;
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> 
            getCoolingTargetFieldBuilder() {
          if (coolingTargetBuilder_ == null) {
            coolingTargetBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder>(
                    getCoolingTarget(),
                    getParentForChildren(),
                    isClean());
            coolingTarget_ = null;
          }
          return coolingTargetBuilder_;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource eventSource_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> eventSourceBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         * @return Whether the eventSource field is set.
         */
        public boolean hasEventSource() {
          return eventSourceBuilder_ != null || eventSource_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         * @return The eventSource.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource() {
          if (eventSourceBuilder_ == null) {
            return eventSource_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
          } else {
            return eventSourceBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public Builder setEventSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (eventSourceBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            eventSource_ = value;
            onChanged();
          } else {
            eventSourceBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public Builder setEventSource(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder builderForValue) {
          if (eventSourceBuilder_ == null) {
            eventSource_ = builderForValue.build();
            onChanged();
          } else {
            eventSourceBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public Builder mergeEventSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (eventSourceBuilder_ == null) {
            if (eventSource_ != null) {
              eventSource_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.newBuilder(eventSource_).mergeFrom(value).buildPartial();
            } else {
              eventSource_ = value;
            }
            onChanged();
          } else {
            eventSourceBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public Builder clearEventSource() {
          if (eventSourceBuilder_ == null) {
            eventSource_ = null;
            onChanged();
          } else {
            eventSource_ = null;
            eventSourceBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder getEventSourceBuilder() {
          
          onChanged();
          return getEventSourceFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder() {
          if (eventSourceBuilder_ != null) {
            return eventSourceBuilder_.getMessageOrBuilder();
          } else {
            return eventSource_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 3;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> 
            getEventSourceFieldBuilder() {
          if (eventSourceBuilder_ == null) {
            eventSourceBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder>(
                    getEventSource(),
                    getParentForChildren(),
                    isClean());
            eventSource_ = null;
          }
          return eventSourceBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyEventEcoAutoAwayMode>
          PARSER = new com.google.protobuf.AbstractParser<LegacyEventEcoAutoAwayMode>() {
        @java.lang.Override
        public LegacyEventEcoAutoAwayMode parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyEventEcoAutoAwayMode(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyEventEcoAutoAwayMode> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyEventEcoAutoAwayMode> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventEcoAutoAwayMode getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyEventSunlightCorrectionOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return Whether the eventSource field is set.
       */
      boolean hasEventSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return The eventSource.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection}
     */
    public static final class LegacyEventSunlightCorrection extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection)
        LegacyEventSunlightCorrectionOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyEventSunlightCorrection.newBuilder() to construct.
      private LegacyEventSunlightCorrection(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyEventSunlightCorrection() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyEventSunlightCorrection();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyEventSunlightCorrection(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder subBuilder = null;
                if (eventSource_ != null) {
                  subBuilder = eventSource_.toBuilder();
                }
                eventSource_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(eventSource_);
                  eventSource_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSunlightCorrection_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSunlightCorrection_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.Builder.class);
      }

      public static final int EVENTSOURCE_FIELD_NUMBER = 1;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource eventSource_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return Whether the eventSource field is set.
       */
      @java.lang.Override
      public boolean hasEventSource() {
        return eventSource_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       * @return The eventSource.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource() {
        return eventSource_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder() {
        return getEventSource();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (eventSource_ != null) {
          output.writeMessage(1, getEventSource());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (eventSource_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getEventSource());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection other = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection) obj;

        if (hasEventSource() != other.hasEventSource()) return false;
        if (hasEventSource()) {
          if (!getEventSource()
              .equals(other.getEventSource())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasEventSource()) {
          hash = (37 * hash) + EVENTSOURCE_FIELD_NUMBER;
          hash = (53 * hash) + getEventSource().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection)
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrectionOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSunlightCorrection_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSunlightCorrection_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (eventSourceBuilder_ == null) {
            eventSource_ = null;
          } else {
            eventSource_ = null;
            eventSourceBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSunlightCorrection_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection result = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection(this);
          if (eventSourceBuilder_ == null) {
            result.eventSource_ = eventSource_;
          } else {
            result.eventSource_ = eventSourceBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection.getDefaultInstance()) return this;
          if (other.hasEventSource()) {
            mergeEventSource(other.getEventSource());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource eventSource_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> eventSourceBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         * @return Whether the eventSource field is set.
         */
        public boolean hasEventSource() {
          return eventSourceBuilder_ != null || eventSource_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         * @return The eventSource.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getEventSource() {
          if (eventSourceBuilder_ == null) {
            return eventSource_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
          } else {
            return eventSourceBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder setEventSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (eventSourceBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            eventSource_ = value;
            onChanged();
          } else {
            eventSourceBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder setEventSource(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder builderForValue) {
          if (eventSourceBuilder_ == null) {
            eventSource_ = builderForValue.build();
            onChanged();
          } else {
            eventSourceBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder mergeEventSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (eventSourceBuilder_ == null) {
            if (eventSource_ != null) {
              eventSource_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.newBuilder(eventSource_).mergeFrom(value).buildPartial();
            } else {
              eventSource_ = value;
            }
            onChanged();
          } else {
            eventSourceBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public Builder clearEventSource() {
          if (eventSourceBuilder_ == null) {
            eventSource_ = null;
            onChanged();
          } else {
            eventSource_ = null;
            eventSourceBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder getEventSourceBuilder() {
          
          onChanged();
          return getEventSourceFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getEventSourceOrBuilder() {
          if (eventSourceBuilder_ != null) {
            return eventSourceBuilder_.getMessageOrBuilder();
          } else {
            return eventSource_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : eventSource_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource eventSource = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> 
            getEventSourceFieldBuilder() {
          if (eventSourceBuilder_ == null) {
            eventSourceBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder>(
                    getEventSource(),
                    getParentForChildren(),
                    isClean());
            eventSource_ = null;
          }
          return eventSourceBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventSunlightCorrection)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyEventSunlightCorrection>
          PARSER = new com.google.protobuf.AbstractParser<LegacyEventSunlightCorrection>() {
        @java.lang.Override
        public LegacyEventSunlightCorrection parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyEventSunlightCorrection(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyEventSunlightCorrection> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyEventSunlightCorrection> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSunlightCorrection getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyEventSetPointOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacySetPointType setPointType = 1;</code>
       * @return The enum numeric value on the wire for setPointType.
       */
      int getSetPointTypeValue();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacySetPointType setPointType = 1;</code>
       * @return The setPointType.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType getSetPointType();

      /**
       * <code>.nest.trait.hvac.SetPointScheduleSettingsTrait.SetPointScheduleType scheduleType = 2;</code>
       * @return The enum numeric value on the wire for scheduleType.
       */
      int getScheduleTypeValue();
      /**
       * <code>.nest.trait.hvac.SetPointScheduleSettingsTrait.SetPointScheduleType scheduleType = 2;</code>
       * @return The scheduleType.
       */
      nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType getScheduleType();

      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
       * @return Whether the heatingTarget field is set.
       */
      boolean hasHeatingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
       * @return The heatingTarget.
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getHeatingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getHeatingTargetOrBuilder();

      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
       * @return Whether the coolingTarget field is set.
       */
      boolean hasCoolingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
       * @return The coolingTarget.
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getCoolingTarget();
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
       */
      nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getCoolingTargetOrBuilder();

      /**
       * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 5;</code>
       * @return The enum numeric value on the wire for actor.
       */
      int getActorValue();
      /**
       * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 5;</code>
       * @return The actor.
       */
      nest.trait.hvac.Hvac.HvacActor.HvacActorMethod getActor();

      /**
       * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
       * @return Whether the touchedWhen field is set.
       */
      boolean hasTouchedWhen();
      /**
       * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
       * @return The touchedWhen.
       */
      com.google.protobuf.Timestamp getTouchedWhen();
      /**
       * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
       */
      com.google.protobuf.TimestampOrBuilder getTouchedWhenOrBuilder();

      /**
       * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
       * @return Whether the touchedTimezoneOffset field is set.
       */
      boolean hasTouchedTimezoneOffset();
      /**
       * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
       * @return The touchedTimezoneOffset.
       */
      com.google.protobuf.Int32Value getTouchedTimezoneOffset();
      /**
       * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
       */
      com.google.protobuf.Int32ValueOrBuilder getTouchedTimezoneOffsetOrBuilder();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 8;</code>
       * @return The enum numeric value on the wire for touchedWhere.
       */
      int getTouchedWhereValue();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 8;</code>
       * @return The touchedWhere.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere getTouchedWhere();

      /**
       * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
       * @return Whether the touchedUserId field is set.
       */
      boolean hasTouchedUserId();
      /**
       * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
       * @return The touchedUserId.
       */
      com.google.protobuf.StringValue getTouchedUserId();
      /**
       * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
       */
      com.google.protobuf.StringValueOrBuilder getTouchedUserIdOrBuilder();

      /**
       * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
       * @return Whether the scheduledStart field is set.
       */
      boolean hasScheduledStart();
      /**
       * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
       * @return The scheduledStart.
       */
      com.google.protobuf.UInt32Value getScheduledStart();
      /**
       * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
       */
      com.google.protobuf.UInt32ValueOrBuilder getScheduledStartOrBuilder();

      /**
       * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
       * @return Whether the scheduledDay field is set.
       */
      boolean hasScheduledDay();
      /**
       * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
       * @return The scheduledDay.
       */
      com.google.protobuf.UInt32Value getScheduledDay();
      /**
       * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
       */
      com.google.protobuf.UInt32ValueOrBuilder getScheduledDayOrBuilder();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType previousEventType = 12;</code>
       * @return The enum numeric value on the wire for previousEventType.
       */
      int getPreviousEventTypeValue();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType previousEventType = 12;</code>
       * @return The previousEventType.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventType getPreviousEventType();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
       * @return Whether the source field is set.
       */
      boolean hasSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
       * @return The source.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getSource();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getSourceOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint}
     */
    public static final class LegacyEventSetPoint extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint)
        LegacyEventSetPointOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyEventSetPoint.newBuilder() to construct.
      private LegacyEventSetPoint(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyEventSetPoint() {
        setPointType_ = 0;
        scheduleType_ = 0;
        actor_ = 0;
        touchedWhere_ = 0;
        previousEventType_ = 0;
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyEventSetPoint();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyEventSetPoint(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 8: {
                int rawValue = input.readEnum();

                setPointType_ = rawValue;
                break;
              }
              case 16: {
                int rawValue = input.readEnum();

                scheduleType_ = rawValue;
                break;
              }
              case 26: {
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder subBuilder = null;
                if (heatingTarget_ != null) {
                  subBuilder = heatingTarget_.toBuilder();
                }
                heatingTarget_ = input.readMessage(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(heatingTarget_);
                  heatingTarget_ = subBuilder.buildPartial();
                }

                break;
              }
              case 34: {
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder subBuilder = null;
                if (coolingTarget_ != null) {
                  subBuilder = coolingTarget_.toBuilder();
                }
                coolingTarget_ = input.readMessage(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(coolingTarget_);
                  coolingTarget_ = subBuilder.buildPartial();
                }

                break;
              }
              case 40: {
                int rawValue = input.readEnum();

                actor_ = rawValue;
                break;
              }
              case 50: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (touchedWhen_ != null) {
                  subBuilder = touchedWhen_.toBuilder();
                }
                touchedWhen_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(touchedWhen_);
                  touchedWhen_ = subBuilder.buildPartial();
                }

                break;
              }
              case 58: {
                com.google.protobuf.Int32Value.Builder subBuilder = null;
                if (touchedTimezoneOffset_ != null) {
                  subBuilder = touchedTimezoneOffset_.toBuilder();
                }
                touchedTimezoneOffset_ = input.readMessage(com.google.protobuf.Int32Value.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(touchedTimezoneOffset_);
                  touchedTimezoneOffset_ = subBuilder.buildPartial();
                }

                break;
              }
              case 64: {
                int rawValue = input.readEnum();

                touchedWhere_ = rawValue;
                break;
              }
              case 74: {
                com.google.protobuf.StringValue.Builder subBuilder = null;
                if (touchedUserId_ != null) {
                  subBuilder = touchedUserId_.toBuilder();
                }
                touchedUserId_ = input.readMessage(com.google.protobuf.StringValue.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(touchedUserId_);
                  touchedUserId_ = subBuilder.buildPartial();
                }

                break;
              }
              case 82: {
                com.google.protobuf.UInt32Value.Builder subBuilder = null;
                if (scheduledStart_ != null) {
                  subBuilder = scheduledStart_.toBuilder();
                }
                scheduledStart_ = input.readMessage(com.google.protobuf.UInt32Value.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(scheduledStart_);
                  scheduledStart_ = subBuilder.buildPartial();
                }

                break;
              }
              case 90: {
                com.google.protobuf.UInt32Value.Builder subBuilder = null;
                if (scheduledDay_ != null) {
                  subBuilder = scheduledDay_.toBuilder();
                }
                scheduledDay_ = input.readMessage(com.google.protobuf.UInt32Value.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(scheduledDay_);
                  scheduledDay_ = subBuilder.buildPartial();
                }

                break;
              }
              case 96: {
                int rawValue = input.readEnum();

                previousEventType_ = rawValue;
                break;
              }
              case 106: {
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder subBuilder = null;
                if (source_ != null) {
                  subBuilder = source_.toBuilder();
                }
                source_ = input.readMessage(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(source_);
                  source_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSetPoint_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSetPoint_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.Builder.class);
      }

      public static final int SETPOINTTYPE_FIELD_NUMBER = 1;
      private int setPointType_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacySetPointType setPointType = 1;</code>
       * @return The enum numeric value on the wire for setPointType.
       */
      @java.lang.Override public int getSetPointTypeValue() {
        return setPointType_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacySetPointType setPointType = 1;</code>
       * @return The setPointType.
       */
      @java.lang.Override public nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType getSetPointType() {
        @SuppressWarnings("deprecation")
        nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType result = nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType.valueOf(setPointType_);
        return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType.UNRECOGNIZED : result;
      }

      public static final int SCHEDULETYPE_FIELD_NUMBER = 2;
      private int scheduleType_;
      /**
       * <code>.nest.trait.hvac.SetPointScheduleSettingsTrait.SetPointScheduleType scheduleType = 2;</code>
       * @return The enum numeric value on the wire for scheduleType.
       */
      @java.lang.Override public int getScheduleTypeValue() {
        return scheduleType_;
      }
      /**
       * <code>.nest.trait.hvac.SetPointScheduleSettingsTrait.SetPointScheduleType scheduleType = 2;</code>
       * @return The scheduleType.
       */
      @java.lang.Override public nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType getScheduleType() {
        @SuppressWarnings("deprecation")
        nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType result = nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType.valueOf(scheduleType_);
        return result == null ? nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType.UNRECOGNIZED : result;
      }

      public static final int HEATINGTARGET_FIELD_NUMBER = 3;
      private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold heatingTarget_;
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
       * @return Whether the heatingTarget field is set.
       */
      @java.lang.Override
      public boolean hasHeatingTarget() {
        return heatingTarget_ != null;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
       * @return The heatingTarget.
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getHeatingTarget() {
        return heatingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : heatingTarget_;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getHeatingTargetOrBuilder() {
        return getHeatingTarget();
      }

      public static final int COOLINGTARGET_FIELD_NUMBER = 4;
      private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold coolingTarget_;
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
       * @return Whether the coolingTarget field is set.
       */
      @java.lang.Override
      public boolean hasCoolingTarget() {
        return coolingTarget_ != null;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
       * @return The coolingTarget.
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getCoolingTarget() {
        return coolingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : coolingTarget_;
      }
      /**
       * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
       */
      @java.lang.Override
      public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getCoolingTargetOrBuilder() {
        return getCoolingTarget();
      }

      public static final int ACTOR_FIELD_NUMBER = 5;
      private int actor_;
      /**
       * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 5;</code>
       * @return The enum numeric value on the wire for actor.
       */
      @java.lang.Override public int getActorValue() {
        return actor_;
      }
      /**
       * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 5;</code>
       * @return The actor.
       */
      @java.lang.Override public nest.trait.hvac.Hvac.HvacActor.HvacActorMethod getActor() {
        @SuppressWarnings("deprecation")
        nest.trait.hvac.Hvac.HvacActor.HvacActorMethod result = nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.valueOf(actor_);
        return result == null ? nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.UNRECOGNIZED : result;
      }

      public static final int TOUCHEDWHEN_FIELD_NUMBER = 6;
      private com.google.protobuf.Timestamp touchedWhen_;
      /**
       * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
       * @return Whether the touchedWhen field is set.
       */
      @java.lang.Override
      public boolean hasTouchedWhen() {
        return touchedWhen_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
       * @return The touchedWhen.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getTouchedWhen() {
        return touchedWhen_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : touchedWhen_;
      }
      /**
       * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getTouchedWhenOrBuilder() {
        return getTouchedWhen();
      }

      public static final int TOUCHEDTIMEZONEOFFSET_FIELD_NUMBER = 7;
      private com.google.protobuf.Int32Value touchedTimezoneOffset_;
      /**
       * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
       * @return Whether the touchedTimezoneOffset field is set.
       */
      @java.lang.Override
      public boolean hasTouchedTimezoneOffset() {
        return touchedTimezoneOffset_ != null;
      }
      /**
       * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
       * @return The touchedTimezoneOffset.
       */
      @java.lang.Override
      public com.google.protobuf.Int32Value getTouchedTimezoneOffset() {
        return touchedTimezoneOffset_ == null ? com.google.protobuf.Int32Value.getDefaultInstance() : touchedTimezoneOffset_;
      }
      /**
       * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
       */
      @java.lang.Override
      public com.google.protobuf.Int32ValueOrBuilder getTouchedTimezoneOffsetOrBuilder() {
        return getTouchedTimezoneOffset();
      }

      public static final int TOUCHEDWHERE_FIELD_NUMBER = 8;
      private int touchedWhere_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 8;</code>
       * @return The enum numeric value on the wire for touchedWhere.
       */
      @java.lang.Override public int getTouchedWhereValue() {
        return touchedWhere_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 8;</code>
       * @return The touchedWhere.
       */
      @java.lang.Override public nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere getTouchedWhere() {
        @SuppressWarnings("deprecation")
        nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere result = nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.valueOf(touchedWhere_);
        return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.UNRECOGNIZED : result;
      }

      public static final int TOUCHEDUSERID_FIELD_NUMBER = 9;
      private com.google.protobuf.StringValue touchedUserId_;
      /**
       * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
       * @return Whether the touchedUserId field is set.
       */
      @java.lang.Override
      public boolean hasTouchedUserId() {
        return touchedUserId_ != null;
      }
      /**
       * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
       * @return The touchedUserId.
       */
      @java.lang.Override
      public com.google.protobuf.StringValue getTouchedUserId() {
        return touchedUserId_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : touchedUserId_;
      }
      /**
       * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
       */
      @java.lang.Override
      public com.google.protobuf.StringValueOrBuilder getTouchedUserIdOrBuilder() {
        return getTouchedUserId();
      }

      public static final int SCHEDULEDSTART_FIELD_NUMBER = 10;
      private com.google.protobuf.UInt32Value scheduledStart_;
      /**
       * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
       * @return Whether the scheduledStart field is set.
       */
      @java.lang.Override
      public boolean hasScheduledStart() {
        return scheduledStart_ != null;
      }
      /**
       * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
       * @return The scheduledStart.
       */
      @java.lang.Override
      public com.google.protobuf.UInt32Value getScheduledStart() {
        return scheduledStart_ == null ? com.google.protobuf.UInt32Value.getDefaultInstance() : scheduledStart_;
      }
      /**
       * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
       */
      @java.lang.Override
      public com.google.protobuf.UInt32ValueOrBuilder getScheduledStartOrBuilder() {
        return getScheduledStart();
      }

      public static final int SCHEDULEDDAY_FIELD_NUMBER = 11;
      private com.google.protobuf.UInt32Value scheduledDay_;
      /**
       * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
       * @return Whether the scheduledDay field is set.
       */
      @java.lang.Override
      public boolean hasScheduledDay() {
        return scheduledDay_ != null;
      }
      /**
       * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
       * @return The scheduledDay.
       */
      @java.lang.Override
      public com.google.protobuf.UInt32Value getScheduledDay() {
        return scheduledDay_ == null ? com.google.protobuf.UInt32Value.getDefaultInstance() : scheduledDay_;
      }
      /**
       * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
       */
      @java.lang.Override
      public com.google.protobuf.UInt32ValueOrBuilder getScheduledDayOrBuilder() {
        return getScheduledDay();
      }

      public static final int PREVIOUSEVENTTYPE_FIELD_NUMBER = 12;
      private int previousEventType_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType previousEventType = 12;</code>
       * @return The enum numeric value on the wire for previousEventType.
       */
      @java.lang.Override public int getPreviousEventTypeValue() {
        return previousEventType_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType previousEventType = 12;</code>
       * @return The previousEventType.
       */
      @java.lang.Override public nest.trait.history.History.EnergyHistoryTrait.LegacyEventType getPreviousEventType() {
        @SuppressWarnings("deprecation")
        nest.trait.history.History.EnergyHistoryTrait.LegacyEventType result = nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.valueOf(previousEventType_);
        return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.UNRECOGNIZED : result;
      }

      public static final int SOURCE_FIELD_NUMBER = 13;
      private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource source_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
       * @return Whether the source field is set.
       */
      @java.lang.Override
      public boolean hasSource() {
        return source_ != null;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
       * @return The source.
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getSource() {
        return source_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : source_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getSourceOrBuilder() {
        return getSource();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (setPointType_ != nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType.LEGACY_SET_POINT_TYPE_UNSPECIFIED.getNumber()) {
          output.writeEnum(1, setPointType_);
        }
        if (scheduleType_ != nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType.SET_POINT_SCHEDULE_TYPE_UNSPECIFIED.getNumber()) {
          output.writeEnum(2, scheduleType_);
        }
        if (heatingTarget_ != null) {
          output.writeMessage(3, getHeatingTarget());
        }
        if (coolingTarget_ != null) {
          output.writeMessage(4, getCoolingTarget());
        }
        if (actor_ != nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.HVAC_ACTOR_METHOD_UNSPECIFIED.getNumber()) {
          output.writeEnum(5, actor_);
        }
        if (touchedWhen_ != null) {
          output.writeMessage(6, getTouchedWhen());
        }
        if (touchedTimezoneOffset_ != null) {
          output.writeMessage(7, getTouchedTimezoneOffset());
        }
        if (touchedWhere_ != nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.LEGACY_TOUCHED_WHERE_UNSPECIFIED.getNumber()) {
          output.writeEnum(8, touchedWhere_);
        }
        if (touchedUserId_ != null) {
          output.writeMessage(9, getTouchedUserId());
        }
        if (scheduledStart_ != null) {
          output.writeMessage(10, getScheduledStart());
        }
        if (scheduledDay_ != null) {
          output.writeMessage(11, getScheduledDay());
        }
        if (previousEventType_ != nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.LEGACY_EVENT_TYPE_UNSPECIFIED.getNumber()) {
          output.writeEnum(12, previousEventType_);
        }
        if (source_ != null) {
          output.writeMessage(13, getSource());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (setPointType_ != nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType.LEGACY_SET_POINT_TYPE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(1, setPointType_);
        }
        if (scheduleType_ != nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType.SET_POINT_SCHEDULE_TYPE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(2, scheduleType_);
        }
        if (heatingTarget_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getHeatingTarget());
        }
        if (coolingTarget_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(4, getCoolingTarget());
        }
        if (actor_ != nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.HVAC_ACTOR_METHOD_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(5, actor_);
        }
        if (touchedWhen_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(6, getTouchedWhen());
        }
        if (touchedTimezoneOffset_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(7, getTouchedTimezoneOffset());
        }
        if (touchedWhere_ != nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.LEGACY_TOUCHED_WHERE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(8, touchedWhere_);
        }
        if (touchedUserId_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(9, getTouchedUserId());
        }
        if (scheduledStart_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(10, getScheduledStart());
        }
        if (scheduledDay_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(11, getScheduledDay());
        }
        if (previousEventType_ != nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.LEGACY_EVENT_TYPE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(12, previousEventType_);
        }
        if (source_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(13, getSource());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint other = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint) obj;

        if (setPointType_ != other.setPointType_) return false;
        if (scheduleType_ != other.scheduleType_) return false;
        if (hasHeatingTarget() != other.hasHeatingTarget()) return false;
        if (hasHeatingTarget()) {
          if (!getHeatingTarget()
              .equals(other.getHeatingTarget())) return false;
        }
        if (hasCoolingTarget() != other.hasCoolingTarget()) return false;
        if (hasCoolingTarget()) {
          if (!getCoolingTarget()
              .equals(other.getCoolingTarget())) return false;
        }
        if (actor_ != other.actor_) return false;
        if (hasTouchedWhen() != other.hasTouchedWhen()) return false;
        if (hasTouchedWhen()) {
          if (!getTouchedWhen()
              .equals(other.getTouchedWhen())) return false;
        }
        if (hasTouchedTimezoneOffset() != other.hasTouchedTimezoneOffset()) return false;
        if (hasTouchedTimezoneOffset()) {
          if (!getTouchedTimezoneOffset()
              .equals(other.getTouchedTimezoneOffset())) return false;
        }
        if (touchedWhere_ != other.touchedWhere_) return false;
        if (hasTouchedUserId() != other.hasTouchedUserId()) return false;
        if (hasTouchedUserId()) {
          if (!getTouchedUserId()
              .equals(other.getTouchedUserId())) return false;
        }
        if (hasScheduledStart() != other.hasScheduledStart()) return false;
        if (hasScheduledStart()) {
          if (!getScheduledStart()
              .equals(other.getScheduledStart())) return false;
        }
        if (hasScheduledDay() != other.hasScheduledDay()) return false;
        if (hasScheduledDay()) {
          if (!getScheduledDay()
              .equals(other.getScheduledDay())) return false;
        }
        if (previousEventType_ != other.previousEventType_) return false;
        if (hasSource() != other.hasSource()) return false;
        if (hasSource()) {
          if (!getSource()
              .equals(other.getSource())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + SETPOINTTYPE_FIELD_NUMBER;
        hash = (53 * hash) + setPointType_;
        hash = (37 * hash) + SCHEDULETYPE_FIELD_NUMBER;
        hash = (53 * hash) + scheduleType_;
        if (hasHeatingTarget()) {
          hash = (37 * hash) + HEATINGTARGET_FIELD_NUMBER;
          hash = (53 * hash) + getHeatingTarget().hashCode();
        }
        if (hasCoolingTarget()) {
          hash = (37 * hash) + COOLINGTARGET_FIELD_NUMBER;
          hash = (53 * hash) + getCoolingTarget().hashCode();
        }
        hash = (37 * hash) + ACTOR_FIELD_NUMBER;
        hash = (53 * hash) + actor_;
        if (hasTouchedWhen()) {
          hash = (37 * hash) + TOUCHEDWHEN_FIELD_NUMBER;
          hash = (53 * hash) + getTouchedWhen().hashCode();
        }
        if (hasTouchedTimezoneOffset()) {
          hash = (37 * hash) + TOUCHEDTIMEZONEOFFSET_FIELD_NUMBER;
          hash = (53 * hash) + getTouchedTimezoneOffset().hashCode();
        }
        hash = (37 * hash) + TOUCHEDWHERE_FIELD_NUMBER;
        hash = (53 * hash) + touchedWhere_;
        if (hasTouchedUserId()) {
          hash = (37 * hash) + TOUCHEDUSERID_FIELD_NUMBER;
          hash = (53 * hash) + getTouchedUserId().hashCode();
        }
        if (hasScheduledStart()) {
          hash = (37 * hash) + SCHEDULEDSTART_FIELD_NUMBER;
          hash = (53 * hash) + getScheduledStart().hashCode();
        }
        if (hasScheduledDay()) {
          hash = (37 * hash) + SCHEDULEDDAY_FIELD_NUMBER;
          hash = (53 * hash) + getScheduledDay().hashCode();
        }
        hash = (37 * hash) + PREVIOUSEVENTTYPE_FIELD_NUMBER;
        hash = (53 * hash) + previousEventType_;
        if (hasSource()) {
          hash = (37 * hash) + SOURCE_FIELD_NUMBER;
          hash = (53 * hash) + getSource().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint)
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPointOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSetPoint_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSetPoint_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          setPointType_ = 0;

          scheduleType_ = 0;

          if (heatingTargetBuilder_ == null) {
            heatingTarget_ = null;
          } else {
            heatingTarget_ = null;
            heatingTargetBuilder_ = null;
          }
          if (coolingTargetBuilder_ == null) {
            coolingTarget_ = null;
          } else {
            coolingTarget_ = null;
            coolingTargetBuilder_ = null;
          }
          actor_ = 0;

          if (touchedWhenBuilder_ == null) {
            touchedWhen_ = null;
          } else {
            touchedWhen_ = null;
            touchedWhenBuilder_ = null;
          }
          if (touchedTimezoneOffsetBuilder_ == null) {
            touchedTimezoneOffset_ = null;
          } else {
            touchedTimezoneOffset_ = null;
            touchedTimezoneOffsetBuilder_ = null;
          }
          touchedWhere_ = 0;

          if (touchedUserIdBuilder_ == null) {
            touchedUserId_ = null;
          } else {
            touchedUserId_ = null;
            touchedUserIdBuilder_ = null;
          }
          if (scheduledStartBuilder_ == null) {
            scheduledStart_ = null;
          } else {
            scheduledStart_ = null;
            scheduledStartBuilder_ = null;
          }
          if (scheduledDayBuilder_ == null) {
            scheduledDay_ = null;
          } else {
            scheduledDay_ = null;
            scheduledDayBuilder_ = null;
          }
          previousEventType_ = 0;

          if (sourceBuilder_ == null) {
            source_ = null;
          } else {
            source_ = null;
            sourceBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSetPoint_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint result = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint(this);
          result.setPointType_ = setPointType_;
          result.scheduleType_ = scheduleType_;
          if (heatingTargetBuilder_ == null) {
            result.heatingTarget_ = heatingTarget_;
          } else {
            result.heatingTarget_ = heatingTargetBuilder_.build();
          }
          if (coolingTargetBuilder_ == null) {
            result.coolingTarget_ = coolingTarget_;
          } else {
            result.coolingTarget_ = coolingTargetBuilder_.build();
          }
          result.actor_ = actor_;
          if (touchedWhenBuilder_ == null) {
            result.touchedWhen_ = touchedWhen_;
          } else {
            result.touchedWhen_ = touchedWhenBuilder_.build();
          }
          if (touchedTimezoneOffsetBuilder_ == null) {
            result.touchedTimezoneOffset_ = touchedTimezoneOffset_;
          } else {
            result.touchedTimezoneOffset_ = touchedTimezoneOffsetBuilder_.build();
          }
          result.touchedWhere_ = touchedWhere_;
          if (touchedUserIdBuilder_ == null) {
            result.touchedUserId_ = touchedUserId_;
          } else {
            result.touchedUserId_ = touchedUserIdBuilder_.build();
          }
          if (scheduledStartBuilder_ == null) {
            result.scheduledStart_ = scheduledStart_;
          } else {
            result.scheduledStart_ = scheduledStartBuilder_.build();
          }
          if (scheduledDayBuilder_ == null) {
            result.scheduledDay_ = scheduledDay_;
          } else {
            result.scheduledDay_ = scheduledDayBuilder_.build();
          }
          result.previousEventType_ = previousEventType_;
          if (sourceBuilder_ == null) {
            result.source_ = source_;
          } else {
            result.source_ = sourceBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint.getDefaultInstance()) return this;
          if (other.setPointType_ != 0) {
            setSetPointTypeValue(other.getSetPointTypeValue());
          }
          if (other.scheduleType_ != 0) {
            setScheduleTypeValue(other.getScheduleTypeValue());
          }
          if (other.hasHeatingTarget()) {
            mergeHeatingTarget(other.getHeatingTarget());
          }
          if (other.hasCoolingTarget()) {
            mergeCoolingTarget(other.getCoolingTarget());
          }
          if (other.actor_ != 0) {
            setActorValue(other.getActorValue());
          }
          if (other.hasTouchedWhen()) {
            mergeTouchedWhen(other.getTouchedWhen());
          }
          if (other.hasTouchedTimezoneOffset()) {
            mergeTouchedTimezoneOffset(other.getTouchedTimezoneOffset());
          }
          if (other.touchedWhere_ != 0) {
            setTouchedWhereValue(other.getTouchedWhereValue());
          }
          if (other.hasTouchedUserId()) {
            mergeTouchedUserId(other.getTouchedUserId());
          }
          if (other.hasScheduledStart()) {
            mergeScheduledStart(other.getScheduledStart());
          }
          if (other.hasScheduledDay()) {
            mergeScheduledDay(other.getScheduledDay());
          }
          if (other.previousEventType_ != 0) {
            setPreviousEventTypeValue(other.getPreviousEventTypeValue());
          }
          if (other.hasSource()) {
            mergeSource(other.getSource());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private int setPointType_ = 0;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySetPointType setPointType = 1;</code>
         * @return The enum numeric value on the wire for setPointType.
         */
        @java.lang.Override public int getSetPointTypeValue() {
          return setPointType_;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySetPointType setPointType = 1;</code>
         * @param value The enum numeric value on the wire for setPointType to set.
         * @return This builder for chaining.
         */
        public Builder setSetPointTypeValue(int value) {
          
          setPointType_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySetPointType setPointType = 1;</code>
         * @return The setPointType.
         */
        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType getSetPointType() {
          @SuppressWarnings("deprecation")
          nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType result = nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType.valueOf(setPointType_);
          return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySetPointType setPointType = 1;</code>
         * @param value The setPointType to set.
         * @return This builder for chaining.
         */
        public Builder setSetPointType(nest.trait.history.History.EnergyHistoryTrait.LegacySetPointType value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          setPointType_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacySetPointType setPointType = 1;</code>
         * @return This builder for chaining.
         */
        public Builder clearSetPointType() {
          
          setPointType_ = 0;
          onChanged();
          return this;
        }

        private int scheduleType_ = 0;
        /**
         * <code>.nest.trait.hvac.SetPointScheduleSettingsTrait.SetPointScheduleType scheduleType = 2;</code>
         * @return The enum numeric value on the wire for scheduleType.
         */
        @java.lang.Override public int getScheduleTypeValue() {
          return scheduleType_;
        }
        /**
         * <code>.nest.trait.hvac.SetPointScheduleSettingsTrait.SetPointScheduleType scheduleType = 2;</code>
         * @param value The enum numeric value on the wire for scheduleType to set.
         * @return This builder for chaining.
         */
        public Builder setScheduleTypeValue(int value) {
          
          scheduleType_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.hvac.SetPointScheduleSettingsTrait.SetPointScheduleType scheduleType = 2;</code>
         * @return The scheduleType.
         */
        @java.lang.Override
        public nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType getScheduleType() {
          @SuppressWarnings("deprecation")
          nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType result = nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType.valueOf(scheduleType_);
          return result == null ? nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.hvac.SetPointScheduleSettingsTrait.SetPointScheduleType scheduleType = 2;</code>
         * @param value The scheduleType to set.
         * @return This builder for chaining.
         */
        public Builder setScheduleType(nest.trait.hvac.Hvac.SetPointScheduleSettingsTrait.SetPointScheduleType value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          scheduleType_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.hvac.SetPointScheduleSettingsTrait.SetPointScheduleType scheduleType = 2;</code>
         * @return This builder for chaining.
         */
        public Builder clearScheduleType() {
          
          scheduleType_ = 0;
          onChanged();
          return this;
        }

        private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold heatingTarget_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> heatingTargetBuilder_;
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
         * @return Whether the heatingTarget field is set.
         */
        public boolean hasHeatingTarget() {
          return heatingTargetBuilder_ != null || heatingTarget_ != null;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
         * @return The heatingTarget.
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getHeatingTarget() {
          if (heatingTargetBuilder_ == null) {
            return heatingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : heatingTarget_;
          } else {
            return heatingTargetBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
         */
        public Builder setHeatingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (heatingTargetBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            heatingTarget_ = value;
            onChanged();
          } else {
            heatingTargetBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
         */
        public Builder setHeatingTarget(
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder builderForValue) {
          if (heatingTargetBuilder_ == null) {
            heatingTarget_ = builderForValue.build();
            onChanged();
          } else {
            heatingTargetBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
         */
        public Builder mergeHeatingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (heatingTargetBuilder_ == null) {
            if (heatingTarget_ != null) {
              heatingTarget_ =
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.newBuilder(heatingTarget_).mergeFrom(value).buildPartial();
            } else {
              heatingTarget_ = value;
            }
            onChanged();
          } else {
            heatingTargetBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
         */
        public Builder clearHeatingTarget() {
          if (heatingTargetBuilder_ == null) {
            heatingTarget_ = null;
            onChanged();
          } else {
            heatingTarget_ = null;
            heatingTargetBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder getHeatingTargetBuilder() {
          
          onChanged();
          return getHeatingTargetFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getHeatingTargetOrBuilder() {
          if (heatingTargetBuilder_ != null) {
            return heatingTargetBuilder_.getMessageOrBuilder();
          } else {
            return heatingTarget_ == null ?
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : heatingTarget_;
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold heatingTarget = 3;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> 
            getHeatingTargetFieldBuilder() {
          if (heatingTargetBuilder_ == null) {
            heatingTargetBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder>(
                    getHeatingTarget(),
                    getParentForChildren(),
                    isClean());
            heatingTarget_ = null;
          }
          return heatingTargetBuilder_;
        }

        private nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold coolingTarget_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> coolingTargetBuilder_;
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
         * @return Whether the coolingTarget field is set.
         */
        public boolean hasCoolingTarget() {
          return coolingTargetBuilder_ != null || coolingTarget_ != null;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
         * @return The coolingTarget.
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold getCoolingTarget() {
          if (coolingTargetBuilder_ == null) {
            return coolingTarget_ == null ? nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : coolingTarget_;
          } else {
            return coolingTargetBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
         */
        public Builder setCoolingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (coolingTargetBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            coolingTarget_ = value;
            onChanged();
          } else {
            coolingTargetBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
         */
        public Builder setCoolingTarget(
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder builderForValue) {
          if (coolingTargetBuilder_ == null) {
            coolingTarget_ = builderForValue.build();
            onChanged();
          } else {
            coolingTargetBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
         */
        public Builder mergeCoolingTarget(nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold value) {
          if (coolingTargetBuilder_ == null) {
            if (coolingTarget_ != null) {
              coolingTarget_ =
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.newBuilder(coolingTarget_).mergeFrom(value).buildPartial();
            } else {
              coolingTarget_ = value;
            }
            onChanged();
          } else {
            coolingTargetBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
         */
        public Builder clearCoolingTarget() {
          if (coolingTargetBuilder_ == null) {
            coolingTarget_ = null;
            onChanged();
          } else {
            coolingTarget_ = null;
            coolingTargetBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder getCoolingTargetBuilder() {
          
          onChanged();
          return getCoolingTargetFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
         */
        public nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder getCoolingTargetOrBuilder() {
          if (coolingTargetBuilder_ != null) {
            return coolingTargetBuilder_.getMessageOrBuilder();
          } else {
            return coolingTarget_ == null ?
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.getDefaultInstance() : coolingTarget_;
          }
        }
        /**
         * <code>.nest.trait.hvac.HvacControl.TemperatureThreshold coolingTarget = 4;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder> 
            getCoolingTargetFieldBuilder() {
          if (coolingTargetBuilder_ == null) {
            coolingTargetBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold, nest.trait.hvac.Hvac.HvacControl.TemperatureThreshold.Builder, nest.trait.hvac.Hvac.HvacControl.TemperatureThresholdOrBuilder>(
                    getCoolingTarget(),
                    getParentForChildren(),
                    isClean());
            coolingTarget_ = null;
          }
          return coolingTargetBuilder_;
        }

        private int actor_ = 0;
        /**
         * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 5;</code>
         * @return The enum numeric value on the wire for actor.
         */
        @java.lang.Override public int getActorValue() {
          return actor_;
        }
        /**
         * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 5;</code>
         * @param value The enum numeric value on the wire for actor to set.
         * @return This builder for chaining.
         */
        public Builder setActorValue(int value) {
          
          actor_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 5;</code>
         * @return The actor.
         */
        @java.lang.Override
        public nest.trait.hvac.Hvac.HvacActor.HvacActorMethod getActor() {
          @SuppressWarnings("deprecation")
          nest.trait.hvac.Hvac.HvacActor.HvacActorMethod result = nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.valueOf(actor_);
          return result == null ? nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 5;</code>
         * @param value The actor to set.
         * @return This builder for chaining.
         */
        public Builder setActor(nest.trait.hvac.Hvac.HvacActor.HvacActorMethod value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          actor_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 5;</code>
         * @return This builder for chaining.
         */
        public Builder clearActor() {
          
          actor_ = 0;
          onChanged();
          return this;
        }

        private com.google.protobuf.Timestamp touchedWhen_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> touchedWhenBuilder_;
        /**
         * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
         * @return Whether the touchedWhen field is set.
         */
        public boolean hasTouchedWhen() {
          return touchedWhenBuilder_ != null || touchedWhen_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
         * @return The touchedWhen.
         */
        public com.google.protobuf.Timestamp getTouchedWhen() {
          if (touchedWhenBuilder_ == null) {
            return touchedWhen_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : touchedWhen_;
          } else {
            return touchedWhenBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
         */
        public Builder setTouchedWhen(com.google.protobuf.Timestamp value) {
          if (touchedWhenBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            touchedWhen_ = value;
            onChanged();
          } else {
            touchedWhenBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
         */
        public Builder setTouchedWhen(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (touchedWhenBuilder_ == null) {
            touchedWhen_ = builderForValue.build();
            onChanged();
          } else {
            touchedWhenBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
         */
        public Builder mergeTouchedWhen(com.google.protobuf.Timestamp value) {
          if (touchedWhenBuilder_ == null) {
            if (touchedWhen_ != null) {
              touchedWhen_ =
                com.google.protobuf.Timestamp.newBuilder(touchedWhen_).mergeFrom(value).buildPartial();
            } else {
              touchedWhen_ = value;
            }
            onChanged();
          } else {
            touchedWhenBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
         */
        public Builder clearTouchedWhen() {
          if (touchedWhenBuilder_ == null) {
            touchedWhen_ = null;
            onChanged();
          } else {
            touchedWhen_ = null;
            touchedWhenBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
         */
        public com.google.protobuf.Timestamp.Builder getTouchedWhenBuilder() {
          
          onChanged();
          return getTouchedWhenFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getTouchedWhenOrBuilder() {
          if (touchedWhenBuilder_ != null) {
            return touchedWhenBuilder_.getMessageOrBuilder();
          } else {
            return touchedWhen_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : touchedWhen_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp touchedWhen = 6;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getTouchedWhenFieldBuilder() {
          if (touchedWhenBuilder_ == null) {
            touchedWhenBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getTouchedWhen(),
                    getParentForChildren(),
                    isClean());
            touchedWhen_ = null;
          }
          return touchedWhenBuilder_;
        }

        private com.google.protobuf.Int32Value touchedTimezoneOffset_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Int32Value, com.google.protobuf.Int32Value.Builder, com.google.protobuf.Int32ValueOrBuilder> touchedTimezoneOffsetBuilder_;
        /**
         * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
         * @return Whether the touchedTimezoneOffset field is set.
         */
        public boolean hasTouchedTimezoneOffset() {
          return touchedTimezoneOffsetBuilder_ != null || touchedTimezoneOffset_ != null;
        }
        /**
         * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
         * @return The touchedTimezoneOffset.
         */
        public com.google.protobuf.Int32Value getTouchedTimezoneOffset() {
          if (touchedTimezoneOffsetBuilder_ == null) {
            return touchedTimezoneOffset_ == null ? com.google.protobuf.Int32Value.getDefaultInstance() : touchedTimezoneOffset_;
          } else {
            return touchedTimezoneOffsetBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
         */
        public Builder setTouchedTimezoneOffset(com.google.protobuf.Int32Value value) {
          if (touchedTimezoneOffsetBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            touchedTimezoneOffset_ = value;
            onChanged();
          } else {
            touchedTimezoneOffsetBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
         */
        public Builder setTouchedTimezoneOffset(
            com.google.protobuf.Int32Value.Builder builderForValue) {
          if (touchedTimezoneOffsetBuilder_ == null) {
            touchedTimezoneOffset_ = builderForValue.build();
            onChanged();
          } else {
            touchedTimezoneOffsetBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
         */
        public Builder mergeTouchedTimezoneOffset(com.google.protobuf.Int32Value value) {
          if (touchedTimezoneOffsetBuilder_ == null) {
            if (touchedTimezoneOffset_ != null) {
              touchedTimezoneOffset_ =
                com.google.protobuf.Int32Value.newBuilder(touchedTimezoneOffset_).mergeFrom(value).buildPartial();
            } else {
              touchedTimezoneOffset_ = value;
            }
            onChanged();
          } else {
            touchedTimezoneOffsetBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
         */
        public Builder clearTouchedTimezoneOffset() {
          if (touchedTimezoneOffsetBuilder_ == null) {
            touchedTimezoneOffset_ = null;
            onChanged();
          } else {
            touchedTimezoneOffset_ = null;
            touchedTimezoneOffsetBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
         */
        public com.google.protobuf.Int32Value.Builder getTouchedTimezoneOffsetBuilder() {
          
          onChanged();
          return getTouchedTimezoneOffsetFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
         */
        public com.google.protobuf.Int32ValueOrBuilder getTouchedTimezoneOffsetOrBuilder() {
          if (touchedTimezoneOffsetBuilder_ != null) {
            return touchedTimezoneOffsetBuilder_.getMessageOrBuilder();
          } else {
            return touchedTimezoneOffset_ == null ?
                com.google.protobuf.Int32Value.getDefaultInstance() : touchedTimezoneOffset_;
          }
        }
        /**
         * <code>.google.protobuf.Int32Value touchedTimezoneOffset = 7;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Int32Value, com.google.protobuf.Int32Value.Builder, com.google.protobuf.Int32ValueOrBuilder> 
            getTouchedTimezoneOffsetFieldBuilder() {
          if (touchedTimezoneOffsetBuilder_ == null) {
            touchedTimezoneOffsetBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Int32Value, com.google.protobuf.Int32Value.Builder, com.google.protobuf.Int32ValueOrBuilder>(
                    getTouchedTimezoneOffset(),
                    getParentForChildren(),
                    isClean());
            touchedTimezoneOffset_ = null;
          }
          return touchedTimezoneOffsetBuilder_;
        }

        private int touchedWhere_ = 0;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 8;</code>
         * @return The enum numeric value on the wire for touchedWhere.
         */
        @java.lang.Override public int getTouchedWhereValue() {
          return touchedWhere_;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 8;</code>
         * @param value The enum numeric value on the wire for touchedWhere to set.
         * @return This builder for chaining.
         */
        public Builder setTouchedWhereValue(int value) {
          
          touchedWhere_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 8;</code>
         * @return The touchedWhere.
         */
        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere getTouchedWhere() {
          @SuppressWarnings("deprecation")
          nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere result = nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.valueOf(touchedWhere_);
          return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 8;</code>
         * @param value The touchedWhere to set.
         * @return This builder for chaining.
         */
        public Builder setTouchedWhere(nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          touchedWhere_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 8;</code>
         * @return This builder for chaining.
         */
        public Builder clearTouchedWhere() {
          
          touchedWhere_ = 0;
          onChanged();
          return this;
        }

        private com.google.protobuf.StringValue touchedUserId_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> touchedUserIdBuilder_;
        /**
         * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
         * @return Whether the touchedUserId field is set.
         */
        public boolean hasTouchedUserId() {
          return touchedUserIdBuilder_ != null || touchedUserId_ != null;
        }
        /**
         * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
         * @return The touchedUserId.
         */
        public com.google.protobuf.StringValue getTouchedUserId() {
          if (touchedUserIdBuilder_ == null) {
            return touchedUserId_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : touchedUserId_;
          } else {
            return touchedUserIdBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
         */
        public Builder setTouchedUserId(com.google.protobuf.StringValue value) {
          if (touchedUserIdBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            touchedUserId_ = value;
            onChanged();
          } else {
            touchedUserIdBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
         */
        public Builder setTouchedUserId(
            com.google.protobuf.StringValue.Builder builderForValue) {
          if (touchedUserIdBuilder_ == null) {
            touchedUserId_ = builderForValue.build();
            onChanged();
          } else {
            touchedUserIdBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
         */
        public Builder mergeTouchedUserId(com.google.protobuf.StringValue value) {
          if (touchedUserIdBuilder_ == null) {
            if (touchedUserId_ != null) {
              touchedUserId_ =
                com.google.protobuf.StringValue.newBuilder(touchedUserId_).mergeFrom(value).buildPartial();
            } else {
              touchedUserId_ = value;
            }
            onChanged();
          } else {
            touchedUserIdBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
         */
        public Builder clearTouchedUserId() {
          if (touchedUserIdBuilder_ == null) {
            touchedUserId_ = null;
            onChanged();
          } else {
            touchedUserId_ = null;
            touchedUserIdBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
         */
        public com.google.protobuf.StringValue.Builder getTouchedUserIdBuilder() {
          
          onChanged();
          return getTouchedUserIdFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
         */
        public com.google.protobuf.StringValueOrBuilder getTouchedUserIdOrBuilder() {
          if (touchedUserIdBuilder_ != null) {
            return touchedUserIdBuilder_.getMessageOrBuilder();
          } else {
            return touchedUserId_ == null ?
                com.google.protobuf.StringValue.getDefaultInstance() : touchedUserId_;
          }
        }
        /**
         * <code>.google.protobuf.StringValue touchedUserId = 9;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> 
            getTouchedUserIdFieldBuilder() {
          if (touchedUserIdBuilder_ == null) {
            touchedUserIdBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder>(
                    getTouchedUserId(),
                    getParentForChildren(),
                    isClean());
            touchedUserId_ = null;
          }
          return touchedUserIdBuilder_;
        }

        private com.google.protobuf.UInt32Value scheduledStart_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.UInt32Value, com.google.protobuf.UInt32Value.Builder, com.google.protobuf.UInt32ValueOrBuilder> scheduledStartBuilder_;
        /**
         * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
         * @return Whether the scheduledStart field is set.
         */
        public boolean hasScheduledStart() {
          return scheduledStartBuilder_ != null || scheduledStart_ != null;
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
         * @return The scheduledStart.
         */
        public com.google.protobuf.UInt32Value getScheduledStart() {
          if (scheduledStartBuilder_ == null) {
            return scheduledStart_ == null ? com.google.protobuf.UInt32Value.getDefaultInstance() : scheduledStart_;
          } else {
            return scheduledStartBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
         */
        public Builder setScheduledStart(com.google.protobuf.UInt32Value value) {
          if (scheduledStartBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            scheduledStart_ = value;
            onChanged();
          } else {
            scheduledStartBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
         */
        public Builder setScheduledStart(
            com.google.protobuf.UInt32Value.Builder builderForValue) {
          if (scheduledStartBuilder_ == null) {
            scheduledStart_ = builderForValue.build();
            onChanged();
          } else {
            scheduledStartBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
         */
        public Builder mergeScheduledStart(com.google.protobuf.UInt32Value value) {
          if (scheduledStartBuilder_ == null) {
            if (scheduledStart_ != null) {
              scheduledStart_ =
                com.google.protobuf.UInt32Value.newBuilder(scheduledStart_).mergeFrom(value).buildPartial();
            } else {
              scheduledStart_ = value;
            }
            onChanged();
          } else {
            scheduledStartBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
         */
        public Builder clearScheduledStart() {
          if (scheduledStartBuilder_ == null) {
            scheduledStart_ = null;
            onChanged();
          } else {
            scheduledStart_ = null;
            scheduledStartBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
         */
        public com.google.protobuf.UInt32Value.Builder getScheduledStartBuilder() {
          
          onChanged();
          return getScheduledStartFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
         */
        public com.google.protobuf.UInt32ValueOrBuilder getScheduledStartOrBuilder() {
          if (scheduledStartBuilder_ != null) {
            return scheduledStartBuilder_.getMessageOrBuilder();
          } else {
            return scheduledStart_ == null ?
                com.google.protobuf.UInt32Value.getDefaultInstance() : scheduledStart_;
          }
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledStart = 10;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.UInt32Value, com.google.protobuf.UInt32Value.Builder, com.google.protobuf.UInt32ValueOrBuilder> 
            getScheduledStartFieldBuilder() {
          if (scheduledStartBuilder_ == null) {
            scheduledStartBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.UInt32Value, com.google.protobuf.UInt32Value.Builder, com.google.protobuf.UInt32ValueOrBuilder>(
                    getScheduledStart(),
                    getParentForChildren(),
                    isClean());
            scheduledStart_ = null;
          }
          return scheduledStartBuilder_;
        }

        private com.google.protobuf.UInt32Value scheduledDay_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.UInt32Value, com.google.protobuf.UInt32Value.Builder, com.google.protobuf.UInt32ValueOrBuilder> scheduledDayBuilder_;
        /**
         * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
         * @return Whether the scheduledDay field is set.
         */
        public boolean hasScheduledDay() {
          return scheduledDayBuilder_ != null || scheduledDay_ != null;
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
         * @return The scheduledDay.
         */
        public com.google.protobuf.UInt32Value getScheduledDay() {
          if (scheduledDayBuilder_ == null) {
            return scheduledDay_ == null ? com.google.protobuf.UInt32Value.getDefaultInstance() : scheduledDay_;
          } else {
            return scheduledDayBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
         */
        public Builder setScheduledDay(com.google.protobuf.UInt32Value value) {
          if (scheduledDayBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            scheduledDay_ = value;
            onChanged();
          } else {
            scheduledDayBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
         */
        public Builder setScheduledDay(
            com.google.protobuf.UInt32Value.Builder builderForValue) {
          if (scheduledDayBuilder_ == null) {
            scheduledDay_ = builderForValue.build();
            onChanged();
          } else {
            scheduledDayBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
         */
        public Builder mergeScheduledDay(com.google.protobuf.UInt32Value value) {
          if (scheduledDayBuilder_ == null) {
            if (scheduledDay_ != null) {
              scheduledDay_ =
                com.google.protobuf.UInt32Value.newBuilder(scheduledDay_).mergeFrom(value).buildPartial();
            } else {
              scheduledDay_ = value;
            }
            onChanged();
          } else {
            scheduledDayBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
         */
        public Builder clearScheduledDay() {
          if (scheduledDayBuilder_ == null) {
            scheduledDay_ = null;
            onChanged();
          } else {
            scheduledDay_ = null;
            scheduledDayBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
         */
        public com.google.protobuf.UInt32Value.Builder getScheduledDayBuilder() {
          
          onChanged();
          return getScheduledDayFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
         */
        public com.google.protobuf.UInt32ValueOrBuilder getScheduledDayOrBuilder() {
          if (scheduledDayBuilder_ != null) {
            return scheduledDayBuilder_.getMessageOrBuilder();
          } else {
            return scheduledDay_ == null ?
                com.google.protobuf.UInt32Value.getDefaultInstance() : scheduledDay_;
          }
        }
        /**
         * <code>.google.protobuf.UInt32Value scheduledDay = 11;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.UInt32Value, com.google.protobuf.UInt32Value.Builder, com.google.protobuf.UInt32ValueOrBuilder> 
            getScheduledDayFieldBuilder() {
          if (scheduledDayBuilder_ == null) {
            scheduledDayBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.UInt32Value, com.google.protobuf.UInt32Value.Builder, com.google.protobuf.UInt32ValueOrBuilder>(
                    getScheduledDay(),
                    getParentForChildren(),
                    isClean());
            scheduledDay_ = null;
          }
          return scheduledDayBuilder_;
        }

        private int previousEventType_ = 0;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType previousEventType = 12;</code>
         * @return The enum numeric value on the wire for previousEventType.
         */
        @java.lang.Override public int getPreviousEventTypeValue() {
          return previousEventType_;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType previousEventType = 12;</code>
         * @param value The enum numeric value on the wire for previousEventType to set.
         * @return This builder for chaining.
         */
        public Builder setPreviousEventTypeValue(int value) {
          
          previousEventType_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType previousEventType = 12;</code>
         * @return The previousEventType.
         */
        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventType getPreviousEventType() {
          @SuppressWarnings("deprecation")
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventType result = nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.valueOf(previousEventType_);
          return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventType.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType previousEventType = 12;</code>
         * @param value The previousEventType to set.
         * @return This builder for chaining.
         */
        public Builder setPreviousEventType(nest.trait.history.History.EnergyHistoryTrait.LegacyEventType value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          previousEventType_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventType previousEventType = 12;</code>
         * @return This builder for chaining.
         */
        public Builder clearPreviousEventType() {
          
          previousEventType_ = 0;
          onChanged();
          return this;
        }

        private nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource source_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> sourceBuilder_;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
         * @return Whether the source field is set.
         */
        public boolean hasSource() {
          return sourceBuilder_ != null || source_ != null;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
         * @return The source.
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getSource() {
          if (sourceBuilder_ == null) {
            return source_ == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : source_;
          } else {
            return sourceBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
         */
        public Builder setSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (sourceBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            source_ = value;
            onChanged();
          } else {
            sourceBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
         */
        public Builder setSource(
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder builderForValue) {
          if (sourceBuilder_ == null) {
            source_ = builderForValue.build();
            onChanged();
          } else {
            sourceBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
         */
        public Builder mergeSource(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource value) {
          if (sourceBuilder_ == null) {
            if (source_ != null) {
              source_ =
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.newBuilder(source_).mergeFrom(value).buildPartial();
            } else {
              source_ = value;
            }
            onChanged();
          } else {
            sourceBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
         */
        public Builder clearSource() {
          if (sourceBuilder_ == null) {
            source_ = null;
            onChanged();
          } else {
            source_ = null;
            sourceBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder getSourceBuilder() {
          
          onChanged();
          return getSourceFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
         */
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder getSourceOrBuilder() {
          if (sourceBuilder_ != null) {
            return sourceBuilder_.getMessageOrBuilder();
          } else {
            return source_ == null ?
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance() : source_;
          }
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyEventSource source = 13;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder> 
            getSourceFieldBuilder() {
          if (sourceBuilder_ == null) {
            sourceBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder>(
                    getSource(),
                    getParentForChildren(),
                    isClean());
            source_ = null;
          }
          return sourceBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventSetPoint)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyEventSetPoint>
          PARSER = new com.google.protobuf.AbstractParser<LegacyEventSetPoint>() {
        @java.lang.Override
        public LegacyEventSetPoint parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyEventSetPoint(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyEventSetPoint> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyEventSetPoint> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSetPoint getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface LegacyEventSourceOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.EnergyHistoryTrait.LegacyEventSource)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 1;</code>
       * @return The enum numeric value on the wire for actor.
       */
      int getActorValue();
      /**
       * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 1;</code>
       * @return The actor.
       */
      nest.trait.hvac.Hvac.HvacActor.HvacActorMethod getActor();

      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 2;</code>
       * @return The enum numeric value on the wire for touchedWhere.
       */
      int getTouchedWhereValue();
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 2;</code>
       * @return The touchedWhere.
       */
      nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere getTouchedWhere();

      /**
       * <code>.google.protobuf.StringValue userName = 3;</code>
       * @return Whether the userName field is set.
       */
      boolean hasUserName();
      /**
       * <code>.google.protobuf.StringValue userName = 3;</code>
       * @return The userName.
       */
      com.google.protobuf.StringValue getUserName();
      /**
       * <code>.google.protobuf.StringValue userName = 3;</code>
       */
      com.google.protobuf.StringValueOrBuilder getUserNameOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventSource}
     */
    public static final class LegacyEventSource extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventSource)
        LegacyEventSourceOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use LegacyEventSource.newBuilder() to construct.
      private LegacyEventSource(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private LegacyEventSource() {
        actor_ = 0;
        touchedWhere_ = 0;
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new LegacyEventSource();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private LegacyEventSource(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 8: {
                int rawValue = input.readEnum();

                actor_ = rawValue;
                break;
              }
              case 16: {
                int rawValue = input.readEnum();

                touchedWhere_ = rawValue;
                break;
              }
              case 26: {
                com.google.protobuf.StringValue.Builder subBuilder = null;
                if (userName_ != null) {
                  subBuilder = userName_.toBuilder();
                }
                userName_ = input.readMessage(com.google.protobuf.StringValue.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(userName_);
                  userName_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSource_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSource_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder.class);
      }

      public static final int ACTOR_FIELD_NUMBER = 1;
      private int actor_;
      /**
       * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 1;</code>
       * @return The enum numeric value on the wire for actor.
       */
      @java.lang.Override public int getActorValue() {
        return actor_;
      }
      /**
       * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 1;</code>
       * @return The actor.
       */
      @java.lang.Override public nest.trait.hvac.Hvac.HvacActor.HvacActorMethod getActor() {
        @SuppressWarnings("deprecation")
        nest.trait.hvac.Hvac.HvacActor.HvacActorMethod result = nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.valueOf(actor_);
        return result == null ? nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.UNRECOGNIZED : result;
      }

      public static final int TOUCHEDWHERE_FIELD_NUMBER = 2;
      private int touchedWhere_;
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 2;</code>
       * @return The enum numeric value on the wire for touchedWhere.
       */
      @java.lang.Override public int getTouchedWhereValue() {
        return touchedWhere_;
      }
      /**
       * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 2;</code>
       * @return The touchedWhere.
       */
      @java.lang.Override public nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere getTouchedWhere() {
        @SuppressWarnings("deprecation")
        nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere result = nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.valueOf(touchedWhere_);
        return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.UNRECOGNIZED : result;
      }

      public static final int USERNAME_FIELD_NUMBER = 3;
      private com.google.protobuf.StringValue userName_;
      /**
       * <code>.google.protobuf.StringValue userName = 3;</code>
       * @return Whether the userName field is set.
       */
      @java.lang.Override
      public boolean hasUserName() {
        return userName_ != null;
      }
      /**
       * <code>.google.protobuf.StringValue userName = 3;</code>
       * @return The userName.
       */
      @java.lang.Override
      public com.google.protobuf.StringValue getUserName() {
        return userName_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : userName_;
      }
      /**
       * <code>.google.protobuf.StringValue userName = 3;</code>
       */
      @java.lang.Override
      public com.google.protobuf.StringValueOrBuilder getUserNameOrBuilder() {
        return getUserName();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (actor_ != nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.HVAC_ACTOR_METHOD_UNSPECIFIED.getNumber()) {
          output.writeEnum(1, actor_);
        }
        if (touchedWhere_ != nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.LEGACY_TOUCHED_WHERE_UNSPECIFIED.getNumber()) {
          output.writeEnum(2, touchedWhere_);
        }
        if (userName_ != null) {
          output.writeMessage(3, getUserName());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (actor_ != nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.HVAC_ACTOR_METHOD_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(1, actor_);
        }
        if (touchedWhere_ != nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.LEGACY_TOUCHED_WHERE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(2, touchedWhere_);
        }
        if (userName_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getUserName());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource)) {
          return super.equals(obj);
        }
        nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource other = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource) obj;

        if (actor_ != other.actor_) return false;
        if (touchedWhere_ != other.touchedWhere_) return false;
        if (hasUserName() != other.hasUserName()) return false;
        if (hasUserName()) {
          if (!getUserName()
              .equals(other.getUserName())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + ACTOR_FIELD_NUMBER;
        hash = (53 * hash) + actor_;
        hash = (37 * hash) + TOUCHEDWHERE_FIELD_NUMBER;
        hash = (53 * hash) + touchedWhere_;
        if (hasUserName()) {
          hash = (37 * hash) + USERNAME_FIELD_NUMBER;
          hash = (53 * hash) + getUserName().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.EnergyHistoryTrait.LegacyEventSource}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait.LegacyEventSource)
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSourceOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSource_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSource_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.class, nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.Builder.class);
        }

        // Construct using nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          actor_ = 0;

          touchedWhere_ = 0;

          if (userNameBuilder_ == null) {
            userName_ = null;
          } else {
            userName_ = null;
            userNameBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSource_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getDefaultInstanceForType() {
          return nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource build() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource buildPartial() {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource result = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource(this);
          result.actor_ = actor_;
          result.touchedWhere_ = touchedWhere_;
          if (userNameBuilder_ == null) {
            result.userName_ = userName_;
          } else {
            result.userName_ = userNameBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource) {
            return mergeFrom((nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource other) {
          if (other == nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource.getDefaultInstance()) return this;
          if (other.actor_ != 0) {
            setActorValue(other.getActorValue());
          }
          if (other.touchedWhere_ != 0) {
            setTouchedWhereValue(other.getTouchedWhereValue());
          }
          if (other.hasUserName()) {
            mergeUserName(other.getUserName());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private int actor_ = 0;
        /**
         * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 1;</code>
         * @return The enum numeric value on the wire for actor.
         */
        @java.lang.Override public int getActorValue() {
          return actor_;
        }
        /**
         * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 1;</code>
         * @param value The enum numeric value on the wire for actor to set.
         * @return This builder for chaining.
         */
        public Builder setActorValue(int value) {
          
          actor_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 1;</code>
         * @return The actor.
         */
        @java.lang.Override
        public nest.trait.hvac.Hvac.HvacActor.HvacActorMethod getActor() {
          @SuppressWarnings("deprecation")
          nest.trait.hvac.Hvac.HvacActor.HvacActorMethod result = nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.valueOf(actor_);
          return result == null ? nest.trait.hvac.Hvac.HvacActor.HvacActorMethod.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 1;</code>
         * @param value The actor to set.
         * @return This builder for chaining.
         */
        public Builder setActor(nest.trait.hvac.Hvac.HvacActor.HvacActorMethod value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          actor_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.hvac.HvacActor.HvacActorMethod actor = 1;</code>
         * @return This builder for chaining.
         */
        public Builder clearActor() {
          
          actor_ = 0;
          onChanged();
          return this;
        }

        private int touchedWhere_ = 0;
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 2;</code>
         * @return The enum numeric value on the wire for touchedWhere.
         */
        @java.lang.Override public int getTouchedWhereValue() {
          return touchedWhere_;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 2;</code>
         * @param value The enum numeric value on the wire for touchedWhere to set.
         * @return This builder for chaining.
         */
        public Builder setTouchedWhereValue(int value) {
          
          touchedWhere_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 2;</code>
         * @return The touchedWhere.
         */
        @java.lang.Override
        public nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere getTouchedWhere() {
          @SuppressWarnings("deprecation")
          nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere result = nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.valueOf(touchedWhere_);
          return result == null ? nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 2;</code>
         * @param value The touchedWhere to set.
         * @return This builder for chaining.
         */
        public Builder setTouchedWhere(nest.trait.history.History.EnergyHistoryTrait.LegacyTouchedWhere value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          touchedWhere_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.EnergyHistoryTrait.LegacyTouchedWhere touchedWhere = 2;</code>
         * @return This builder for chaining.
         */
        public Builder clearTouchedWhere() {
          
          touchedWhere_ = 0;
          onChanged();
          return this;
        }

        private com.google.protobuf.StringValue userName_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> userNameBuilder_;
        /**
         * <code>.google.protobuf.StringValue userName = 3;</code>
         * @return Whether the userName field is set.
         */
        public boolean hasUserName() {
          return userNameBuilder_ != null || userName_ != null;
        }
        /**
         * <code>.google.protobuf.StringValue userName = 3;</code>
         * @return The userName.
         */
        public com.google.protobuf.StringValue getUserName() {
          if (userNameBuilder_ == null) {
            return userName_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : userName_;
          } else {
            return userNameBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.StringValue userName = 3;</code>
         */
        public Builder setUserName(com.google.protobuf.StringValue value) {
          if (userNameBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            userName_ = value;
            onChanged();
          } else {
            userNameBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue userName = 3;</code>
         */
        public Builder setUserName(
            com.google.protobuf.StringValue.Builder builderForValue) {
          if (userNameBuilder_ == null) {
            userName_ = builderForValue.build();
            onChanged();
          } else {
            userNameBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue userName = 3;</code>
         */
        public Builder mergeUserName(com.google.protobuf.StringValue value) {
          if (userNameBuilder_ == null) {
            if (userName_ != null) {
              userName_ =
                com.google.protobuf.StringValue.newBuilder(userName_).mergeFrom(value).buildPartial();
            } else {
              userName_ = value;
            }
            onChanged();
          } else {
            userNameBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue userName = 3;</code>
         */
        public Builder clearUserName() {
          if (userNameBuilder_ == null) {
            userName_ = null;
            onChanged();
          } else {
            userName_ = null;
            userNameBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue userName = 3;</code>
         */
        public com.google.protobuf.StringValue.Builder getUserNameBuilder() {
          
          onChanged();
          return getUserNameFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.StringValue userName = 3;</code>
         */
        public com.google.protobuf.StringValueOrBuilder getUserNameOrBuilder() {
          if (userNameBuilder_ != null) {
            return userNameBuilder_.getMessageOrBuilder();
          } else {
            return userName_ == null ?
                com.google.protobuf.StringValue.getDefaultInstance() : userName_;
          }
        }
        /**
         * <code>.google.protobuf.StringValue userName = 3;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> 
            getUserNameFieldBuilder() {
          if (userNameBuilder_ == null) {
            userNameBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder>(
                    getUserName(),
                    getParentForChildren(),
                    isClean());
            userName_ = null;
          }
          return userNameBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventSource)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait.LegacyEventSource)
      private static final nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource();
      }

      public static nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<LegacyEventSource>
          PARSER = new com.google.protobuf.AbstractParser<LegacyEventSource>() {
        @java.lang.Override
        public LegacyEventSource parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new LegacyEventSource(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<LegacyEventSource> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<LegacyEventSource> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait.LegacyEventSource getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    private byte memoizedIsInitialized = -1;
    @java.lang.Override
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    @java.lang.Override
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      unknownFields.writeTo(output);
    }

    @java.lang.Override
    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      size += unknownFields.getSerializedSize();
      memoizedSize = size;
      return size;
    }

    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof nest.trait.history.History.EnergyHistoryTrait)) {
        return super.equals(obj);
      }
      nest.trait.history.History.EnergyHistoryTrait other = (nest.trait.history.History.EnergyHistoryTrait) obj;

      if (!unknownFields.equals(other.unknownFields)) return false;
      return true;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      hash = (29 * hash) + unknownFields.hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static nest.trait.history.History.EnergyHistoryTrait parseFrom(
        java.nio.ByteBuffer data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static nest.trait.history.History.EnergyHistoryTrait parseFrom(
        java.nio.ByteBuffer data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static nest.trait.history.History.EnergyHistoryTrait parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static nest.trait.history.History.EnergyHistoryTrait parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static nest.trait.history.History.EnergyHistoryTrait parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static nest.trait.history.History.EnergyHistoryTrait parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static nest.trait.history.History.EnergyHistoryTrait parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static nest.trait.history.History.EnergyHistoryTrait parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }
    public static nest.trait.history.History.EnergyHistoryTrait parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }
    public static nest.trait.history.History.EnergyHistoryTrait parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static nest.trait.history.History.EnergyHistoryTrait parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static nest.trait.history.History.EnergyHistoryTrait parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    @java.lang.Override
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(nest.trait.history.History.EnergyHistoryTrait prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    @java.lang.Override
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code nest.trait.history.EnergyHistoryTrait}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:nest.trait.history.EnergyHistoryTrait)
        nest.trait.history.History.EnergyHistoryTraitOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.EnergyHistoryTrait.class, nest.trait.history.History.EnergyHistoryTrait.Builder.class);
      }

      // Construct using nest.trait.history.History.EnergyHistoryTrait.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
        }
      }
      @java.lang.Override
      public Builder clear() {
        super.clear();
        return this;
      }

      @java.lang.Override
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return nest.trait.history.History.internal_static_nest_trait_history_EnergyHistoryTrait_descriptor;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait getDefaultInstanceForType() {
        return nest.trait.history.History.EnergyHistoryTrait.getDefaultInstance();
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait build() {
        nest.trait.history.History.EnergyHistoryTrait result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      @java.lang.Override
      public nest.trait.history.History.EnergyHistoryTrait buildPartial() {
        nest.trait.history.History.EnergyHistoryTrait result = new nest.trait.history.History.EnergyHistoryTrait(this);
        onBuilt();
        return result;
      }

      @java.lang.Override
      public Builder clone() {
        return super.clone();
      }
      @java.lang.Override
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.setField(field, value);
      }
      @java.lang.Override
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return super.clearField(field);
      }
      @java.lang.Override
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return super.clearOneof(oneof);
      }
      @java.lang.Override
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, java.lang.Object value) {
        return super.setRepeatedField(field, index, value);
      }
      @java.lang.Override
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.addRepeatedField(field, value);
      }
      @java.lang.Override
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof nest.trait.history.History.EnergyHistoryTrait) {
          return mergeFrom((nest.trait.history.History.EnergyHistoryTrait)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(nest.trait.history.History.EnergyHistoryTrait other) {
        if (other == nest.trait.history.History.EnergyHistoryTrait.getDefaultInstance()) return this;
        this.mergeUnknownFields(other.unknownFields);
        onChanged();
        return this;
      }

      @java.lang.Override
      public final boolean isInitialized() {
        return true;
      }

      @java.lang.Override
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        nest.trait.history.History.EnergyHistoryTrait parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (nest.trait.history.History.EnergyHistoryTrait) e.getUnfinishedMessage();
          throw e.unwrapIOException();
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      @java.lang.Override
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.setUnknownFields(unknownFields);
      }

      @java.lang.Override
      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.mergeUnknownFields(unknownFields);
      }


      // @@protoc_insertion_point(builder_scope:nest.trait.history.EnergyHistoryTrait)
    }

    // @@protoc_insertion_point(class_scope:nest.trait.history.EnergyHistoryTrait)
    private static final nest.trait.history.History.EnergyHistoryTrait DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new nest.trait.history.History.EnergyHistoryTrait();
    }

    public static nest.trait.history.History.EnergyHistoryTrait getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<EnergyHistoryTrait>
        PARSER = new com.google.protobuf.AbstractParser<EnergyHistoryTrait>() {
      @java.lang.Override
      public EnergyHistoryTrait parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new EnergyHistoryTrait(input, extensionRegistry);
      }
    };

    public static com.google.protobuf.Parser<EnergyHistoryTrait> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<EnergyHistoryTrait> getParserForType() {
      return PARSER;
    }

    @java.lang.Override
    public nest.trait.history.History.EnergyHistoryTrait getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface OccupancyHistoryTraitOrBuilder extends
      // @@protoc_insertion_point(interface_extends:nest.trait.history.OccupancyHistoryTrait)
      com.google.protobuf.MessageOrBuilder {
  }
  /**
   * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait}
   */
  public static final class OccupancyHistoryTrait extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:nest.trait.history.OccupancyHistoryTrait)
      OccupancyHistoryTraitOrBuilder {
  private static final long serialVersionUID = 0L;
    // Use OccupancyHistoryTrait.newBuilder() to construct.
    private OccupancyHistoryTrait(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private OccupancyHistoryTrait() {
    }

    @java.lang.Override
    @SuppressWarnings({"unused"})
    protected java.lang.Object newInstance(
        UnusedPrivateParameter unused) {
      return new OccupancyHistoryTrait();
    }

    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
    getUnknownFields() {
      return this.unknownFields;
    }
    private OccupancyHistoryTrait(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      this();
      if (extensionRegistry == null) {
        throw new java.lang.NullPointerException();
      }
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(
                  input, unknownFields, extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor;
    }

    @java.lang.Override
    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              nest.trait.history.History.OccupancyHistoryTrait.class, nest.trait.history.History.OccupancyHistoryTrait.Builder.class);
    }

    /**
     * Protobuf enum {@code nest.trait.history.OccupancyHistoryTrait.ImplicitChangeReason}
     */
    public enum ImplicitChangeReason
        implements com.google.protobuf.ProtocolMessageEnum {
      /**
       * <code>IMPLICIT_CHANGE_REASON_UNSPECIFIED = 0;</code>
       */
      IMPLICIT_CHANGE_REASON_UNSPECIFIED(0),
      /**
       * <code>IMPLICIT_CHANGE_REASON_ARM = 1;</code>
       */
      IMPLICIT_CHANGE_REASON_ARM(1),
      /**
       * <code>IMPLICIT_CHANGE_REASON_DISARM = 2;</code>
       */
      IMPLICIT_CHANGE_REASON_DISARM(2),
      /**
       * <code>IMPLICIT_CHANGE_REASON_UNLOCK = 3;</code>
       */
      IMPLICIT_CHANGE_REASON_UNLOCK(3),
      UNRECOGNIZED(-1),
      ;

      /**
       * <code>IMPLICIT_CHANGE_REASON_UNSPECIFIED = 0;</code>
       */
      public static final int IMPLICIT_CHANGE_REASON_UNSPECIFIED_VALUE = 0;
      /**
       * <code>IMPLICIT_CHANGE_REASON_ARM = 1;</code>
       */
      public static final int IMPLICIT_CHANGE_REASON_ARM_VALUE = 1;
      /**
       * <code>IMPLICIT_CHANGE_REASON_DISARM = 2;</code>
       */
      public static final int IMPLICIT_CHANGE_REASON_DISARM_VALUE = 2;
      /**
       * <code>IMPLICIT_CHANGE_REASON_UNLOCK = 3;</code>
       */
      public static final int IMPLICIT_CHANGE_REASON_UNLOCK_VALUE = 3;


      public final int getNumber() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalArgumentException(
              "Can't get the number of an unknown enum value.");
        }
        return value;
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       * @deprecated Use {@link #forNumber(int)} instead.
       */
      @java.lang.Deprecated
      public static ImplicitChangeReason valueOf(int value) {
        return forNumber(value);
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       */
      public static ImplicitChangeReason forNumber(int value) {
        switch (value) {
          case 0: return IMPLICIT_CHANGE_REASON_UNSPECIFIED;
          case 1: return IMPLICIT_CHANGE_REASON_ARM;
          case 2: return IMPLICIT_CHANGE_REASON_DISARM;
          case 3: return IMPLICIT_CHANGE_REASON_UNLOCK;
          default: return null;
        }
      }

      public static com.google.protobuf.Internal.EnumLiteMap<ImplicitChangeReason>
          internalGetValueMap() {
        return internalValueMap;
      }
      private static final com.google.protobuf.Internal.EnumLiteMap<
          ImplicitChangeReason> internalValueMap =
            new com.google.protobuf.Internal.EnumLiteMap<ImplicitChangeReason>() {
              public ImplicitChangeReason findValueByNumber(int number) {
                return ImplicitChangeReason.forNumber(number);
              }
            };

      public final com.google.protobuf.Descriptors.EnumValueDescriptor
          getValueDescriptor() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalStateException(
              "Can't get the descriptor of an unrecognized enum value.");
        }
        return getDescriptor().getValues().get(ordinal());
      }
      public final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptorForType() {
        return getDescriptor();
      }
      public static final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptor() {
        return nest.trait.history.History.OccupancyHistoryTrait.getDescriptor().getEnumTypes().get(0);
      }

      private static final ImplicitChangeReason[] VALUES = values();

      public static ImplicitChangeReason valueOf(
          com.google.protobuf.Descriptors.EnumValueDescriptor desc) {
        if (desc.getType() != getDescriptor()) {
          throw new java.lang.IllegalArgumentException(
            "EnumValueDescriptor is not for this type.");
        }
        if (desc.getIndex() == -1) {
          return UNRECOGNIZED;
        }
        return VALUES[desc.getIndex()];
      }

      private final int value;

      private ImplicitChangeReason(int value) {
        this.value = value;
      }

      // @@protoc_insertion_point(enum_scope:nest.trait.history.OccupancyHistoryTrait.ImplicitChangeReason)
    }

    public interface FindOccupancyEventListRequestOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListRequest)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       * @return Whether the queryStartTime field is set.
       */
      boolean hasQueryStartTime();
      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       * @return The queryStartTime.
       */
      com.google.protobuf.Timestamp getQueryStartTime();
      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       */
      com.google.protobuf.TimestampOrBuilder getQueryStartTimeOrBuilder();

      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       * @return Whether the queryEndTime field is set.
       */
      boolean hasQueryEndTime();
      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       * @return The queryEndTime.
       */
      com.google.protobuf.Timestamp getQueryEndTime();
      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       */
      com.google.protobuf.TimestampOrBuilder getQueryEndTimeOrBuilder();

      /**
       * <code>.google.protobuf.StringValue fenceId = 3;</code>
       * @return Whether the fenceId field is set.
       */
      boolean hasFenceId();
      /**
       * <code>.google.protobuf.StringValue fenceId = 3;</code>
       * @return The fenceId.
       */
      com.google.protobuf.StringValue getFenceId();
      /**
       * <code>.google.protobuf.StringValue fenceId = 3;</code>
       */
      com.google.protobuf.StringValueOrBuilder getFenceIdOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListRequest}
     */
    public static final class FindOccupancyEventListRequest extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListRequest)
        FindOccupancyEventListRequestOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use FindOccupancyEventListRequest.newBuilder() to construct.
      private FindOccupancyEventListRequest(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private FindOccupancyEventListRequest() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new FindOccupancyEventListRequest();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private FindOccupancyEventListRequest(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (queryStartTime_ != null) {
                  subBuilder = queryStartTime_.toBuilder();
                }
                queryStartTime_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(queryStartTime_);
                  queryStartTime_ = subBuilder.buildPartial();
                }

                break;
              }
              case 18: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (queryEndTime_ != null) {
                  subBuilder = queryEndTime_.toBuilder();
                }
                queryEndTime_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(queryEndTime_);
                  queryEndTime_ = subBuilder.buildPartial();
                }

                break;
              }
              case 26: {
                com.google.protobuf.StringValue.Builder subBuilder = null;
                if (fenceId_ != null) {
                  subBuilder = fenceId_.toBuilder();
                }
                fenceId_ = input.readMessage(com.google.protobuf.StringValue.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(fenceId_);
                  fenceId_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListRequest_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest.class, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest.Builder.class);
      }

      public static final int QUERYSTARTTIME_FIELD_NUMBER = 1;
      private com.google.protobuf.Timestamp queryStartTime_;
      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       * @return Whether the queryStartTime field is set.
       */
      @java.lang.Override
      public boolean hasQueryStartTime() {
        return queryStartTime_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       * @return The queryStartTime.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getQueryStartTime() {
        return queryStartTime_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : queryStartTime_;
      }
      /**
       * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getQueryStartTimeOrBuilder() {
        return getQueryStartTime();
      }

      public static final int QUERYENDTIME_FIELD_NUMBER = 2;
      private com.google.protobuf.Timestamp queryEndTime_;
      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       * @return Whether the queryEndTime field is set.
       */
      @java.lang.Override
      public boolean hasQueryEndTime() {
        return queryEndTime_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       * @return The queryEndTime.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getQueryEndTime() {
        return queryEndTime_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : queryEndTime_;
      }
      /**
       * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getQueryEndTimeOrBuilder() {
        return getQueryEndTime();
      }

      public static final int FENCEID_FIELD_NUMBER = 3;
      private com.google.protobuf.StringValue fenceId_;
      /**
       * <code>.google.protobuf.StringValue fenceId = 3;</code>
       * @return Whether the fenceId field is set.
       */
      @java.lang.Override
      public boolean hasFenceId() {
        return fenceId_ != null;
      }
      /**
       * <code>.google.protobuf.StringValue fenceId = 3;</code>
       * @return The fenceId.
       */
      @java.lang.Override
      public com.google.protobuf.StringValue getFenceId() {
        return fenceId_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : fenceId_;
      }
      /**
       * <code>.google.protobuf.StringValue fenceId = 3;</code>
       */
      @java.lang.Override
      public com.google.protobuf.StringValueOrBuilder getFenceIdOrBuilder() {
        return getFenceId();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (queryStartTime_ != null) {
          output.writeMessage(1, getQueryStartTime());
        }
        if (queryEndTime_ != null) {
          output.writeMessage(2, getQueryEndTime());
        }
        if (fenceId_ != null) {
          output.writeMessage(3, getFenceId());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (queryStartTime_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getQueryStartTime());
        }
        if (queryEndTime_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getQueryEndTime());
        }
        if (fenceId_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getFenceId());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest)) {
          return super.equals(obj);
        }
        nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest other = (nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest) obj;

        if (hasQueryStartTime() != other.hasQueryStartTime()) return false;
        if (hasQueryStartTime()) {
          if (!getQueryStartTime()
              .equals(other.getQueryStartTime())) return false;
        }
        if (hasQueryEndTime() != other.hasQueryEndTime()) return false;
        if (hasQueryEndTime()) {
          if (!getQueryEndTime()
              .equals(other.getQueryEndTime())) return false;
        }
        if (hasFenceId() != other.hasFenceId()) return false;
        if (hasFenceId()) {
          if (!getFenceId()
              .equals(other.getFenceId())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasQueryStartTime()) {
          hash = (37 * hash) + QUERYSTARTTIME_FIELD_NUMBER;
          hash = (53 * hash) + getQueryStartTime().hashCode();
        }
        if (hasQueryEndTime()) {
          hash = (37 * hash) + QUERYENDTIME_FIELD_NUMBER;
          hash = (53 * hash) + getQueryEndTime().hashCode();
        }
        if (hasFenceId()) {
          hash = (37 * hash) + FENCEID_FIELD_NUMBER;
          hash = (53 * hash) + getFenceId().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListRequest}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListRequest)
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequestOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListRequest_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListRequest_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest.class, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest.Builder.class);
        }

        // Construct using nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (queryStartTimeBuilder_ == null) {
            queryStartTime_ = null;
          } else {
            queryStartTime_ = null;
            queryStartTimeBuilder_ = null;
          }
          if (queryEndTimeBuilder_ == null) {
            queryEndTime_ = null;
          } else {
            queryEndTime_ = null;
            queryEndTimeBuilder_ = null;
          }
          if (fenceIdBuilder_ == null) {
            fenceId_ = null;
          } else {
            fenceId_ = null;
            fenceIdBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListRequest_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest getDefaultInstanceForType() {
          return nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest build() {
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest buildPartial() {
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest result = new nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest(this);
          if (queryStartTimeBuilder_ == null) {
            result.queryStartTime_ = queryStartTime_;
          } else {
            result.queryStartTime_ = queryStartTimeBuilder_.build();
          }
          if (queryEndTimeBuilder_ == null) {
            result.queryEndTime_ = queryEndTime_;
          } else {
            result.queryEndTime_ = queryEndTimeBuilder_.build();
          }
          if (fenceIdBuilder_ == null) {
            result.fenceId_ = fenceId_;
          } else {
            result.fenceId_ = fenceIdBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest) {
            return mergeFrom((nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest other) {
          if (other == nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest.getDefaultInstance()) return this;
          if (other.hasQueryStartTime()) {
            mergeQueryStartTime(other.getQueryStartTime());
          }
          if (other.hasQueryEndTime()) {
            mergeQueryEndTime(other.getQueryEndTime());
          }
          if (other.hasFenceId()) {
            mergeFenceId(other.getFenceId());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private com.google.protobuf.Timestamp queryStartTime_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> queryStartTimeBuilder_;
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         * @return Whether the queryStartTime field is set.
         */
        public boolean hasQueryStartTime() {
          return queryStartTimeBuilder_ != null || queryStartTime_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         * @return The queryStartTime.
         */
        public com.google.protobuf.Timestamp getQueryStartTime() {
          if (queryStartTimeBuilder_ == null) {
            return queryStartTime_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : queryStartTime_;
          } else {
            return queryStartTimeBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public Builder setQueryStartTime(com.google.protobuf.Timestamp value) {
          if (queryStartTimeBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            queryStartTime_ = value;
            onChanged();
          } else {
            queryStartTimeBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public Builder setQueryStartTime(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (queryStartTimeBuilder_ == null) {
            queryStartTime_ = builderForValue.build();
            onChanged();
          } else {
            queryStartTimeBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public Builder mergeQueryStartTime(com.google.protobuf.Timestamp value) {
          if (queryStartTimeBuilder_ == null) {
            if (queryStartTime_ != null) {
              queryStartTime_ =
                com.google.protobuf.Timestamp.newBuilder(queryStartTime_).mergeFrom(value).buildPartial();
            } else {
              queryStartTime_ = value;
            }
            onChanged();
          } else {
            queryStartTimeBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public Builder clearQueryStartTime() {
          if (queryStartTimeBuilder_ == null) {
            queryStartTime_ = null;
            onChanged();
          } else {
            queryStartTime_ = null;
            queryStartTimeBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public com.google.protobuf.Timestamp.Builder getQueryStartTimeBuilder() {
          
          onChanged();
          return getQueryStartTimeFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getQueryStartTimeOrBuilder() {
          if (queryStartTimeBuilder_ != null) {
            return queryStartTimeBuilder_.getMessageOrBuilder();
          } else {
            return queryStartTime_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : queryStartTime_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp queryStartTime = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getQueryStartTimeFieldBuilder() {
          if (queryStartTimeBuilder_ == null) {
            queryStartTimeBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getQueryStartTime(),
                    getParentForChildren(),
                    isClean());
            queryStartTime_ = null;
          }
          return queryStartTimeBuilder_;
        }

        private com.google.protobuf.Timestamp queryEndTime_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> queryEndTimeBuilder_;
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         * @return Whether the queryEndTime field is set.
         */
        public boolean hasQueryEndTime() {
          return queryEndTimeBuilder_ != null || queryEndTime_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         * @return The queryEndTime.
         */
        public com.google.protobuf.Timestamp getQueryEndTime() {
          if (queryEndTimeBuilder_ == null) {
            return queryEndTime_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : queryEndTime_;
          } else {
            return queryEndTimeBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public Builder setQueryEndTime(com.google.protobuf.Timestamp value) {
          if (queryEndTimeBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            queryEndTime_ = value;
            onChanged();
          } else {
            queryEndTimeBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public Builder setQueryEndTime(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (queryEndTimeBuilder_ == null) {
            queryEndTime_ = builderForValue.build();
            onChanged();
          } else {
            queryEndTimeBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public Builder mergeQueryEndTime(com.google.protobuf.Timestamp value) {
          if (queryEndTimeBuilder_ == null) {
            if (queryEndTime_ != null) {
              queryEndTime_ =
                com.google.protobuf.Timestamp.newBuilder(queryEndTime_).mergeFrom(value).buildPartial();
            } else {
              queryEndTime_ = value;
            }
            onChanged();
          } else {
            queryEndTimeBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public Builder clearQueryEndTime() {
          if (queryEndTimeBuilder_ == null) {
            queryEndTime_ = null;
            onChanged();
          } else {
            queryEndTime_ = null;
            queryEndTimeBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public com.google.protobuf.Timestamp.Builder getQueryEndTimeBuilder() {
          
          onChanged();
          return getQueryEndTimeFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getQueryEndTimeOrBuilder() {
          if (queryEndTimeBuilder_ != null) {
            return queryEndTimeBuilder_.getMessageOrBuilder();
          } else {
            return queryEndTime_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : queryEndTime_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp queryEndTime = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getQueryEndTimeFieldBuilder() {
          if (queryEndTimeBuilder_ == null) {
            queryEndTimeBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getQueryEndTime(),
                    getParentForChildren(),
                    isClean());
            queryEndTime_ = null;
          }
          return queryEndTimeBuilder_;
        }

        private com.google.protobuf.StringValue fenceId_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> fenceIdBuilder_;
        /**
         * <code>.google.protobuf.StringValue fenceId = 3;</code>
         * @return Whether the fenceId field is set.
         */
        public boolean hasFenceId() {
          return fenceIdBuilder_ != null || fenceId_ != null;
        }
        /**
         * <code>.google.protobuf.StringValue fenceId = 3;</code>
         * @return The fenceId.
         */
        public com.google.protobuf.StringValue getFenceId() {
          if (fenceIdBuilder_ == null) {
            return fenceId_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : fenceId_;
          } else {
            return fenceIdBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.StringValue fenceId = 3;</code>
         */
        public Builder setFenceId(com.google.protobuf.StringValue value) {
          if (fenceIdBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            fenceId_ = value;
            onChanged();
          } else {
            fenceIdBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue fenceId = 3;</code>
         */
        public Builder setFenceId(
            com.google.protobuf.StringValue.Builder builderForValue) {
          if (fenceIdBuilder_ == null) {
            fenceId_ = builderForValue.build();
            onChanged();
          } else {
            fenceIdBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue fenceId = 3;</code>
         */
        public Builder mergeFenceId(com.google.protobuf.StringValue value) {
          if (fenceIdBuilder_ == null) {
            if (fenceId_ != null) {
              fenceId_ =
                com.google.protobuf.StringValue.newBuilder(fenceId_).mergeFrom(value).buildPartial();
            } else {
              fenceId_ = value;
            }
            onChanged();
          } else {
            fenceIdBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue fenceId = 3;</code>
         */
        public Builder clearFenceId() {
          if (fenceIdBuilder_ == null) {
            fenceId_ = null;
            onChanged();
          } else {
            fenceId_ = null;
            fenceIdBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue fenceId = 3;</code>
         */
        public com.google.protobuf.StringValue.Builder getFenceIdBuilder() {
          
          onChanged();
          return getFenceIdFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.StringValue fenceId = 3;</code>
         */
        public com.google.protobuf.StringValueOrBuilder getFenceIdOrBuilder() {
          if (fenceIdBuilder_ != null) {
            return fenceIdBuilder_.getMessageOrBuilder();
          } else {
            return fenceId_ == null ?
                com.google.protobuf.StringValue.getDefaultInstance() : fenceId_;
          }
        }
        /**
         * <code>.google.protobuf.StringValue fenceId = 3;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> 
            getFenceIdFieldBuilder() {
          if (fenceIdBuilder_ == null) {
            fenceIdBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder>(
                    getFenceId(),
                    getParentForChildren(),
                    isClean());
            fenceId_ = null;
          }
          return fenceIdBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListRequest)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListRequest)
      private static final nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest();
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<FindOccupancyEventListRequest>
          PARSER = new com.google.protobuf.AbstractParser<FindOccupancyEventListRequest>() {
        @java.lang.Override
        public FindOccupancyEventListRequest parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new FindOccupancyEventListRequest(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<FindOccupancyEventListRequest> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<FindOccupancyEventListRequest> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListRequest getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface ExplicitStructureModeChangeOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The enum numeric value on the wire for mode.
       */
      int getModeValue();
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The mode.
       */
      nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getMode();

      /**
       * <code>.weave.common.ResourceId user = 2;</code>
       * @return Whether the user field is set.
       */
      boolean hasUser();
      /**
       * <code>.weave.common.ResourceId user = 2;</code>
       * @return The user.
       */
      weave.common.Common.ResourceId getUser();
      /**
       * <code>.weave.common.ResourceId user = 2;</code>
       */
      weave.common.Common.ResourceIdOrBuilder getUserOrBuilder();

      /**
       * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
       * @return Whether the wwnClientId field is set.
       */
      boolean hasWwnClientId();
      /**
       * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
       * @return The wwnClientId.
       */
      com.google.protobuf.StringValue getWwnClientId();
      /**
       * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
       */
      com.google.protobuf.StringValueOrBuilder getWwnClientIdOrBuilder();

      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
       * @return The enum numeric value on the wire for priorMode.
       */
      int getPriorModeValue();
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
       * @return The priorMode.
       */
      nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getPriorMode();
    }
    /**
     * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange}
     */
    public static final class ExplicitStructureModeChange extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange)
        ExplicitStructureModeChangeOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use ExplicitStructureModeChange.newBuilder() to construct.
      private ExplicitStructureModeChange(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private ExplicitStructureModeChange() {
        mode_ = 0;
        priorMode_ = 0;
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new ExplicitStructureModeChange();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private ExplicitStructureModeChange(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 8: {
                int rawValue = input.readEnum();

                mode_ = rawValue;
                break;
              }
              case 18: {
                weave.common.Common.ResourceId.Builder subBuilder = null;
                if (user_ != null) {
                  subBuilder = user_.toBuilder();
                }
                user_ = input.readMessage(weave.common.Common.ResourceId.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(user_);
                  user_ = subBuilder.buildPartial();
                }

                break;
              }
              case 26: {
                com.google.protobuf.StringValue.Builder subBuilder = null;
                if (wwnClientId_ != null) {
                  subBuilder = wwnClientId_.toBuilder();
                }
                wwnClientId_ = input.readMessage(com.google.protobuf.StringValue.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(wwnClientId_);
                  wwnClientId_ = subBuilder.buildPartial();
                }

                break;
              }
              case 32: {
                int rawValue = input.readEnum();

                priorMode_ = rawValue;
                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_ExplicitStructureModeChange_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_ExplicitStructureModeChange_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.class, nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.Builder.class);
      }

      public static final int MODE_FIELD_NUMBER = 1;
      private int mode_;
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The enum numeric value on the wire for mode.
       */
      @java.lang.Override public int getModeValue() {
        return mode_;
      }
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The mode.
       */
      @java.lang.Override public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getMode() {
        @SuppressWarnings("deprecation")
        nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(mode_);
        return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
      }

      public static final int USER_FIELD_NUMBER = 2;
      private weave.common.Common.ResourceId user_;
      /**
       * <code>.weave.common.ResourceId user = 2;</code>
       * @return Whether the user field is set.
       */
      @java.lang.Override
      public boolean hasUser() {
        return user_ != null;
      }
      /**
       * <code>.weave.common.ResourceId user = 2;</code>
       * @return The user.
       */
      @java.lang.Override
      public weave.common.Common.ResourceId getUser() {
        return user_ == null ? weave.common.Common.ResourceId.getDefaultInstance() : user_;
      }
      /**
       * <code>.weave.common.ResourceId user = 2;</code>
       */
      @java.lang.Override
      public weave.common.Common.ResourceIdOrBuilder getUserOrBuilder() {
        return getUser();
      }

      public static final int WWNCLIENTID_FIELD_NUMBER = 3;
      private com.google.protobuf.StringValue wwnClientId_;
      /**
       * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
       * @return Whether the wwnClientId field is set.
       */
      @java.lang.Override
      public boolean hasWwnClientId() {
        return wwnClientId_ != null;
      }
      /**
       * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
       * @return The wwnClientId.
       */
      @java.lang.Override
      public com.google.protobuf.StringValue getWwnClientId() {
        return wwnClientId_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : wwnClientId_;
      }
      /**
       * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
       */
      @java.lang.Override
      public com.google.protobuf.StringValueOrBuilder getWwnClientIdOrBuilder() {
        return getWwnClientId();
      }

      public static final int PRIORMODE_FIELD_NUMBER = 4;
      private int priorMode_;
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
       * @return The enum numeric value on the wire for priorMode.
       */
      @java.lang.Override public int getPriorModeValue() {
        return priorMode_;
      }
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
       * @return The priorMode.
       */
      @java.lang.Override public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getPriorMode() {
        @SuppressWarnings("deprecation")
        nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(priorMode_);
        return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (mode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          output.writeEnum(1, mode_);
        }
        if (user_ != null) {
          output.writeMessage(2, getUser());
        }
        if (wwnClientId_ != null) {
          output.writeMessage(3, getWwnClientId());
        }
        if (priorMode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          output.writeEnum(4, priorMode_);
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (mode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(1, mode_);
        }
        if (user_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getUser());
        }
        if (wwnClientId_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getWwnClientId());
        }
        if (priorMode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(4, priorMode_);
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange)) {
          return super.equals(obj);
        }
        nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange other = (nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange) obj;

        if (mode_ != other.mode_) return false;
        if (hasUser() != other.hasUser()) return false;
        if (hasUser()) {
          if (!getUser()
              .equals(other.getUser())) return false;
        }
        if (hasWwnClientId() != other.hasWwnClientId()) return false;
        if (hasWwnClientId()) {
          if (!getWwnClientId()
              .equals(other.getWwnClientId())) return false;
        }
        if (priorMode_ != other.priorMode_) return false;
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + MODE_FIELD_NUMBER;
        hash = (53 * hash) + mode_;
        if (hasUser()) {
          hash = (37 * hash) + USER_FIELD_NUMBER;
          hash = (53 * hash) + getUser().hashCode();
        }
        if (hasWwnClientId()) {
          hash = (37 * hash) + WWNCLIENTID_FIELD_NUMBER;
          hash = (53 * hash) + getWwnClientId().hashCode();
        }
        hash = (37 * hash) + PRIORMODE_FIELD_NUMBER;
        hash = (53 * hash) + priorMode_;
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange)
          nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChangeOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_ExplicitStructureModeChange_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_ExplicitStructureModeChange_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.class, nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.Builder.class);
        }

        // Construct using nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          mode_ = 0;

          if (userBuilder_ == null) {
            user_ = null;
          } else {
            user_ = null;
            userBuilder_ = null;
          }
          if (wwnClientIdBuilder_ == null) {
            wwnClientId_ = null;
          } else {
            wwnClientId_ = null;
            wwnClientIdBuilder_ = null;
          }
          priorMode_ = 0;

          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_ExplicitStructureModeChange_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange getDefaultInstanceForType() {
          return nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange build() {
          nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange buildPartial() {
          nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange result = new nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange(this);
          result.mode_ = mode_;
          if (userBuilder_ == null) {
            result.user_ = user_;
          } else {
            result.user_ = userBuilder_.build();
          }
          if (wwnClientIdBuilder_ == null) {
            result.wwnClientId_ = wwnClientId_;
          } else {
            result.wwnClientId_ = wwnClientIdBuilder_.build();
          }
          result.priorMode_ = priorMode_;
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange) {
            return mergeFrom((nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange other) {
          if (other == nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.getDefaultInstance()) return this;
          if (other.mode_ != 0) {
            setModeValue(other.getModeValue());
          }
          if (other.hasUser()) {
            mergeUser(other.getUser());
          }
          if (other.hasWwnClientId()) {
            mergeWwnClientId(other.getWwnClientId());
          }
          if (other.priorMode_ != 0) {
            setPriorModeValue(other.getPriorModeValue());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private int mode_ = 0;
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @return The enum numeric value on the wire for mode.
         */
        @java.lang.Override public int getModeValue() {
          return mode_;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @param value The enum numeric value on the wire for mode to set.
         * @return This builder for chaining.
         */
        public Builder setModeValue(int value) {
          
          mode_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @return The mode.
         */
        @java.lang.Override
        public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getMode() {
          @SuppressWarnings("deprecation")
          nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(mode_);
          return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @param value The mode to set.
         * @return This builder for chaining.
         */
        public Builder setMode(nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          mode_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @return This builder for chaining.
         */
        public Builder clearMode() {
          
          mode_ = 0;
          onChanged();
          return this;
        }

        private weave.common.Common.ResourceId user_;
        private com.google.protobuf.SingleFieldBuilderV3<
            weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder> userBuilder_;
        /**
         * <code>.weave.common.ResourceId user = 2;</code>
         * @return Whether the user field is set.
         */
        public boolean hasUser() {
          return userBuilder_ != null || user_ != null;
        }
        /**
         * <code>.weave.common.ResourceId user = 2;</code>
         * @return The user.
         */
        public weave.common.Common.ResourceId getUser() {
          if (userBuilder_ == null) {
            return user_ == null ? weave.common.Common.ResourceId.getDefaultInstance() : user_;
          } else {
            return userBuilder_.getMessage();
          }
        }
        /**
         * <code>.weave.common.ResourceId user = 2;</code>
         */
        public Builder setUser(weave.common.Common.ResourceId value) {
          if (userBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            user_ = value;
            onChanged();
          } else {
            userBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId user = 2;</code>
         */
        public Builder setUser(
            weave.common.Common.ResourceId.Builder builderForValue) {
          if (userBuilder_ == null) {
            user_ = builderForValue.build();
            onChanged();
          } else {
            userBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId user = 2;</code>
         */
        public Builder mergeUser(weave.common.Common.ResourceId value) {
          if (userBuilder_ == null) {
            if (user_ != null) {
              user_ =
                weave.common.Common.ResourceId.newBuilder(user_).mergeFrom(value).buildPartial();
            } else {
              user_ = value;
            }
            onChanged();
          } else {
            userBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId user = 2;</code>
         */
        public Builder clearUser() {
          if (userBuilder_ == null) {
            user_ = null;
            onChanged();
          } else {
            user_ = null;
            userBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId user = 2;</code>
         */
        public weave.common.Common.ResourceId.Builder getUserBuilder() {
          
          onChanged();
          return getUserFieldBuilder().getBuilder();
        }
        /**
         * <code>.weave.common.ResourceId user = 2;</code>
         */
        public weave.common.Common.ResourceIdOrBuilder getUserOrBuilder() {
          if (userBuilder_ != null) {
            return userBuilder_.getMessageOrBuilder();
          } else {
            return user_ == null ?
                weave.common.Common.ResourceId.getDefaultInstance() : user_;
          }
        }
        /**
         * <code>.weave.common.ResourceId user = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder> 
            getUserFieldBuilder() {
          if (userBuilder_ == null) {
            userBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder>(
                    getUser(),
                    getParentForChildren(),
                    isClean());
            user_ = null;
          }
          return userBuilder_;
        }

        private com.google.protobuf.StringValue wwnClientId_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> wwnClientIdBuilder_;
        /**
         * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
         * @return Whether the wwnClientId field is set.
         */
        public boolean hasWwnClientId() {
          return wwnClientIdBuilder_ != null || wwnClientId_ != null;
        }
        /**
         * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
         * @return The wwnClientId.
         */
        public com.google.protobuf.StringValue getWwnClientId() {
          if (wwnClientIdBuilder_ == null) {
            return wwnClientId_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : wwnClientId_;
          } else {
            return wwnClientIdBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
         */
        public Builder setWwnClientId(com.google.protobuf.StringValue value) {
          if (wwnClientIdBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            wwnClientId_ = value;
            onChanged();
          } else {
            wwnClientIdBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
         */
        public Builder setWwnClientId(
            com.google.protobuf.StringValue.Builder builderForValue) {
          if (wwnClientIdBuilder_ == null) {
            wwnClientId_ = builderForValue.build();
            onChanged();
          } else {
            wwnClientIdBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
         */
        public Builder mergeWwnClientId(com.google.protobuf.StringValue value) {
          if (wwnClientIdBuilder_ == null) {
            if (wwnClientId_ != null) {
              wwnClientId_ =
                com.google.protobuf.StringValue.newBuilder(wwnClientId_).mergeFrom(value).buildPartial();
            } else {
              wwnClientId_ = value;
            }
            onChanged();
          } else {
            wwnClientIdBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
         */
        public Builder clearWwnClientId() {
          if (wwnClientIdBuilder_ == null) {
            wwnClientId_ = null;
            onChanged();
          } else {
            wwnClientId_ = null;
            wwnClientIdBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
         */
        public com.google.protobuf.StringValue.Builder getWwnClientIdBuilder() {
          
          onChanged();
          return getWwnClientIdFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
         */
        public com.google.protobuf.StringValueOrBuilder getWwnClientIdOrBuilder() {
          if (wwnClientIdBuilder_ != null) {
            return wwnClientIdBuilder_.getMessageOrBuilder();
          } else {
            return wwnClientId_ == null ?
                com.google.protobuf.StringValue.getDefaultInstance() : wwnClientId_;
          }
        }
        /**
         * <code>.google.protobuf.StringValue wwnClientId = 3;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> 
            getWwnClientIdFieldBuilder() {
          if (wwnClientIdBuilder_ == null) {
            wwnClientIdBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder>(
                    getWwnClientId(),
                    getParentForChildren(),
                    isClean());
            wwnClientId_ = null;
          }
          return wwnClientIdBuilder_;
        }

        private int priorMode_ = 0;
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
         * @return The enum numeric value on the wire for priorMode.
         */
        @java.lang.Override public int getPriorModeValue() {
          return priorMode_;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
         * @param value The enum numeric value on the wire for priorMode to set.
         * @return This builder for chaining.
         */
        public Builder setPriorModeValue(int value) {
          
          priorMode_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
         * @return The priorMode.
         */
        @java.lang.Override
        public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getPriorMode() {
          @SuppressWarnings("deprecation")
          nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(priorMode_);
          return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
         * @param value The priorMode to set.
         * @return This builder for chaining.
         */
        public Builder setPriorMode(nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          priorMode_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
         * @return This builder for chaining.
         */
        public Builder clearPriorMode() {
          
          priorMode_ = 0;
          onChanged();
          return this;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange)
      private static final nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange();
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<ExplicitStructureModeChange>
          PARSER = new com.google.protobuf.AbstractParser<ExplicitStructureModeChange>() {
        @java.lang.Override
        public ExplicitStructureModeChange parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new ExplicitStructureModeChange(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<ExplicitStructureModeChange> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<ExplicitStructureModeChange> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface ImplicitStructureModeChangeOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The enum numeric value on the wire for mode.
       */
      int getModeValue();
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The mode.
       */
      nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getMode();

      /**
       * <code>.weave.common.ResourceId actor = 2;</code>
       * @return Whether the actor field is set.
       */
      boolean hasActor();
      /**
       * <code>.weave.common.ResourceId actor = 2;</code>
       * @return The actor.
       */
      weave.common.Common.ResourceId getActor();
      /**
       * <code>.weave.common.ResourceId actor = 2;</code>
       */
      weave.common.Common.ResourceIdOrBuilder getActorOrBuilder();

      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitChangeReason reason = 3;</code>
       * @return The enum numeric value on the wire for reason.
       */
      int getReasonValue();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitChangeReason reason = 3;</code>
       * @return The reason.
       */
      nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason getReason();

      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
       * @return The enum numeric value on the wire for priorMode.
       */
      int getPriorModeValue();
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
       * @return The priorMode.
       */
      nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getPriorMode();
    }
    /**
     * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange}
     */
    public static final class ImplicitStructureModeChange extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange)
        ImplicitStructureModeChangeOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use ImplicitStructureModeChange.newBuilder() to construct.
      private ImplicitStructureModeChange(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private ImplicitStructureModeChange() {
        mode_ = 0;
        reason_ = 0;
        priorMode_ = 0;
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new ImplicitStructureModeChange();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private ImplicitStructureModeChange(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 8: {
                int rawValue = input.readEnum();

                mode_ = rawValue;
                break;
              }
              case 18: {
                weave.common.Common.ResourceId.Builder subBuilder = null;
                if (actor_ != null) {
                  subBuilder = actor_.toBuilder();
                }
                actor_ = input.readMessage(weave.common.Common.ResourceId.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(actor_);
                  actor_ = subBuilder.buildPartial();
                }

                break;
              }
              case 24: {
                int rawValue = input.readEnum();

                reason_ = rawValue;
                break;
              }
              case 32: {
                int rawValue = input.readEnum();

                priorMode_ = rawValue;
                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_ImplicitStructureModeChange_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_ImplicitStructureModeChange_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.class, nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.Builder.class);
      }

      public static final int MODE_FIELD_NUMBER = 1;
      private int mode_;
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The enum numeric value on the wire for mode.
       */
      @java.lang.Override public int getModeValue() {
        return mode_;
      }
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The mode.
       */
      @java.lang.Override public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getMode() {
        @SuppressWarnings("deprecation")
        nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(mode_);
        return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
      }

      public static final int ACTOR_FIELD_NUMBER = 2;
      private weave.common.Common.ResourceId actor_;
      /**
       * <code>.weave.common.ResourceId actor = 2;</code>
       * @return Whether the actor field is set.
       */
      @java.lang.Override
      public boolean hasActor() {
        return actor_ != null;
      }
      /**
       * <code>.weave.common.ResourceId actor = 2;</code>
       * @return The actor.
       */
      @java.lang.Override
      public weave.common.Common.ResourceId getActor() {
        return actor_ == null ? weave.common.Common.ResourceId.getDefaultInstance() : actor_;
      }
      /**
       * <code>.weave.common.ResourceId actor = 2;</code>
       */
      @java.lang.Override
      public weave.common.Common.ResourceIdOrBuilder getActorOrBuilder() {
        return getActor();
      }

      public static final int REASON_FIELD_NUMBER = 3;
      private int reason_;
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitChangeReason reason = 3;</code>
       * @return The enum numeric value on the wire for reason.
       */
      @java.lang.Override public int getReasonValue() {
        return reason_;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitChangeReason reason = 3;</code>
       * @return The reason.
       */
      @java.lang.Override public nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason getReason() {
        @SuppressWarnings("deprecation")
        nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason result = nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason.valueOf(reason_);
        return result == null ? nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason.UNRECOGNIZED : result;
      }

      public static final int PRIORMODE_FIELD_NUMBER = 4;
      private int priorMode_;
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
       * @return The enum numeric value on the wire for priorMode.
       */
      @java.lang.Override public int getPriorModeValue() {
        return priorMode_;
      }
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
       * @return The priorMode.
       */
      @java.lang.Override public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getPriorMode() {
        @SuppressWarnings("deprecation")
        nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(priorMode_);
        return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (mode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          output.writeEnum(1, mode_);
        }
        if (actor_ != null) {
          output.writeMessage(2, getActor());
        }
        if (reason_ != nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason.IMPLICIT_CHANGE_REASON_UNSPECIFIED.getNumber()) {
          output.writeEnum(3, reason_);
        }
        if (priorMode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          output.writeEnum(4, priorMode_);
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (mode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(1, mode_);
        }
        if (actor_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getActor());
        }
        if (reason_ != nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason.IMPLICIT_CHANGE_REASON_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(3, reason_);
        }
        if (priorMode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(4, priorMode_);
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange)) {
          return super.equals(obj);
        }
        nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange other = (nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange) obj;

        if (mode_ != other.mode_) return false;
        if (hasActor() != other.hasActor()) return false;
        if (hasActor()) {
          if (!getActor()
              .equals(other.getActor())) return false;
        }
        if (reason_ != other.reason_) return false;
        if (priorMode_ != other.priorMode_) return false;
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + MODE_FIELD_NUMBER;
        hash = (53 * hash) + mode_;
        if (hasActor()) {
          hash = (37 * hash) + ACTOR_FIELD_NUMBER;
          hash = (53 * hash) + getActor().hashCode();
        }
        hash = (37 * hash) + REASON_FIELD_NUMBER;
        hash = (53 * hash) + reason_;
        hash = (37 * hash) + PRIORMODE_FIELD_NUMBER;
        hash = (53 * hash) + priorMode_;
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange)
          nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChangeOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_ImplicitStructureModeChange_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_ImplicitStructureModeChange_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.class, nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.Builder.class);
        }

        // Construct using nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          mode_ = 0;

          if (actorBuilder_ == null) {
            actor_ = null;
          } else {
            actor_ = null;
            actorBuilder_ = null;
          }
          reason_ = 0;

          priorMode_ = 0;

          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_ImplicitStructureModeChange_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange getDefaultInstanceForType() {
          return nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange build() {
          nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange buildPartial() {
          nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange result = new nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange(this);
          result.mode_ = mode_;
          if (actorBuilder_ == null) {
            result.actor_ = actor_;
          } else {
            result.actor_ = actorBuilder_.build();
          }
          result.reason_ = reason_;
          result.priorMode_ = priorMode_;
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange) {
            return mergeFrom((nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange other) {
          if (other == nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.getDefaultInstance()) return this;
          if (other.mode_ != 0) {
            setModeValue(other.getModeValue());
          }
          if (other.hasActor()) {
            mergeActor(other.getActor());
          }
          if (other.reason_ != 0) {
            setReasonValue(other.getReasonValue());
          }
          if (other.priorMode_ != 0) {
            setPriorModeValue(other.getPriorModeValue());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private int mode_ = 0;
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @return The enum numeric value on the wire for mode.
         */
        @java.lang.Override public int getModeValue() {
          return mode_;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @param value The enum numeric value on the wire for mode to set.
         * @return This builder for chaining.
         */
        public Builder setModeValue(int value) {
          
          mode_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @return The mode.
         */
        @java.lang.Override
        public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getMode() {
          @SuppressWarnings("deprecation")
          nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(mode_);
          return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @param value The mode to set.
         * @return This builder for chaining.
         */
        public Builder setMode(nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          mode_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @return This builder for chaining.
         */
        public Builder clearMode() {
          
          mode_ = 0;
          onChanged();
          return this;
        }

        private weave.common.Common.ResourceId actor_;
        private com.google.protobuf.SingleFieldBuilderV3<
            weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder> actorBuilder_;
        /**
         * <code>.weave.common.ResourceId actor = 2;</code>
         * @return Whether the actor field is set.
         */
        public boolean hasActor() {
          return actorBuilder_ != null || actor_ != null;
        }
        /**
         * <code>.weave.common.ResourceId actor = 2;</code>
         * @return The actor.
         */
        public weave.common.Common.ResourceId getActor() {
          if (actorBuilder_ == null) {
            return actor_ == null ? weave.common.Common.ResourceId.getDefaultInstance() : actor_;
          } else {
            return actorBuilder_.getMessage();
          }
        }
        /**
         * <code>.weave.common.ResourceId actor = 2;</code>
         */
        public Builder setActor(weave.common.Common.ResourceId value) {
          if (actorBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            actor_ = value;
            onChanged();
          } else {
            actorBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId actor = 2;</code>
         */
        public Builder setActor(
            weave.common.Common.ResourceId.Builder builderForValue) {
          if (actorBuilder_ == null) {
            actor_ = builderForValue.build();
            onChanged();
          } else {
            actorBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId actor = 2;</code>
         */
        public Builder mergeActor(weave.common.Common.ResourceId value) {
          if (actorBuilder_ == null) {
            if (actor_ != null) {
              actor_ =
                weave.common.Common.ResourceId.newBuilder(actor_).mergeFrom(value).buildPartial();
            } else {
              actor_ = value;
            }
            onChanged();
          } else {
            actorBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId actor = 2;</code>
         */
        public Builder clearActor() {
          if (actorBuilder_ == null) {
            actor_ = null;
            onChanged();
          } else {
            actor_ = null;
            actorBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId actor = 2;</code>
         */
        public weave.common.Common.ResourceId.Builder getActorBuilder() {
          
          onChanged();
          return getActorFieldBuilder().getBuilder();
        }
        /**
         * <code>.weave.common.ResourceId actor = 2;</code>
         */
        public weave.common.Common.ResourceIdOrBuilder getActorOrBuilder() {
          if (actorBuilder_ != null) {
            return actorBuilder_.getMessageOrBuilder();
          } else {
            return actor_ == null ?
                weave.common.Common.ResourceId.getDefaultInstance() : actor_;
          }
        }
        /**
         * <code>.weave.common.ResourceId actor = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder> 
            getActorFieldBuilder() {
          if (actorBuilder_ == null) {
            actorBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder>(
                    getActor(),
                    getParentForChildren(),
                    isClean());
            actor_ = null;
          }
          return actorBuilder_;
        }

        private int reason_ = 0;
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitChangeReason reason = 3;</code>
         * @return The enum numeric value on the wire for reason.
         */
        @java.lang.Override public int getReasonValue() {
          return reason_;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitChangeReason reason = 3;</code>
         * @param value The enum numeric value on the wire for reason to set.
         * @return This builder for chaining.
         */
        public Builder setReasonValue(int value) {
          
          reason_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitChangeReason reason = 3;</code>
         * @return The reason.
         */
        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason getReason() {
          @SuppressWarnings("deprecation")
          nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason result = nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason.valueOf(reason_);
          return result == null ? nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitChangeReason reason = 3;</code>
         * @param value The reason to set.
         * @return This builder for chaining.
         */
        public Builder setReason(nest.trait.history.History.OccupancyHistoryTrait.ImplicitChangeReason value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          reason_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitChangeReason reason = 3;</code>
         * @return This builder for chaining.
         */
        public Builder clearReason() {
          
          reason_ = 0;
          onChanged();
          return this;
        }

        private int priorMode_ = 0;
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
         * @return The enum numeric value on the wire for priorMode.
         */
        @java.lang.Override public int getPriorModeValue() {
          return priorMode_;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
         * @param value The enum numeric value on the wire for priorMode to set.
         * @return This builder for chaining.
         */
        public Builder setPriorModeValue(int value) {
          
          priorMode_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
         * @return The priorMode.
         */
        @java.lang.Override
        public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getPriorMode() {
          @SuppressWarnings("deprecation")
          nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(priorMode_);
          return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
         * @param value The priorMode to set.
         * @return This builder for chaining.
         */
        public Builder setPriorMode(nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          priorMode_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 4;</code>
         * @return This builder for chaining.
         */
        public Builder clearPriorMode() {
          
          priorMode_ = 0;
          onChanged();
          return this;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange)
      private static final nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange();
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<ImplicitStructureModeChange>
          PARSER = new com.google.protobuf.AbstractParser<ImplicitStructureModeChange>() {
        @java.lang.Override
        public ImplicitStructureModeChange parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new ImplicitStructureModeChange(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<ImplicitStructureModeChange> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<ImplicitStructureModeChange> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface EstimatedOccupancyStructureModeChangeOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The enum numeric value on the wire for mode.
       */
      int getModeValue();
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The mode.
       */
      nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getMode();

      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureModeReason reason = 2;</code>
       * @return The enum numeric value on the wire for reason.
       */
      int getReasonValue();
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureModeReason reason = 2;</code>
       * @return The reason.
       */
      nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason getReason();

      /**
       * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
       * @return Whether the weaveDeviceId field is set.
       */
      boolean hasWeaveDeviceId();
      /**
       * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
       * @return The weaveDeviceId.
       */
      weave.common.Common.ResourceId getWeaveDeviceId();
      /**
       * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
       */
      weave.common.Common.ResourceIdOrBuilder getWeaveDeviceIdOrBuilder();

      /**
       * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
       * @return Whether the rtsSerialNumber field is set.
       */
      boolean hasRtsSerialNumber();
      /**
       * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
       * @return The rtsSerialNumber.
       */
      com.google.protobuf.StringValue getRtsSerialNumber();
      /**
       * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
       */
      com.google.protobuf.StringValueOrBuilder getRtsSerialNumberOrBuilder();

      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 5;</code>
       * @return The enum numeric value on the wire for priorMode.
       */
      int getPriorModeValue();
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 5;</code>
       * @return The priorMode.
       */
      nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getPriorMode();
    }
    /**
     * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange}
     */
    public static final class EstimatedOccupancyStructureModeChange extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange)
        EstimatedOccupancyStructureModeChangeOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use EstimatedOccupancyStructureModeChange.newBuilder() to construct.
      private EstimatedOccupancyStructureModeChange(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private EstimatedOccupancyStructureModeChange() {
        mode_ = 0;
        reason_ = 0;
        priorMode_ = 0;
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new EstimatedOccupancyStructureModeChange();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private EstimatedOccupancyStructureModeChange(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 8: {
                int rawValue = input.readEnum();

                mode_ = rawValue;
                break;
              }
              case 16: {
                int rawValue = input.readEnum();

                reason_ = rawValue;
                break;
              }
              case 26: {
                weave.common.Common.ResourceId.Builder subBuilder = null;
                if (weaveDeviceId_ != null) {
                  subBuilder = weaveDeviceId_.toBuilder();
                }
                weaveDeviceId_ = input.readMessage(weave.common.Common.ResourceId.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(weaveDeviceId_);
                  weaveDeviceId_ = subBuilder.buildPartial();
                }

                break;
              }
              case 34: {
                com.google.protobuf.StringValue.Builder subBuilder = null;
                if (rtsSerialNumber_ != null) {
                  subBuilder = rtsSerialNumber_.toBuilder();
                }
                rtsSerialNumber_ = input.readMessage(com.google.protobuf.StringValue.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(rtsSerialNumber_);
                  rtsSerialNumber_ = subBuilder.buildPartial();
                }

                break;
              }
              case 40: {
                int rawValue = input.readEnum();

                priorMode_ = rawValue;
                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_EstimatedOccupancyStructureModeChange_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_EstimatedOccupancyStructureModeChange_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.class, nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.Builder.class);
      }

      public static final int MODE_FIELD_NUMBER = 1;
      private int mode_;
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The enum numeric value on the wire for mode.
       */
      @java.lang.Override public int getModeValue() {
        return mode_;
      }
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
       * @return The mode.
       */
      @java.lang.Override public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getMode() {
        @SuppressWarnings("deprecation")
        nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(mode_);
        return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
      }

      public static final int REASON_FIELD_NUMBER = 2;
      private int reason_;
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureModeReason reason = 2;</code>
       * @return The enum numeric value on the wire for reason.
       */
      @java.lang.Override public int getReasonValue() {
        return reason_;
      }
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureModeReason reason = 2;</code>
       * @return The reason.
       */
      @java.lang.Override public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason getReason() {
        @SuppressWarnings("deprecation")
        nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason.valueOf(reason_);
        return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason.UNRECOGNIZED : result;
      }

      public static final int WEAVEDEVICEID_FIELD_NUMBER = 3;
      private weave.common.Common.ResourceId weaveDeviceId_;
      /**
       * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
       * @return Whether the weaveDeviceId field is set.
       */
      @java.lang.Override
      public boolean hasWeaveDeviceId() {
        return weaveDeviceId_ != null;
      }
      /**
       * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
       * @return The weaveDeviceId.
       */
      @java.lang.Override
      public weave.common.Common.ResourceId getWeaveDeviceId() {
        return weaveDeviceId_ == null ? weave.common.Common.ResourceId.getDefaultInstance() : weaveDeviceId_;
      }
      /**
       * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
       */
      @java.lang.Override
      public weave.common.Common.ResourceIdOrBuilder getWeaveDeviceIdOrBuilder() {
        return getWeaveDeviceId();
      }

      public static final int RTSSERIALNUMBER_FIELD_NUMBER = 4;
      private com.google.protobuf.StringValue rtsSerialNumber_;
      /**
       * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
       * @return Whether the rtsSerialNumber field is set.
       */
      @java.lang.Override
      public boolean hasRtsSerialNumber() {
        return rtsSerialNumber_ != null;
      }
      /**
       * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
       * @return The rtsSerialNumber.
       */
      @java.lang.Override
      public com.google.protobuf.StringValue getRtsSerialNumber() {
        return rtsSerialNumber_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : rtsSerialNumber_;
      }
      /**
       * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
       */
      @java.lang.Override
      public com.google.protobuf.StringValueOrBuilder getRtsSerialNumberOrBuilder() {
        return getRtsSerialNumber();
      }

      public static final int PRIORMODE_FIELD_NUMBER = 5;
      private int priorMode_;
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 5;</code>
       * @return The enum numeric value on the wire for priorMode.
       */
      @java.lang.Override public int getPriorModeValue() {
        return priorMode_;
      }
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 5;</code>
       * @return The priorMode.
       */
      @java.lang.Override public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getPriorMode() {
        @SuppressWarnings("deprecation")
        nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(priorMode_);
        return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (mode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          output.writeEnum(1, mode_);
        }
        if (reason_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason.STRUCTURE_MODE_REASON_UNSPECIFIED.getNumber()) {
          output.writeEnum(2, reason_);
        }
        if (weaveDeviceId_ != null) {
          output.writeMessage(3, getWeaveDeviceId());
        }
        if (rtsSerialNumber_ != null) {
          output.writeMessage(4, getRtsSerialNumber());
        }
        if (priorMode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          output.writeEnum(5, priorMode_);
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (mode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(1, mode_);
        }
        if (reason_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason.STRUCTURE_MODE_REASON_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(2, reason_);
        }
        if (weaveDeviceId_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getWeaveDeviceId());
        }
        if (rtsSerialNumber_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(4, getRtsSerialNumber());
        }
        if (priorMode_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.STRUCTURE_MODE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(5, priorMode_);
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange)) {
          return super.equals(obj);
        }
        nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange other = (nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange) obj;

        if (mode_ != other.mode_) return false;
        if (reason_ != other.reason_) return false;
        if (hasWeaveDeviceId() != other.hasWeaveDeviceId()) return false;
        if (hasWeaveDeviceId()) {
          if (!getWeaveDeviceId()
              .equals(other.getWeaveDeviceId())) return false;
        }
        if (hasRtsSerialNumber() != other.hasRtsSerialNumber()) return false;
        if (hasRtsSerialNumber()) {
          if (!getRtsSerialNumber()
              .equals(other.getRtsSerialNumber())) return false;
        }
        if (priorMode_ != other.priorMode_) return false;
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + MODE_FIELD_NUMBER;
        hash = (53 * hash) + mode_;
        hash = (37 * hash) + REASON_FIELD_NUMBER;
        hash = (53 * hash) + reason_;
        if (hasWeaveDeviceId()) {
          hash = (37 * hash) + WEAVEDEVICEID_FIELD_NUMBER;
          hash = (53 * hash) + getWeaveDeviceId().hashCode();
        }
        if (hasRtsSerialNumber()) {
          hash = (37 * hash) + RTSSERIALNUMBER_FIELD_NUMBER;
          hash = (53 * hash) + getRtsSerialNumber().hashCode();
        }
        hash = (37 * hash) + PRIORMODE_FIELD_NUMBER;
        hash = (53 * hash) + priorMode_;
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange)
          nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChangeOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_EstimatedOccupancyStructureModeChange_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_EstimatedOccupancyStructureModeChange_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.class, nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.Builder.class);
        }

        // Construct using nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          mode_ = 0;

          reason_ = 0;

          if (weaveDeviceIdBuilder_ == null) {
            weaveDeviceId_ = null;
          } else {
            weaveDeviceId_ = null;
            weaveDeviceIdBuilder_ = null;
          }
          if (rtsSerialNumberBuilder_ == null) {
            rtsSerialNumber_ = null;
          } else {
            rtsSerialNumber_ = null;
            rtsSerialNumberBuilder_ = null;
          }
          priorMode_ = 0;

          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_EstimatedOccupancyStructureModeChange_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange getDefaultInstanceForType() {
          return nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange build() {
          nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange buildPartial() {
          nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange result = new nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange(this);
          result.mode_ = mode_;
          result.reason_ = reason_;
          if (weaveDeviceIdBuilder_ == null) {
            result.weaveDeviceId_ = weaveDeviceId_;
          } else {
            result.weaveDeviceId_ = weaveDeviceIdBuilder_.build();
          }
          if (rtsSerialNumberBuilder_ == null) {
            result.rtsSerialNumber_ = rtsSerialNumber_;
          } else {
            result.rtsSerialNumber_ = rtsSerialNumberBuilder_.build();
          }
          result.priorMode_ = priorMode_;
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange) {
            return mergeFrom((nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange other) {
          if (other == nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.getDefaultInstance()) return this;
          if (other.mode_ != 0) {
            setModeValue(other.getModeValue());
          }
          if (other.reason_ != 0) {
            setReasonValue(other.getReasonValue());
          }
          if (other.hasWeaveDeviceId()) {
            mergeWeaveDeviceId(other.getWeaveDeviceId());
          }
          if (other.hasRtsSerialNumber()) {
            mergeRtsSerialNumber(other.getRtsSerialNumber());
          }
          if (other.priorMode_ != 0) {
            setPriorModeValue(other.getPriorModeValue());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private int mode_ = 0;
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @return The enum numeric value on the wire for mode.
         */
        @java.lang.Override public int getModeValue() {
          return mode_;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @param value The enum numeric value on the wire for mode to set.
         * @return This builder for chaining.
         */
        public Builder setModeValue(int value) {
          
          mode_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @return The mode.
         */
        @java.lang.Override
        public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getMode() {
          @SuppressWarnings("deprecation")
          nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(mode_);
          return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @param value The mode to set.
         * @return This builder for chaining.
         */
        public Builder setMode(nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          mode_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode mode = 1;</code>
         * @return This builder for chaining.
         */
        public Builder clearMode() {
          
          mode_ = 0;
          onChanged();
          return this;
        }

        private int reason_ = 0;
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureModeReason reason = 2;</code>
         * @return The enum numeric value on the wire for reason.
         */
        @java.lang.Override public int getReasonValue() {
          return reason_;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureModeReason reason = 2;</code>
         * @param value The enum numeric value on the wire for reason to set.
         * @return This builder for chaining.
         */
        public Builder setReasonValue(int value) {
          
          reason_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureModeReason reason = 2;</code>
         * @return The reason.
         */
        @java.lang.Override
        public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason getReason() {
          @SuppressWarnings("deprecation")
          nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason.valueOf(reason_);
          return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureModeReason reason = 2;</code>
         * @param value The reason to set.
         * @return This builder for chaining.
         */
        public Builder setReason(nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureModeReason value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          reason_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureModeReason reason = 2;</code>
         * @return This builder for chaining.
         */
        public Builder clearReason() {
          
          reason_ = 0;
          onChanged();
          return this;
        }

        private weave.common.Common.ResourceId weaveDeviceId_;
        private com.google.protobuf.SingleFieldBuilderV3<
            weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder> weaveDeviceIdBuilder_;
        /**
         * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
         * @return Whether the weaveDeviceId field is set.
         */
        public boolean hasWeaveDeviceId() {
          return weaveDeviceIdBuilder_ != null || weaveDeviceId_ != null;
        }
        /**
         * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
         * @return The weaveDeviceId.
         */
        public weave.common.Common.ResourceId getWeaveDeviceId() {
          if (weaveDeviceIdBuilder_ == null) {
            return weaveDeviceId_ == null ? weave.common.Common.ResourceId.getDefaultInstance() : weaveDeviceId_;
          } else {
            return weaveDeviceIdBuilder_.getMessage();
          }
        }
        /**
         * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
         */
        public Builder setWeaveDeviceId(weave.common.Common.ResourceId value) {
          if (weaveDeviceIdBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            weaveDeviceId_ = value;
            onChanged();
          } else {
            weaveDeviceIdBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
         */
        public Builder setWeaveDeviceId(
            weave.common.Common.ResourceId.Builder builderForValue) {
          if (weaveDeviceIdBuilder_ == null) {
            weaveDeviceId_ = builderForValue.build();
            onChanged();
          } else {
            weaveDeviceIdBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
         */
        public Builder mergeWeaveDeviceId(weave.common.Common.ResourceId value) {
          if (weaveDeviceIdBuilder_ == null) {
            if (weaveDeviceId_ != null) {
              weaveDeviceId_ =
                weave.common.Common.ResourceId.newBuilder(weaveDeviceId_).mergeFrom(value).buildPartial();
            } else {
              weaveDeviceId_ = value;
            }
            onChanged();
          } else {
            weaveDeviceIdBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
         */
        public Builder clearWeaveDeviceId() {
          if (weaveDeviceIdBuilder_ == null) {
            weaveDeviceId_ = null;
            onChanged();
          } else {
            weaveDeviceId_ = null;
            weaveDeviceIdBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
         */
        public weave.common.Common.ResourceId.Builder getWeaveDeviceIdBuilder() {
          
          onChanged();
          return getWeaveDeviceIdFieldBuilder().getBuilder();
        }
        /**
         * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
         */
        public weave.common.Common.ResourceIdOrBuilder getWeaveDeviceIdOrBuilder() {
          if (weaveDeviceIdBuilder_ != null) {
            return weaveDeviceIdBuilder_.getMessageOrBuilder();
          } else {
            return weaveDeviceId_ == null ?
                weave.common.Common.ResourceId.getDefaultInstance() : weaveDeviceId_;
          }
        }
        /**
         * <code>.weave.common.ResourceId weaveDeviceId = 3;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder> 
            getWeaveDeviceIdFieldBuilder() {
          if (weaveDeviceIdBuilder_ == null) {
            weaveDeviceIdBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder>(
                    getWeaveDeviceId(),
                    getParentForChildren(),
                    isClean());
            weaveDeviceId_ = null;
          }
          return weaveDeviceIdBuilder_;
        }

        private com.google.protobuf.StringValue rtsSerialNumber_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> rtsSerialNumberBuilder_;
        /**
         * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
         * @return Whether the rtsSerialNumber field is set.
         */
        public boolean hasRtsSerialNumber() {
          return rtsSerialNumberBuilder_ != null || rtsSerialNumber_ != null;
        }
        /**
         * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
         * @return The rtsSerialNumber.
         */
        public com.google.protobuf.StringValue getRtsSerialNumber() {
          if (rtsSerialNumberBuilder_ == null) {
            return rtsSerialNumber_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : rtsSerialNumber_;
          } else {
            return rtsSerialNumberBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
         */
        public Builder setRtsSerialNumber(com.google.protobuf.StringValue value) {
          if (rtsSerialNumberBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            rtsSerialNumber_ = value;
            onChanged();
          } else {
            rtsSerialNumberBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
         */
        public Builder setRtsSerialNumber(
            com.google.protobuf.StringValue.Builder builderForValue) {
          if (rtsSerialNumberBuilder_ == null) {
            rtsSerialNumber_ = builderForValue.build();
            onChanged();
          } else {
            rtsSerialNumberBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
         */
        public Builder mergeRtsSerialNumber(com.google.protobuf.StringValue value) {
          if (rtsSerialNumberBuilder_ == null) {
            if (rtsSerialNumber_ != null) {
              rtsSerialNumber_ =
                com.google.protobuf.StringValue.newBuilder(rtsSerialNumber_).mergeFrom(value).buildPartial();
            } else {
              rtsSerialNumber_ = value;
            }
            onChanged();
          } else {
            rtsSerialNumberBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
         */
        public Builder clearRtsSerialNumber() {
          if (rtsSerialNumberBuilder_ == null) {
            rtsSerialNumber_ = null;
            onChanged();
          } else {
            rtsSerialNumber_ = null;
            rtsSerialNumberBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
         */
        public com.google.protobuf.StringValue.Builder getRtsSerialNumberBuilder() {
          
          onChanged();
          return getRtsSerialNumberFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
         */
        public com.google.protobuf.StringValueOrBuilder getRtsSerialNumberOrBuilder() {
          if (rtsSerialNumberBuilder_ != null) {
            return rtsSerialNumberBuilder_.getMessageOrBuilder();
          } else {
            return rtsSerialNumber_ == null ?
                com.google.protobuf.StringValue.getDefaultInstance() : rtsSerialNumber_;
          }
        }
        /**
         * <code>.google.protobuf.StringValue rtsSerialNumber = 4;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> 
            getRtsSerialNumberFieldBuilder() {
          if (rtsSerialNumberBuilder_ == null) {
            rtsSerialNumberBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder>(
                    getRtsSerialNumber(),
                    getParentForChildren(),
                    isClean());
            rtsSerialNumber_ = null;
          }
          return rtsSerialNumberBuilder_;
        }

        private int priorMode_ = 0;
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 5;</code>
         * @return The enum numeric value on the wire for priorMode.
         */
        @java.lang.Override public int getPriorModeValue() {
          return priorMode_;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 5;</code>
         * @param value The enum numeric value on the wire for priorMode to set.
         * @return This builder for chaining.
         */
        public Builder setPriorModeValue(int value) {
          
          priorMode_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 5;</code>
         * @return The priorMode.
         */
        @java.lang.Override
        public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode getPriorMode() {
          @SuppressWarnings("deprecation")
          nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.valueOf(priorMode_);
          return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 5;</code>
         * @param value The priorMode to set.
         * @return This builder for chaining.
         */
        public Builder setPriorMode(nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.StructureMode value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          priorMode_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.StructureMode priorMode = 5;</code>
         * @return This builder for chaining.
         */
        public Builder clearPriorMode() {
          
          priorMode_ = 0;
          onChanged();
          return this;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange)
      private static final nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange();
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<EstimatedOccupancyStructureModeChange>
          PARSER = new com.google.protobuf.AbstractParser<EstimatedOccupancyStructureModeChange>() {
        @java.lang.Override
        public EstimatedOccupancyStructureModeChange parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new EstimatedOccupancyStructureModeChange(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<EstimatedOccupancyStructureModeChange> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<EstimatedOccupancyStructureModeChange> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface CombinedPresenceChangeOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.Presence presence = 1;</code>
       * @return The enum numeric value on the wire for presence.
       */
      int getPresenceValue();
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.Presence presence = 1;</code>
       * @return The presence.
       */
      nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence getPresence();

      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.Presence priorPresence = 2;</code>
       * @return The enum numeric value on the wire for priorPresence.
       */
      int getPriorPresenceValue();
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.Presence priorPresence = 2;</code>
       * @return The priorPresence.
       */
      nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence getPriorPresence();
    }
    /**
     * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange}
     */
    public static final class CombinedPresenceChange extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange)
        CombinedPresenceChangeOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use CombinedPresenceChange.newBuilder() to construct.
      private CombinedPresenceChange(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private CombinedPresenceChange() {
        presence_ = 0;
        priorPresence_ = 0;
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new CombinedPresenceChange();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private CombinedPresenceChange(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 8: {
                int rawValue = input.readEnum();

                presence_ = rawValue;
                break;
              }
              case 16: {
                int rawValue = input.readEnum();

                priorPresence_ = rawValue;
                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_CombinedPresenceChange_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_CombinedPresenceChange_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.class, nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.Builder.class);
      }

      public static final int PRESENCE_FIELD_NUMBER = 1;
      private int presence_;
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.Presence presence = 1;</code>
       * @return The enum numeric value on the wire for presence.
       */
      @java.lang.Override public int getPresenceValue() {
        return presence_;
      }
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.Presence presence = 1;</code>
       * @return The presence.
       */
      @java.lang.Override public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence getPresence() {
        @SuppressWarnings("deprecation")
        nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.valueOf(presence_);
        return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.UNRECOGNIZED : result;
      }

      public static final int PRIORPRESENCE_FIELD_NUMBER = 2;
      private int priorPresence_;
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.Presence priorPresence = 2;</code>
       * @return The enum numeric value on the wire for priorPresence.
       */
      @java.lang.Override public int getPriorPresenceValue() {
        return priorPresence_;
      }
      /**
       * <code>.nest.trait.occupancy.StructureModeTrait.Presence priorPresence = 2;</code>
       * @return The priorPresence.
       */
      @java.lang.Override public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence getPriorPresence() {
        @SuppressWarnings("deprecation")
        nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.valueOf(priorPresence_);
        return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.UNRECOGNIZED : result;
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (presence_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.PRESENCE_UNSPECIFIED.getNumber()) {
          output.writeEnum(1, presence_);
        }
        if (priorPresence_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.PRESENCE_UNSPECIFIED.getNumber()) {
          output.writeEnum(2, priorPresence_);
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (presence_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.PRESENCE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(1, presence_);
        }
        if (priorPresence_ != nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.PRESENCE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(2, priorPresence_);
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange)) {
          return super.equals(obj);
        }
        nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange other = (nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange) obj;

        if (presence_ != other.presence_) return false;
        if (priorPresence_ != other.priorPresence_) return false;
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + PRESENCE_FIELD_NUMBER;
        hash = (53 * hash) + presence_;
        hash = (37 * hash) + PRIORPRESENCE_FIELD_NUMBER;
        hash = (53 * hash) + priorPresence_;
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange)
          nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChangeOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_CombinedPresenceChange_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_CombinedPresenceChange_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.class, nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.Builder.class);
        }

        // Construct using nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          presence_ = 0;

          priorPresence_ = 0;

          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_CombinedPresenceChange_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange getDefaultInstanceForType() {
          return nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange build() {
          nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange buildPartial() {
          nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange result = new nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange(this);
          result.presence_ = presence_;
          result.priorPresence_ = priorPresence_;
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange) {
            return mergeFrom((nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange other) {
          if (other == nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.getDefaultInstance()) return this;
          if (other.presence_ != 0) {
            setPresenceValue(other.getPresenceValue());
          }
          if (other.priorPresence_ != 0) {
            setPriorPresenceValue(other.getPriorPresenceValue());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private int presence_ = 0;
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.Presence presence = 1;</code>
         * @return The enum numeric value on the wire for presence.
         */
        @java.lang.Override public int getPresenceValue() {
          return presence_;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.Presence presence = 1;</code>
         * @param value The enum numeric value on the wire for presence to set.
         * @return This builder for chaining.
         */
        public Builder setPresenceValue(int value) {
          
          presence_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.Presence presence = 1;</code>
         * @return The presence.
         */
        @java.lang.Override
        public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence getPresence() {
          @SuppressWarnings("deprecation")
          nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.valueOf(presence_);
          return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.Presence presence = 1;</code>
         * @param value The presence to set.
         * @return This builder for chaining.
         */
        public Builder setPresence(nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          presence_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.Presence presence = 1;</code>
         * @return This builder for chaining.
         */
        public Builder clearPresence() {
          
          presence_ = 0;
          onChanged();
          return this;
        }

        private int priorPresence_ = 0;
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.Presence priorPresence = 2;</code>
         * @return The enum numeric value on the wire for priorPresence.
         */
        @java.lang.Override public int getPriorPresenceValue() {
          return priorPresence_;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.Presence priorPresence = 2;</code>
         * @param value The enum numeric value on the wire for priorPresence to set.
         * @return This builder for chaining.
         */
        public Builder setPriorPresenceValue(int value) {
          
          priorPresence_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.Presence priorPresence = 2;</code>
         * @return The priorPresence.
         */
        @java.lang.Override
        public nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence getPriorPresence() {
          @SuppressWarnings("deprecation")
          nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence result = nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.valueOf(priorPresence_);
          return result == null ? nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.Presence priorPresence = 2;</code>
         * @param value The priorPresence to set.
         * @return This builder for chaining.
         */
        public Builder setPriorPresence(nest.trait.occupancy.OccupancyOuterClass.StructureModeTrait.Presence value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          priorPresence_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.StructureModeTrait.Presence priorPresence = 2;</code>
         * @return This builder for chaining.
         */
        public Builder clearPriorPresence() {
          
          priorPresence_ = 0;
          onChanged();
          return this;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange)
      private static final nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange();
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<CombinedPresenceChange>
          PARSER = new com.google.protobuf.AbstractParser<CombinedPresenceChange>() {
        @java.lang.Override
        public CombinedPresenceChange parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new CombinedPresenceChange(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<CombinedPresenceChange> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<CombinedPresenceChange> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface GeofenceStateChangeOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.occupancy.Geofencing.GeofenceState geofenceState = 1;</code>
       * @return The enum numeric value on the wire for geofenceState.
       */
      int getGeofenceStateValue();
      /**
       * <code>.nest.trait.occupancy.Geofencing.GeofenceState geofenceState = 1;</code>
       * @return The geofenceState.
       */
      nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState getGeofenceState();

      /**
       * <code>.weave.common.ResourceId userId = 2;</code>
       * @return Whether the userId field is set.
       */
      boolean hasUserId();
      /**
       * <code>.weave.common.ResourceId userId = 2;</code>
       * @return The userId.
       */
      weave.common.Common.ResourceId getUserId();
      /**
       * <code>.weave.common.ResourceId userId = 2;</code>
       */
      weave.common.Common.ResourceIdOrBuilder getUserIdOrBuilder();

      /**
       * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
       * @return Whether the rtsDeviceId field is set.
       */
      boolean hasRtsDeviceId();
      /**
       * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
       * @return The rtsDeviceId.
       */
      com.google.protobuf.StringValue getRtsDeviceId();
      /**
       * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
       */
      com.google.protobuf.StringValueOrBuilder getRtsDeviceIdOrBuilder();

      /**
       * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
       * @return Whether the weaveMobileDeviceId field is set.
       */
      boolean hasWeaveMobileDeviceId();
      /**
       * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
       * @return The weaveMobileDeviceId.
       */
      weave.common.Common.ResourceId getWeaveMobileDeviceId();
      /**
       * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
       */
      weave.common.Common.ResourceIdOrBuilder getWeaveMobileDeviceIdOrBuilder();

      /**
       * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
       * @return Whether the assertionTimestamp field is set.
       */
      boolean hasAssertionTimestamp();
      /**
       * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
       * @return The assertionTimestamp.
       */
      com.google.protobuf.Timestamp getAssertionTimestamp();
      /**
       * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
       */
      com.google.protobuf.TimestampOrBuilder getAssertionTimestampOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange}
     */
    public static final class GeofenceStateChange extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange)
        GeofenceStateChangeOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use GeofenceStateChange.newBuilder() to construct.
      private GeofenceStateChange(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private GeofenceStateChange() {
        geofenceState_ = 0;
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new GeofenceStateChange();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private GeofenceStateChange(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 8: {
                int rawValue = input.readEnum();

                geofenceState_ = rawValue;
                break;
              }
              case 18: {
                weave.common.Common.ResourceId.Builder subBuilder = null;
                if (userId_ != null) {
                  subBuilder = userId_.toBuilder();
                }
                userId_ = input.readMessage(weave.common.Common.ResourceId.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(userId_);
                  userId_ = subBuilder.buildPartial();
                }

                break;
              }
              case 26: {
                com.google.protobuf.StringValue.Builder subBuilder = null;
                if (rtsDeviceId_ != null) {
                  subBuilder = rtsDeviceId_.toBuilder();
                }
                rtsDeviceId_ = input.readMessage(com.google.protobuf.StringValue.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(rtsDeviceId_);
                  rtsDeviceId_ = subBuilder.buildPartial();
                }

                break;
              }
              case 34: {
                weave.common.Common.ResourceId.Builder subBuilder = null;
                if (weaveMobileDeviceId_ != null) {
                  subBuilder = weaveMobileDeviceId_.toBuilder();
                }
                weaveMobileDeviceId_ = input.readMessage(weave.common.Common.ResourceId.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(weaveMobileDeviceId_);
                  weaveMobileDeviceId_ = subBuilder.buildPartial();
                }

                break;
              }
              case 42: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (assertionTimestamp_ != null) {
                  subBuilder = assertionTimestamp_.toBuilder();
                }
                assertionTimestamp_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(assertionTimestamp_);
                  assertionTimestamp_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_GeofenceStateChange_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_GeofenceStateChange_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.class, nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.Builder.class);
      }

      public static final int GEOFENCESTATE_FIELD_NUMBER = 1;
      private int geofenceState_;
      /**
       * <code>.nest.trait.occupancy.Geofencing.GeofenceState geofenceState = 1;</code>
       * @return The enum numeric value on the wire for geofenceState.
       */
      @java.lang.Override public int getGeofenceStateValue() {
        return geofenceState_;
      }
      /**
       * <code>.nest.trait.occupancy.Geofencing.GeofenceState geofenceState = 1;</code>
       * @return The geofenceState.
       */
      @java.lang.Override public nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState getGeofenceState() {
        @SuppressWarnings("deprecation")
        nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState result = nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState.valueOf(geofenceState_);
        return result == null ? nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState.UNRECOGNIZED : result;
      }

      public static final int USERID_FIELD_NUMBER = 2;
      private weave.common.Common.ResourceId userId_;
      /**
       * <code>.weave.common.ResourceId userId = 2;</code>
       * @return Whether the userId field is set.
       */
      @java.lang.Override
      public boolean hasUserId() {
        return userId_ != null;
      }
      /**
       * <code>.weave.common.ResourceId userId = 2;</code>
       * @return The userId.
       */
      @java.lang.Override
      public weave.common.Common.ResourceId getUserId() {
        return userId_ == null ? weave.common.Common.ResourceId.getDefaultInstance() : userId_;
      }
      /**
       * <code>.weave.common.ResourceId userId = 2;</code>
       */
      @java.lang.Override
      public weave.common.Common.ResourceIdOrBuilder getUserIdOrBuilder() {
        return getUserId();
      }

      public static final int RTSDEVICEID_FIELD_NUMBER = 3;
      private com.google.protobuf.StringValue rtsDeviceId_;
      /**
       * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
       * @return Whether the rtsDeviceId field is set.
       */
      @java.lang.Override
      public boolean hasRtsDeviceId() {
        return rtsDeviceId_ != null;
      }
      /**
       * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
       * @return The rtsDeviceId.
       */
      @java.lang.Override
      public com.google.protobuf.StringValue getRtsDeviceId() {
        return rtsDeviceId_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : rtsDeviceId_;
      }
      /**
       * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
       */
      @java.lang.Override
      public com.google.protobuf.StringValueOrBuilder getRtsDeviceIdOrBuilder() {
        return getRtsDeviceId();
      }

      public static final int WEAVEMOBILEDEVICEID_FIELD_NUMBER = 4;
      private weave.common.Common.ResourceId weaveMobileDeviceId_;
      /**
       * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
       * @return Whether the weaveMobileDeviceId field is set.
       */
      @java.lang.Override
      public boolean hasWeaveMobileDeviceId() {
        return weaveMobileDeviceId_ != null;
      }
      /**
       * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
       * @return The weaveMobileDeviceId.
       */
      @java.lang.Override
      public weave.common.Common.ResourceId getWeaveMobileDeviceId() {
        return weaveMobileDeviceId_ == null ? weave.common.Common.ResourceId.getDefaultInstance() : weaveMobileDeviceId_;
      }
      /**
       * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
       */
      @java.lang.Override
      public weave.common.Common.ResourceIdOrBuilder getWeaveMobileDeviceIdOrBuilder() {
        return getWeaveMobileDeviceId();
      }

      public static final int ASSERTIONTIMESTAMP_FIELD_NUMBER = 5;
      private com.google.protobuf.Timestamp assertionTimestamp_;
      /**
       * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
       * @return Whether the assertionTimestamp field is set.
       */
      @java.lang.Override
      public boolean hasAssertionTimestamp() {
        return assertionTimestamp_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
       * @return The assertionTimestamp.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getAssertionTimestamp() {
        return assertionTimestamp_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : assertionTimestamp_;
      }
      /**
       * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getAssertionTimestampOrBuilder() {
        return getAssertionTimestamp();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (geofenceState_ != nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState.GEOFENCE_STATE_UNSPECIFIED.getNumber()) {
          output.writeEnum(1, geofenceState_);
        }
        if (userId_ != null) {
          output.writeMessage(2, getUserId());
        }
        if (rtsDeviceId_ != null) {
          output.writeMessage(3, getRtsDeviceId());
        }
        if (weaveMobileDeviceId_ != null) {
          output.writeMessage(4, getWeaveMobileDeviceId());
        }
        if (assertionTimestamp_ != null) {
          output.writeMessage(5, getAssertionTimestamp());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (geofenceState_ != nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState.GEOFENCE_STATE_UNSPECIFIED.getNumber()) {
          size += com.google.protobuf.CodedOutputStream
            .computeEnumSize(1, geofenceState_);
        }
        if (userId_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getUserId());
        }
        if (rtsDeviceId_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getRtsDeviceId());
        }
        if (weaveMobileDeviceId_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(4, getWeaveMobileDeviceId());
        }
        if (assertionTimestamp_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(5, getAssertionTimestamp());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange)) {
          return super.equals(obj);
        }
        nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange other = (nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange) obj;

        if (geofenceState_ != other.geofenceState_) return false;
        if (hasUserId() != other.hasUserId()) return false;
        if (hasUserId()) {
          if (!getUserId()
              .equals(other.getUserId())) return false;
        }
        if (hasRtsDeviceId() != other.hasRtsDeviceId()) return false;
        if (hasRtsDeviceId()) {
          if (!getRtsDeviceId()
              .equals(other.getRtsDeviceId())) return false;
        }
        if (hasWeaveMobileDeviceId() != other.hasWeaveMobileDeviceId()) return false;
        if (hasWeaveMobileDeviceId()) {
          if (!getWeaveMobileDeviceId()
              .equals(other.getWeaveMobileDeviceId())) return false;
        }
        if (hasAssertionTimestamp() != other.hasAssertionTimestamp()) return false;
        if (hasAssertionTimestamp()) {
          if (!getAssertionTimestamp()
              .equals(other.getAssertionTimestamp())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        hash = (37 * hash) + GEOFENCESTATE_FIELD_NUMBER;
        hash = (53 * hash) + geofenceState_;
        if (hasUserId()) {
          hash = (37 * hash) + USERID_FIELD_NUMBER;
          hash = (53 * hash) + getUserId().hashCode();
        }
        if (hasRtsDeviceId()) {
          hash = (37 * hash) + RTSDEVICEID_FIELD_NUMBER;
          hash = (53 * hash) + getRtsDeviceId().hashCode();
        }
        if (hasWeaveMobileDeviceId()) {
          hash = (37 * hash) + WEAVEMOBILEDEVICEID_FIELD_NUMBER;
          hash = (53 * hash) + getWeaveMobileDeviceId().hashCode();
        }
        if (hasAssertionTimestamp()) {
          hash = (37 * hash) + ASSERTIONTIMESTAMP_FIELD_NUMBER;
          hash = (53 * hash) + getAssertionTimestamp().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange)
          nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChangeOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_GeofenceStateChange_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_GeofenceStateChange_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.class, nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.Builder.class);
        }

        // Construct using nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          geofenceState_ = 0;

          if (userIdBuilder_ == null) {
            userId_ = null;
          } else {
            userId_ = null;
            userIdBuilder_ = null;
          }
          if (rtsDeviceIdBuilder_ == null) {
            rtsDeviceId_ = null;
          } else {
            rtsDeviceId_ = null;
            rtsDeviceIdBuilder_ = null;
          }
          if (weaveMobileDeviceIdBuilder_ == null) {
            weaveMobileDeviceId_ = null;
          } else {
            weaveMobileDeviceId_ = null;
            weaveMobileDeviceIdBuilder_ = null;
          }
          if (assertionTimestampBuilder_ == null) {
            assertionTimestamp_ = null;
          } else {
            assertionTimestamp_ = null;
            assertionTimestampBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_GeofenceStateChange_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange getDefaultInstanceForType() {
          return nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange build() {
          nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange buildPartial() {
          nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange result = new nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange(this);
          result.geofenceState_ = geofenceState_;
          if (userIdBuilder_ == null) {
            result.userId_ = userId_;
          } else {
            result.userId_ = userIdBuilder_.build();
          }
          if (rtsDeviceIdBuilder_ == null) {
            result.rtsDeviceId_ = rtsDeviceId_;
          } else {
            result.rtsDeviceId_ = rtsDeviceIdBuilder_.build();
          }
          if (weaveMobileDeviceIdBuilder_ == null) {
            result.weaveMobileDeviceId_ = weaveMobileDeviceId_;
          } else {
            result.weaveMobileDeviceId_ = weaveMobileDeviceIdBuilder_.build();
          }
          if (assertionTimestampBuilder_ == null) {
            result.assertionTimestamp_ = assertionTimestamp_;
          } else {
            result.assertionTimestamp_ = assertionTimestampBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange) {
            return mergeFrom((nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange other) {
          if (other == nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.getDefaultInstance()) return this;
          if (other.geofenceState_ != 0) {
            setGeofenceStateValue(other.getGeofenceStateValue());
          }
          if (other.hasUserId()) {
            mergeUserId(other.getUserId());
          }
          if (other.hasRtsDeviceId()) {
            mergeRtsDeviceId(other.getRtsDeviceId());
          }
          if (other.hasWeaveMobileDeviceId()) {
            mergeWeaveMobileDeviceId(other.getWeaveMobileDeviceId());
          }
          if (other.hasAssertionTimestamp()) {
            mergeAssertionTimestamp(other.getAssertionTimestamp());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private int geofenceState_ = 0;
        /**
         * <code>.nest.trait.occupancy.Geofencing.GeofenceState geofenceState = 1;</code>
         * @return The enum numeric value on the wire for geofenceState.
         */
        @java.lang.Override public int getGeofenceStateValue() {
          return geofenceState_;
        }
        /**
         * <code>.nest.trait.occupancy.Geofencing.GeofenceState geofenceState = 1;</code>
         * @param value The enum numeric value on the wire for geofenceState to set.
         * @return This builder for chaining.
         */
        public Builder setGeofenceStateValue(int value) {
          
          geofenceState_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.Geofencing.GeofenceState geofenceState = 1;</code>
         * @return The geofenceState.
         */
        @java.lang.Override
        public nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState getGeofenceState() {
          @SuppressWarnings("deprecation")
          nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState result = nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState.valueOf(geofenceState_);
          return result == null ? nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState.UNRECOGNIZED : result;
        }
        /**
         * <code>.nest.trait.occupancy.Geofencing.GeofenceState geofenceState = 1;</code>
         * @param value The geofenceState to set.
         * @return This builder for chaining.
         */
        public Builder setGeofenceState(nest.trait.occupancy.OccupancyOuterClass.Geofencing.GeofenceState value) {
          if (value == null) {
            throw new NullPointerException();
          }
          
          geofenceState_ = value.getNumber();
          onChanged();
          return this;
        }
        /**
         * <code>.nest.trait.occupancy.Geofencing.GeofenceState geofenceState = 1;</code>
         * @return This builder for chaining.
         */
        public Builder clearGeofenceState() {
          
          geofenceState_ = 0;
          onChanged();
          return this;
        }

        private weave.common.Common.ResourceId userId_;
        private com.google.protobuf.SingleFieldBuilderV3<
            weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder> userIdBuilder_;
        /**
         * <code>.weave.common.ResourceId userId = 2;</code>
         * @return Whether the userId field is set.
         */
        public boolean hasUserId() {
          return userIdBuilder_ != null || userId_ != null;
        }
        /**
         * <code>.weave.common.ResourceId userId = 2;</code>
         * @return The userId.
         */
        public weave.common.Common.ResourceId getUserId() {
          if (userIdBuilder_ == null) {
            return userId_ == null ? weave.common.Common.ResourceId.getDefaultInstance() : userId_;
          } else {
            return userIdBuilder_.getMessage();
          }
        }
        /**
         * <code>.weave.common.ResourceId userId = 2;</code>
         */
        public Builder setUserId(weave.common.Common.ResourceId value) {
          if (userIdBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            userId_ = value;
            onChanged();
          } else {
            userIdBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId userId = 2;</code>
         */
        public Builder setUserId(
            weave.common.Common.ResourceId.Builder builderForValue) {
          if (userIdBuilder_ == null) {
            userId_ = builderForValue.build();
            onChanged();
          } else {
            userIdBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId userId = 2;</code>
         */
        public Builder mergeUserId(weave.common.Common.ResourceId value) {
          if (userIdBuilder_ == null) {
            if (userId_ != null) {
              userId_ =
                weave.common.Common.ResourceId.newBuilder(userId_).mergeFrom(value).buildPartial();
            } else {
              userId_ = value;
            }
            onChanged();
          } else {
            userIdBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId userId = 2;</code>
         */
        public Builder clearUserId() {
          if (userIdBuilder_ == null) {
            userId_ = null;
            onChanged();
          } else {
            userId_ = null;
            userIdBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId userId = 2;</code>
         */
        public weave.common.Common.ResourceId.Builder getUserIdBuilder() {
          
          onChanged();
          return getUserIdFieldBuilder().getBuilder();
        }
        /**
         * <code>.weave.common.ResourceId userId = 2;</code>
         */
        public weave.common.Common.ResourceIdOrBuilder getUserIdOrBuilder() {
          if (userIdBuilder_ != null) {
            return userIdBuilder_.getMessageOrBuilder();
          } else {
            return userId_ == null ?
                weave.common.Common.ResourceId.getDefaultInstance() : userId_;
          }
        }
        /**
         * <code>.weave.common.ResourceId userId = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder> 
            getUserIdFieldBuilder() {
          if (userIdBuilder_ == null) {
            userIdBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder>(
                    getUserId(),
                    getParentForChildren(),
                    isClean());
            userId_ = null;
          }
          return userIdBuilder_;
        }

        private com.google.protobuf.StringValue rtsDeviceId_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> rtsDeviceIdBuilder_;
        /**
         * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
         * @return Whether the rtsDeviceId field is set.
         */
        public boolean hasRtsDeviceId() {
          return rtsDeviceIdBuilder_ != null || rtsDeviceId_ != null;
        }
        /**
         * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
         * @return The rtsDeviceId.
         */
        public com.google.protobuf.StringValue getRtsDeviceId() {
          if (rtsDeviceIdBuilder_ == null) {
            return rtsDeviceId_ == null ? com.google.protobuf.StringValue.getDefaultInstance() : rtsDeviceId_;
          } else {
            return rtsDeviceIdBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
         */
        public Builder setRtsDeviceId(com.google.protobuf.StringValue value) {
          if (rtsDeviceIdBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            rtsDeviceId_ = value;
            onChanged();
          } else {
            rtsDeviceIdBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
         */
        public Builder setRtsDeviceId(
            com.google.protobuf.StringValue.Builder builderForValue) {
          if (rtsDeviceIdBuilder_ == null) {
            rtsDeviceId_ = builderForValue.build();
            onChanged();
          } else {
            rtsDeviceIdBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
         */
        public Builder mergeRtsDeviceId(com.google.protobuf.StringValue value) {
          if (rtsDeviceIdBuilder_ == null) {
            if (rtsDeviceId_ != null) {
              rtsDeviceId_ =
                com.google.protobuf.StringValue.newBuilder(rtsDeviceId_).mergeFrom(value).buildPartial();
            } else {
              rtsDeviceId_ = value;
            }
            onChanged();
          } else {
            rtsDeviceIdBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
         */
        public Builder clearRtsDeviceId() {
          if (rtsDeviceIdBuilder_ == null) {
            rtsDeviceId_ = null;
            onChanged();
          } else {
            rtsDeviceId_ = null;
            rtsDeviceIdBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
         */
        public com.google.protobuf.StringValue.Builder getRtsDeviceIdBuilder() {
          
          onChanged();
          return getRtsDeviceIdFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
         */
        public com.google.protobuf.StringValueOrBuilder getRtsDeviceIdOrBuilder() {
          if (rtsDeviceIdBuilder_ != null) {
            return rtsDeviceIdBuilder_.getMessageOrBuilder();
          } else {
            return rtsDeviceId_ == null ?
                com.google.protobuf.StringValue.getDefaultInstance() : rtsDeviceId_;
          }
        }
        /**
         * <code>.google.protobuf.StringValue rtsDeviceId = 3;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder> 
            getRtsDeviceIdFieldBuilder() {
          if (rtsDeviceIdBuilder_ == null) {
            rtsDeviceIdBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.StringValue, com.google.protobuf.StringValue.Builder, com.google.protobuf.StringValueOrBuilder>(
                    getRtsDeviceId(),
                    getParentForChildren(),
                    isClean());
            rtsDeviceId_ = null;
          }
          return rtsDeviceIdBuilder_;
        }

        private weave.common.Common.ResourceId weaveMobileDeviceId_;
        private com.google.protobuf.SingleFieldBuilderV3<
            weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder> weaveMobileDeviceIdBuilder_;
        /**
         * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
         * @return Whether the weaveMobileDeviceId field is set.
         */
        public boolean hasWeaveMobileDeviceId() {
          return weaveMobileDeviceIdBuilder_ != null || weaveMobileDeviceId_ != null;
        }
        /**
         * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
         * @return The weaveMobileDeviceId.
         */
        public weave.common.Common.ResourceId getWeaveMobileDeviceId() {
          if (weaveMobileDeviceIdBuilder_ == null) {
            return weaveMobileDeviceId_ == null ? weave.common.Common.ResourceId.getDefaultInstance() : weaveMobileDeviceId_;
          } else {
            return weaveMobileDeviceIdBuilder_.getMessage();
          }
        }
        /**
         * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
         */
        public Builder setWeaveMobileDeviceId(weave.common.Common.ResourceId value) {
          if (weaveMobileDeviceIdBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            weaveMobileDeviceId_ = value;
            onChanged();
          } else {
            weaveMobileDeviceIdBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
         */
        public Builder setWeaveMobileDeviceId(
            weave.common.Common.ResourceId.Builder builderForValue) {
          if (weaveMobileDeviceIdBuilder_ == null) {
            weaveMobileDeviceId_ = builderForValue.build();
            onChanged();
          } else {
            weaveMobileDeviceIdBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
         */
        public Builder mergeWeaveMobileDeviceId(weave.common.Common.ResourceId value) {
          if (weaveMobileDeviceIdBuilder_ == null) {
            if (weaveMobileDeviceId_ != null) {
              weaveMobileDeviceId_ =
                weave.common.Common.ResourceId.newBuilder(weaveMobileDeviceId_).mergeFrom(value).buildPartial();
            } else {
              weaveMobileDeviceId_ = value;
            }
            onChanged();
          } else {
            weaveMobileDeviceIdBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
         */
        public Builder clearWeaveMobileDeviceId() {
          if (weaveMobileDeviceIdBuilder_ == null) {
            weaveMobileDeviceId_ = null;
            onChanged();
          } else {
            weaveMobileDeviceId_ = null;
            weaveMobileDeviceIdBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
         */
        public weave.common.Common.ResourceId.Builder getWeaveMobileDeviceIdBuilder() {
          
          onChanged();
          return getWeaveMobileDeviceIdFieldBuilder().getBuilder();
        }
        /**
         * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
         */
        public weave.common.Common.ResourceIdOrBuilder getWeaveMobileDeviceIdOrBuilder() {
          if (weaveMobileDeviceIdBuilder_ != null) {
            return weaveMobileDeviceIdBuilder_.getMessageOrBuilder();
          } else {
            return weaveMobileDeviceId_ == null ?
                weave.common.Common.ResourceId.getDefaultInstance() : weaveMobileDeviceId_;
          }
        }
        /**
         * <code>.weave.common.ResourceId weaveMobileDeviceId = 4;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder> 
            getWeaveMobileDeviceIdFieldBuilder() {
          if (weaveMobileDeviceIdBuilder_ == null) {
            weaveMobileDeviceIdBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                weave.common.Common.ResourceId, weave.common.Common.ResourceId.Builder, weave.common.Common.ResourceIdOrBuilder>(
                    getWeaveMobileDeviceId(),
                    getParentForChildren(),
                    isClean());
            weaveMobileDeviceId_ = null;
          }
          return weaveMobileDeviceIdBuilder_;
        }

        private com.google.protobuf.Timestamp assertionTimestamp_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> assertionTimestampBuilder_;
        /**
         * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
         * @return Whether the assertionTimestamp field is set.
         */
        public boolean hasAssertionTimestamp() {
          return assertionTimestampBuilder_ != null || assertionTimestamp_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
         * @return The assertionTimestamp.
         */
        public com.google.protobuf.Timestamp getAssertionTimestamp() {
          if (assertionTimestampBuilder_ == null) {
            return assertionTimestamp_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : assertionTimestamp_;
          } else {
            return assertionTimestampBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
         */
        public Builder setAssertionTimestamp(com.google.protobuf.Timestamp value) {
          if (assertionTimestampBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            assertionTimestamp_ = value;
            onChanged();
          } else {
            assertionTimestampBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
         */
        public Builder setAssertionTimestamp(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (assertionTimestampBuilder_ == null) {
            assertionTimestamp_ = builderForValue.build();
            onChanged();
          } else {
            assertionTimestampBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
         */
        public Builder mergeAssertionTimestamp(com.google.protobuf.Timestamp value) {
          if (assertionTimestampBuilder_ == null) {
            if (assertionTimestamp_ != null) {
              assertionTimestamp_ =
                com.google.protobuf.Timestamp.newBuilder(assertionTimestamp_).mergeFrom(value).buildPartial();
            } else {
              assertionTimestamp_ = value;
            }
            onChanged();
          } else {
            assertionTimestampBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
         */
        public Builder clearAssertionTimestamp() {
          if (assertionTimestampBuilder_ == null) {
            assertionTimestamp_ = null;
            onChanged();
          } else {
            assertionTimestamp_ = null;
            assertionTimestampBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
         */
        public com.google.protobuf.Timestamp.Builder getAssertionTimestampBuilder() {
          
          onChanged();
          return getAssertionTimestampFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getAssertionTimestampOrBuilder() {
          if (assertionTimestampBuilder_ != null) {
            return assertionTimestampBuilder_.getMessageOrBuilder();
          } else {
            return assertionTimestamp_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : assertionTimestamp_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp assertionTimestamp = 5;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getAssertionTimestampFieldBuilder() {
          if (assertionTimestampBuilder_ == null) {
            assertionTimestampBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getAssertionTimestamp(),
                    getParentForChildren(),
                    isClean());
            assertionTimestamp_ = null;
          }
          return assertionTimestampBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange)
      private static final nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange();
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<GeofenceStateChange>
          PARSER = new com.google.protobuf.AbstractParser<GeofenceStateChange>() {
        @java.lang.Override
        public GeofenceStateChange parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new GeofenceStateChange(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<GeofenceStateChange> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<GeofenceStateChange> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface OccupancyHistoryRecordOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
       * @return Whether the eventTimestamp field is set.
       */
      boolean hasEventTimestamp();
      /**
       * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
       * @return The eventTimestamp.
       */
      com.google.protobuf.Timestamp getEventTimestamp();
      /**
       * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
       */
      com.google.protobuf.TimestampOrBuilder getEventTimestampOrBuilder();

      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
       * @return Whether the explicitChangeEvent field is set.
       */
      boolean hasExplicitChangeEvent();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
       * @return The explicitChangeEvent.
       */
      nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange getExplicitChangeEvent();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
       */
      nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChangeOrBuilder getExplicitChangeEventOrBuilder();

      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
       * @return Whether the implicitChangeEvent field is set.
       */
      boolean hasImplicitChangeEvent();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
       * @return The implicitChangeEvent.
       */
      nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange getImplicitChangeEvent();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
       */
      nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChangeOrBuilder getImplicitChangeEventOrBuilder();

      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
       * @return Whether the estimatedOccupancyChangeEvent field is set.
       */
      boolean hasEstimatedOccupancyChangeEvent();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
       * @return The estimatedOccupancyChangeEvent.
       */
      nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange getEstimatedOccupancyChangeEvent();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
       */
      nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChangeOrBuilder getEstimatedOccupancyChangeEventOrBuilder();

      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
       * @return Whether the presenceEvent field is set.
       */
      boolean hasPresenceEvent();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
       * @return The presenceEvent.
       */
      nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange getPresenceEvent();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
       */
      nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChangeOrBuilder getPresenceEventOrBuilder();

      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
       * @return Whether the geofenceEvent field is set.
       */
      boolean hasGeofenceEvent();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
       * @return The geofenceEvent.
       */
      nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange getGeofenceEvent();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
       */
      nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChangeOrBuilder getGeofenceEventOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord}
     */
    public static final class OccupancyHistoryRecord extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord)
        OccupancyHistoryRecordOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use OccupancyHistoryRecord.newBuilder() to construct.
      private OccupancyHistoryRecord(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private OccupancyHistoryRecord() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new OccupancyHistoryRecord();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private OccupancyHistoryRecord(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                com.google.protobuf.Timestamp.Builder subBuilder = null;
                if (eventTimestamp_ != null) {
                  subBuilder = eventTimestamp_.toBuilder();
                }
                eventTimestamp_ = input.readMessage(com.google.protobuf.Timestamp.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(eventTimestamp_);
                  eventTimestamp_ = subBuilder.buildPartial();
                }

                break;
              }
              case 18: {
                nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.Builder subBuilder = null;
                if (explicitChangeEvent_ != null) {
                  subBuilder = explicitChangeEvent_.toBuilder();
                }
                explicitChangeEvent_ = input.readMessage(nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(explicitChangeEvent_);
                  explicitChangeEvent_ = subBuilder.buildPartial();
                }

                break;
              }
              case 26: {
                nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.Builder subBuilder = null;
                if (implicitChangeEvent_ != null) {
                  subBuilder = implicitChangeEvent_.toBuilder();
                }
                implicitChangeEvent_ = input.readMessage(nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(implicitChangeEvent_);
                  implicitChangeEvent_ = subBuilder.buildPartial();
                }

                break;
              }
              case 34: {
                nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.Builder subBuilder = null;
                if (estimatedOccupancyChangeEvent_ != null) {
                  subBuilder = estimatedOccupancyChangeEvent_.toBuilder();
                }
                estimatedOccupancyChangeEvent_ = input.readMessage(nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(estimatedOccupancyChangeEvent_);
                  estimatedOccupancyChangeEvent_ = subBuilder.buildPartial();
                }

                break;
              }
              case 42: {
                nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.Builder subBuilder = null;
                if (presenceEvent_ != null) {
                  subBuilder = presenceEvent_.toBuilder();
                }
                presenceEvent_ = input.readMessage(nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(presenceEvent_);
                  presenceEvent_ = subBuilder.buildPartial();
                }

                break;
              }
              case 50: {
                nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.Builder subBuilder = null;
                if (geofenceEvent_ != null) {
                  subBuilder = geofenceEvent_.toBuilder();
                }
                geofenceEvent_ = input.readMessage(nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(geofenceEvent_);
                  geofenceEvent_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_OccupancyHistoryRecord_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_OccupancyHistoryRecord_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.class, nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.Builder.class);
      }

      public static final int EVENTTIMESTAMP_FIELD_NUMBER = 1;
      private com.google.protobuf.Timestamp eventTimestamp_;
      /**
       * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
       * @return Whether the eventTimestamp field is set.
       */
      @java.lang.Override
      public boolean hasEventTimestamp() {
        return eventTimestamp_ != null;
      }
      /**
       * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
       * @return The eventTimestamp.
       */
      @java.lang.Override
      public com.google.protobuf.Timestamp getEventTimestamp() {
        return eventTimestamp_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : eventTimestamp_;
      }
      /**
       * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
       */
      @java.lang.Override
      public com.google.protobuf.TimestampOrBuilder getEventTimestampOrBuilder() {
        return getEventTimestamp();
      }

      public static final int EXPLICITCHANGEEVENT_FIELD_NUMBER = 2;
      private nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent_;
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
       * @return Whether the explicitChangeEvent field is set.
       */
      @java.lang.Override
      public boolean hasExplicitChangeEvent() {
        return explicitChangeEvent_ != null;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
       * @return The explicitChangeEvent.
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange getExplicitChangeEvent() {
        return explicitChangeEvent_ == null ? nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.getDefaultInstance() : explicitChangeEvent_;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChangeOrBuilder getExplicitChangeEventOrBuilder() {
        return getExplicitChangeEvent();
      }

      public static final int IMPLICITCHANGEEVENT_FIELD_NUMBER = 3;
      private nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent_;
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
       * @return Whether the implicitChangeEvent field is set.
       */
      @java.lang.Override
      public boolean hasImplicitChangeEvent() {
        return implicitChangeEvent_ != null;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
       * @return The implicitChangeEvent.
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange getImplicitChangeEvent() {
        return implicitChangeEvent_ == null ? nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.getDefaultInstance() : implicitChangeEvent_;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChangeOrBuilder getImplicitChangeEventOrBuilder() {
        return getImplicitChangeEvent();
      }

      public static final int ESTIMATEDOCCUPANCYCHANGEEVENT_FIELD_NUMBER = 4;
      private nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent_;
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
       * @return Whether the estimatedOccupancyChangeEvent field is set.
       */
      @java.lang.Override
      public boolean hasEstimatedOccupancyChangeEvent() {
        return estimatedOccupancyChangeEvent_ != null;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
       * @return The estimatedOccupancyChangeEvent.
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange getEstimatedOccupancyChangeEvent() {
        return estimatedOccupancyChangeEvent_ == null ? nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.getDefaultInstance() : estimatedOccupancyChangeEvent_;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChangeOrBuilder getEstimatedOccupancyChangeEventOrBuilder() {
        return getEstimatedOccupancyChangeEvent();
      }

      public static final int PRESENCEEVENT_FIELD_NUMBER = 5;
      private nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent_;
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
       * @return Whether the presenceEvent field is set.
       */
      @java.lang.Override
      public boolean hasPresenceEvent() {
        return presenceEvent_ != null;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
       * @return The presenceEvent.
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange getPresenceEvent() {
        return presenceEvent_ == null ? nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.getDefaultInstance() : presenceEvent_;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChangeOrBuilder getPresenceEventOrBuilder() {
        return getPresenceEvent();
      }

      public static final int GEOFENCEEVENT_FIELD_NUMBER = 6;
      private nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent_;
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
       * @return Whether the geofenceEvent field is set.
       */
      @java.lang.Override
      public boolean hasGeofenceEvent() {
        return geofenceEvent_ != null;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
       * @return The geofenceEvent.
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange getGeofenceEvent() {
        return geofenceEvent_ == null ? nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.getDefaultInstance() : geofenceEvent_;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChangeOrBuilder getGeofenceEventOrBuilder() {
        return getGeofenceEvent();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (eventTimestamp_ != null) {
          output.writeMessage(1, getEventTimestamp());
        }
        if (explicitChangeEvent_ != null) {
          output.writeMessage(2, getExplicitChangeEvent());
        }
        if (implicitChangeEvent_ != null) {
          output.writeMessage(3, getImplicitChangeEvent());
        }
        if (estimatedOccupancyChangeEvent_ != null) {
          output.writeMessage(4, getEstimatedOccupancyChangeEvent());
        }
        if (presenceEvent_ != null) {
          output.writeMessage(5, getPresenceEvent());
        }
        if (geofenceEvent_ != null) {
          output.writeMessage(6, getGeofenceEvent());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (eventTimestamp_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getEventTimestamp());
        }
        if (explicitChangeEvent_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getExplicitChangeEvent());
        }
        if (implicitChangeEvent_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getImplicitChangeEvent());
        }
        if (estimatedOccupancyChangeEvent_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(4, getEstimatedOccupancyChangeEvent());
        }
        if (presenceEvent_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(5, getPresenceEvent());
        }
        if (geofenceEvent_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(6, getGeofenceEvent());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord)) {
          return super.equals(obj);
        }
        nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord other = (nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord) obj;

        if (hasEventTimestamp() != other.hasEventTimestamp()) return false;
        if (hasEventTimestamp()) {
          if (!getEventTimestamp()
              .equals(other.getEventTimestamp())) return false;
        }
        if (hasExplicitChangeEvent() != other.hasExplicitChangeEvent()) return false;
        if (hasExplicitChangeEvent()) {
          if (!getExplicitChangeEvent()
              .equals(other.getExplicitChangeEvent())) return false;
        }
        if (hasImplicitChangeEvent() != other.hasImplicitChangeEvent()) return false;
        if (hasImplicitChangeEvent()) {
          if (!getImplicitChangeEvent()
              .equals(other.getImplicitChangeEvent())) return false;
        }
        if (hasEstimatedOccupancyChangeEvent() != other.hasEstimatedOccupancyChangeEvent()) return false;
        if (hasEstimatedOccupancyChangeEvent()) {
          if (!getEstimatedOccupancyChangeEvent()
              .equals(other.getEstimatedOccupancyChangeEvent())) return false;
        }
        if (hasPresenceEvent() != other.hasPresenceEvent()) return false;
        if (hasPresenceEvent()) {
          if (!getPresenceEvent()
              .equals(other.getPresenceEvent())) return false;
        }
        if (hasGeofenceEvent() != other.hasGeofenceEvent()) return false;
        if (hasGeofenceEvent()) {
          if (!getGeofenceEvent()
              .equals(other.getGeofenceEvent())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasEventTimestamp()) {
          hash = (37 * hash) + EVENTTIMESTAMP_FIELD_NUMBER;
          hash = (53 * hash) + getEventTimestamp().hashCode();
        }
        if (hasExplicitChangeEvent()) {
          hash = (37 * hash) + EXPLICITCHANGEEVENT_FIELD_NUMBER;
          hash = (53 * hash) + getExplicitChangeEvent().hashCode();
        }
        if (hasImplicitChangeEvent()) {
          hash = (37 * hash) + IMPLICITCHANGEEVENT_FIELD_NUMBER;
          hash = (53 * hash) + getImplicitChangeEvent().hashCode();
        }
        if (hasEstimatedOccupancyChangeEvent()) {
          hash = (37 * hash) + ESTIMATEDOCCUPANCYCHANGEEVENT_FIELD_NUMBER;
          hash = (53 * hash) + getEstimatedOccupancyChangeEvent().hashCode();
        }
        if (hasPresenceEvent()) {
          hash = (37 * hash) + PRESENCEEVENT_FIELD_NUMBER;
          hash = (53 * hash) + getPresenceEvent().hashCode();
        }
        if (hasGeofenceEvent()) {
          hash = (37 * hash) + GEOFENCEEVENT_FIELD_NUMBER;
          hash = (53 * hash) + getGeofenceEvent().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord)
          nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecordOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_OccupancyHistoryRecord_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_OccupancyHistoryRecord_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.class, nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.Builder.class);
        }

        // Construct using nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (eventTimestampBuilder_ == null) {
            eventTimestamp_ = null;
          } else {
            eventTimestamp_ = null;
            eventTimestampBuilder_ = null;
          }
          if (explicitChangeEventBuilder_ == null) {
            explicitChangeEvent_ = null;
          } else {
            explicitChangeEvent_ = null;
            explicitChangeEventBuilder_ = null;
          }
          if (implicitChangeEventBuilder_ == null) {
            implicitChangeEvent_ = null;
          } else {
            implicitChangeEvent_ = null;
            implicitChangeEventBuilder_ = null;
          }
          if (estimatedOccupancyChangeEventBuilder_ == null) {
            estimatedOccupancyChangeEvent_ = null;
          } else {
            estimatedOccupancyChangeEvent_ = null;
            estimatedOccupancyChangeEventBuilder_ = null;
          }
          if (presenceEventBuilder_ == null) {
            presenceEvent_ = null;
          } else {
            presenceEvent_ = null;
            presenceEventBuilder_ = null;
          }
          if (geofenceEventBuilder_ == null) {
            geofenceEvent_ = null;
          } else {
            geofenceEvent_ = null;
            geofenceEventBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_OccupancyHistoryRecord_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord getDefaultInstanceForType() {
          return nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord build() {
          nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord buildPartial() {
          nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord result = new nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord(this);
          if (eventTimestampBuilder_ == null) {
            result.eventTimestamp_ = eventTimestamp_;
          } else {
            result.eventTimestamp_ = eventTimestampBuilder_.build();
          }
          if (explicitChangeEventBuilder_ == null) {
            result.explicitChangeEvent_ = explicitChangeEvent_;
          } else {
            result.explicitChangeEvent_ = explicitChangeEventBuilder_.build();
          }
          if (implicitChangeEventBuilder_ == null) {
            result.implicitChangeEvent_ = implicitChangeEvent_;
          } else {
            result.implicitChangeEvent_ = implicitChangeEventBuilder_.build();
          }
          if (estimatedOccupancyChangeEventBuilder_ == null) {
            result.estimatedOccupancyChangeEvent_ = estimatedOccupancyChangeEvent_;
          } else {
            result.estimatedOccupancyChangeEvent_ = estimatedOccupancyChangeEventBuilder_.build();
          }
          if (presenceEventBuilder_ == null) {
            result.presenceEvent_ = presenceEvent_;
          } else {
            result.presenceEvent_ = presenceEventBuilder_.build();
          }
          if (geofenceEventBuilder_ == null) {
            result.geofenceEvent_ = geofenceEvent_;
          } else {
            result.geofenceEvent_ = geofenceEventBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord) {
            return mergeFrom((nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord other) {
          if (other == nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.getDefaultInstance()) return this;
          if (other.hasEventTimestamp()) {
            mergeEventTimestamp(other.getEventTimestamp());
          }
          if (other.hasExplicitChangeEvent()) {
            mergeExplicitChangeEvent(other.getExplicitChangeEvent());
          }
          if (other.hasImplicitChangeEvent()) {
            mergeImplicitChangeEvent(other.getImplicitChangeEvent());
          }
          if (other.hasEstimatedOccupancyChangeEvent()) {
            mergeEstimatedOccupancyChangeEvent(other.getEstimatedOccupancyChangeEvent());
          }
          if (other.hasPresenceEvent()) {
            mergePresenceEvent(other.getPresenceEvent());
          }
          if (other.hasGeofenceEvent()) {
            mergeGeofenceEvent(other.getGeofenceEvent());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private com.google.protobuf.Timestamp eventTimestamp_;
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> eventTimestampBuilder_;
        /**
         * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
         * @return Whether the eventTimestamp field is set.
         */
        public boolean hasEventTimestamp() {
          return eventTimestampBuilder_ != null || eventTimestamp_ != null;
        }
        /**
         * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
         * @return The eventTimestamp.
         */
        public com.google.protobuf.Timestamp getEventTimestamp() {
          if (eventTimestampBuilder_ == null) {
            return eventTimestamp_ == null ? com.google.protobuf.Timestamp.getDefaultInstance() : eventTimestamp_;
          } else {
            return eventTimestampBuilder_.getMessage();
          }
        }
        /**
         * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
         */
        public Builder setEventTimestamp(com.google.protobuf.Timestamp value) {
          if (eventTimestampBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            eventTimestamp_ = value;
            onChanged();
          } else {
            eventTimestampBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
         */
        public Builder setEventTimestamp(
            com.google.protobuf.Timestamp.Builder builderForValue) {
          if (eventTimestampBuilder_ == null) {
            eventTimestamp_ = builderForValue.build();
            onChanged();
          } else {
            eventTimestampBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
         */
        public Builder mergeEventTimestamp(com.google.protobuf.Timestamp value) {
          if (eventTimestampBuilder_ == null) {
            if (eventTimestamp_ != null) {
              eventTimestamp_ =
                com.google.protobuf.Timestamp.newBuilder(eventTimestamp_).mergeFrom(value).buildPartial();
            } else {
              eventTimestamp_ = value;
            }
            onChanged();
          } else {
            eventTimestampBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
         */
        public Builder clearEventTimestamp() {
          if (eventTimestampBuilder_ == null) {
            eventTimestamp_ = null;
            onChanged();
          } else {
            eventTimestamp_ = null;
            eventTimestampBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
         */
        public com.google.protobuf.Timestamp.Builder getEventTimestampBuilder() {
          
          onChanged();
          return getEventTimestampFieldBuilder().getBuilder();
        }
        /**
         * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
         */
        public com.google.protobuf.TimestampOrBuilder getEventTimestampOrBuilder() {
          if (eventTimestampBuilder_ != null) {
            return eventTimestampBuilder_.getMessageOrBuilder();
          } else {
            return eventTimestamp_ == null ?
                com.google.protobuf.Timestamp.getDefaultInstance() : eventTimestamp_;
          }
        }
        /**
         * <code>.google.protobuf.Timestamp eventTimestamp = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder> 
            getEventTimestampFieldBuilder() {
          if (eventTimestampBuilder_ == null) {
            eventTimestampBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                com.google.protobuf.Timestamp, com.google.protobuf.Timestamp.Builder, com.google.protobuf.TimestampOrBuilder>(
                    getEventTimestamp(),
                    getParentForChildren(),
                    isClean());
            eventTimestamp_ = null;
          }
          return eventTimestampBuilder_;
        }

        private nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange, nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChangeOrBuilder> explicitChangeEventBuilder_;
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
         * @return Whether the explicitChangeEvent field is set.
         */
        public boolean hasExplicitChangeEvent() {
          return explicitChangeEventBuilder_ != null || explicitChangeEvent_ != null;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
         * @return The explicitChangeEvent.
         */
        public nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange getExplicitChangeEvent() {
          if (explicitChangeEventBuilder_ == null) {
            return explicitChangeEvent_ == null ? nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.getDefaultInstance() : explicitChangeEvent_;
          } else {
            return explicitChangeEventBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
         */
        public Builder setExplicitChangeEvent(nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange value) {
          if (explicitChangeEventBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            explicitChangeEvent_ = value;
            onChanged();
          } else {
            explicitChangeEventBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
         */
        public Builder setExplicitChangeEvent(
            nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.Builder builderForValue) {
          if (explicitChangeEventBuilder_ == null) {
            explicitChangeEvent_ = builderForValue.build();
            onChanged();
          } else {
            explicitChangeEventBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
         */
        public Builder mergeExplicitChangeEvent(nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange value) {
          if (explicitChangeEventBuilder_ == null) {
            if (explicitChangeEvent_ != null) {
              explicitChangeEvent_ =
                nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.newBuilder(explicitChangeEvent_).mergeFrom(value).buildPartial();
            } else {
              explicitChangeEvent_ = value;
            }
            onChanged();
          } else {
            explicitChangeEventBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
         */
        public Builder clearExplicitChangeEvent() {
          if (explicitChangeEventBuilder_ == null) {
            explicitChangeEvent_ = null;
            onChanged();
          } else {
            explicitChangeEvent_ = null;
            explicitChangeEventBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.Builder getExplicitChangeEventBuilder() {
          
          onChanged();
          return getExplicitChangeEventFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChangeOrBuilder getExplicitChangeEventOrBuilder() {
          if (explicitChangeEventBuilder_ != null) {
            return explicitChangeEventBuilder_.getMessageOrBuilder();
          } else {
            return explicitChangeEvent_ == null ?
                nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.getDefaultInstance() : explicitChangeEvent_;
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ExplicitStructureModeChange explicitChangeEvent = 2;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange, nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChangeOrBuilder> 
            getExplicitChangeEventFieldBuilder() {
          if (explicitChangeEventBuilder_ == null) {
            explicitChangeEventBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange, nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.ExplicitStructureModeChangeOrBuilder>(
                    getExplicitChangeEvent(),
                    getParentForChildren(),
                    isClean());
            explicitChangeEvent_ = null;
          }
          return explicitChangeEventBuilder_;
        }

        private nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange, nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChangeOrBuilder> implicitChangeEventBuilder_;
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
         * @return Whether the implicitChangeEvent field is set.
         */
        public boolean hasImplicitChangeEvent() {
          return implicitChangeEventBuilder_ != null || implicitChangeEvent_ != null;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
         * @return The implicitChangeEvent.
         */
        public nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange getImplicitChangeEvent() {
          if (implicitChangeEventBuilder_ == null) {
            return implicitChangeEvent_ == null ? nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.getDefaultInstance() : implicitChangeEvent_;
          } else {
            return implicitChangeEventBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
         */
        public Builder setImplicitChangeEvent(nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange value) {
          if (implicitChangeEventBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            implicitChangeEvent_ = value;
            onChanged();
          } else {
            implicitChangeEventBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
         */
        public Builder setImplicitChangeEvent(
            nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.Builder builderForValue) {
          if (implicitChangeEventBuilder_ == null) {
            implicitChangeEvent_ = builderForValue.build();
            onChanged();
          } else {
            implicitChangeEventBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
         */
        public Builder mergeImplicitChangeEvent(nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange value) {
          if (implicitChangeEventBuilder_ == null) {
            if (implicitChangeEvent_ != null) {
              implicitChangeEvent_ =
                nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.newBuilder(implicitChangeEvent_).mergeFrom(value).buildPartial();
            } else {
              implicitChangeEvent_ = value;
            }
            onChanged();
          } else {
            implicitChangeEventBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
         */
        public Builder clearImplicitChangeEvent() {
          if (implicitChangeEventBuilder_ == null) {
            implicitChangeEvent_ = null;
            onChanged();
          } else {
            implicitChangeEvent_ = null;
            implicitChangeEventBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.Builder getImplicitChangeEventBuilder() {
          
          onChanged();
          return getImplicitChangeEventFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChangeOrBuilder getImplicitChangeEventOrBuilder() {
          if (implicitChangeEventBuilder_ != null) {
            return implicitChangeEventBuilder_.getMessageOrBuilder();
          } else {
            return implicitChangeEvent_ == null ?
                nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.getDefaultInstance() : implicitChangeEvent_;
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.ImplicitStructureModeChange implicitChangeEvent = 3;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange, nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChangeOrBuilder> 
            getImplicitChangeEventFieldBuilder() {
          if (implicitChangeEventBuilder_ == null) {
            implicitChangeEventBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange, nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.ImplicitStructureModeChangeOrBuilder>(
                    getImplicitChangeEvent(),
                    getParentForChildren(),
                    isClean());
            implicitChangeEvent_ = null;
          }
          return implicitChangeEventBuilder_;
        }

        private nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange, nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChangeOrBuilder> estimatedOccupancyChangeEventBuilder_;
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
         * @return Whether the estimatedOccupancyChangeEvent field is set.
         */
        public boolean hasEstimatedOccupancyChangeEvent() {
          return estimatedOccupancyChangeEventBuilder_ != null || estimatedOccupancyChangeEvent_ != null;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
         * @return The estimatedOccupancyChangeEvent.
         */
        public nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange getEstimatedOccupancyChangeEvent() {
          if (estimatedOccupancyChangeEventBuilder_ == null) {
            return estimatedOccupancyChangeEvent_ == null ? nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.getDefaultInstance() : estimatedOccupancyChangeEvent_;
          } else {
            return estimatedOccupancyChangeEventBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
         */
        public Builder setEstimatedOccupancyChangeEvent(nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange value) {
          if (estimatedOccupancyChangeEventBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            estimatedOccupancyChangeEvent_ = value;
            onChanged();
          } else {
            estimatedOccupancyChangeEventBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
         */
        public Builder setEstimatedOccupancyChangeEvent(
            nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.Builder builderForValue) {
          if (estimatedOccupancyChangeEventBuilder_ == null) {
            estimatedOccupancyChangeEvent_ = builderForValue.build();
            onChanged();
          } else {
            estimatedOccupancyChangeEventBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
         */
        public Builder mergeEstimatedOccupancyChangeEvent(nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange value) {
          if (estimatedOccupancyChangeEventBuilder_ == null) {
            if (estimatedOccupancyChangeEvent_ != null) {
              estimatedOccupancyChangeEvent_ =
                nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.newBuilder(estimatedOccupancyChangeEvent_).mergeFrom(value).buildPartial();
            } else {
              estimatedOccupancyChangeEvent_ = value;
            }
            onChanged();
          } else {
            estimatedOccupancyChangeEventBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
         */
        public Builder clearEstimatedOccupancyChangeEvent() {
          if (estimatedOccupancyChangeEventBuilder_ == null) {
            estimatedOccupancyChangeEvent_ = null;
            onChanged();
          } else {
            estimatedOccupancyChangeEvent_ = null;
            estimatedOccupancyChangeEventBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.Builder getEstimatedOccupancyChangeEventBuilder() {
          
          onChanged();
          return getEstimatedOccupancyChangeEventFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChangeOrBuilder getEstimatedOccupancyChangeEventOrBuilder() {
          if (estimatedOccupancyChangeEventBuilder_ != null) {
            return estimatedOccupancyChangeEventBuilder_.getMessageOrBuilder();
          } else {
            return estimatedOccupancyChangeEvent_ == null ?
                nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.getDefaultInstance() : estimatedOccupancyChangeEvent_;
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange estimatedOccupancyChangeEvent = 4;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange, nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChangeOrBuilder> 
            getEstimatedOccupancyChangeEventFieldBuilder() {
          if (estimatedOccupancyChangeEventBuilder_ == null) {
            estimatedOccupancyChangeEventBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange, nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.EstimatedOccupancyStructureModeChangeOrBuilder>(
                    getEstimatedOccupancyChangeEvent(),
                    getParentForChildren(),
                    isClean());
            estimatedOccupancyChangeEvent_ = null;
          }
          return estimatedOccupancyChangeEventBuilder_;
        }

        private nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange, nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChangeOrBuilder> presenceEventBuilder_;
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
         * @return Whether the presenceEvent field is set.
         */
        public boolean hasPresenceEvent() {
          return presenceEventBuilder_ != null || presenceEvent_ != null;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
         * @return The presenceEvent.
         */
        public nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange getPresenceEvent() {
          if (presenceEventBuilder_ == null) {
            return presenceEvent_ == null ? nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.getDefaultInstance() : presenceEvent_;
          } else {
            return presenceEventBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
         */
        public Builder setPresenceEvent(nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange value) {
          if (presenceEventBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            presenceEvent_ = value;
            onChanged();
          } else {
            presenceEventBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
         */
        public Builder setPresenceEvent(
            nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.Builder builderForValue) {
          if (presenceEventBuilder_ == null) {
            presenceEvent_ = builderForValue.build();
            onChanged();
          } else {
            presenceEventBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
         */
        public Builder mergePresenceEvent(nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange value) {
          if (presenceEventBuilder_ == null) {
            if (presenceEvent_ != null) {
              presenceEvent_ =
                nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.newBuilder(presenceEvent_).mergeFrom(value).buildPartial();
            } else {
              presenceEvent_ = value;
            }
            onChanged();
          } else {
            presenceEventBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
         */
        public Builder clearPresenceEvent() {
          if (presenceEventBuilder_ == null) {
            presenceEvent_ = null;
            onChanged();
          } else {
            presenceEvent_ = null;
            presenceEventBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.Builder getPresenceEventBuilder() {
          
          onChanged();
          return getPresenceEventFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChangeOrBuilder getPresenceEventOrBuilder() {
          if (presenceEventBuilder_ != null) {
            return presenceEventBuilder_.getMessageOrBuilder();
          } else {
            return presenceEvent_ == null ?
                nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.getDefaultInstance() : presenceEvent_;
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.CombinedPresenceChange presenceEvent = 5;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange, nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChangeOrBuilder> 
            getPresenceEventFieldBuilder() {
          if (presenceEventBuilder_ == null) {
            presenceEventBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange, nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.CombinedPresenceChangeOrBuilder>(
                    getPresenceEvent(),
                    getParentForChildren(),
                    isClean());
            presenceEvent_ = null;
          }
          return presenceEventBuilder_;
        }

        private nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange, nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChangeOrBuilder> geofenceEventBuilder_;
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
         * @return Whether the geofenceEvent field is set.
         */
        public boolean hasGeofenceEvent() {
          return geofenceEventBuilder_ != null || geofenceEvent_ != null;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
         * @return The geofenceEvent.
         */
        public nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange getGeofenceEvent() {
          if (geofenceEventBuilder_ == null) {
            return geofenceEvent_ == null ? nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.getDefaultInstance() : geofenceEvent_;
          } else {
            return geofenceEventBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
         */
        public Builder setGeofenceEvent(nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange value) {
          if (geofenceEventBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            geofenceEvent_ = value;
            onChanged();
          } else {
            geofenceEventBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
         */
        public Builder setGeofenceEvent(
            nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.Builder builderForValue) {
          if (geofenceEventBuilder_ == null) {
            geofenceEvent_ = builderForValue.build();
            onChanged();
          } else {
            geofenceEventBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
         */
        public Builder mergeGeofenceEvent(nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange value) {
          if (geofenceEventBuilder_ == null) {
            if (geofenceEvent_ != null) {
              geofenceEvent_ =
                nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.newBuilder(geofenceEvent_).mergeFrom(value).buildPartial();
            } else {
              geofenceEvent_ = value;
            }
            onChanged();
          } else {
            geofenceEventBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
         */
        public Builder clearGeofenceEvent() {
          if (geofenceEventBuilder_ == null) {
            geofenceEvent_ = null;
            onChanged();
          } else {
            geofenceEvent_ = null;
            geofenceEventBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.Builder getGeofenceEventBuilder() {
          
          onChanged();
          return getGeofenceEventFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChangeOrBuilder getGeofenceEventOrBuilder() {
          if (geofenceEventBuilder_ != null) {
            return geofenceEventBuilder_.getMessageOrBuilder();
          } else {
            return geofenceEvent_ == null ?
                nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.getDefaultInstance() : geofenceEvent_;
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.GeofenceStateChange geofenceEvent = 6;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange, nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChangeOrBuilder> 
            getGeofenceEventFieldBuilder() {
          if (geofenceEventBuilder_ == null) {
            geofenceEventBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange, nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChange.Builder, nest.trait.history.History.OccupancyHistoryTrait.GeofenceStateChangeOrBuilder>(
                    getGeofenceEvent(),
                    getParentForChildren(),
                    isClean());
            geofenceEvent_ = null;
          }
          return geofenceEventBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord)
      private static final nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord();
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<OccupancyHistoryRecord>
          PARSER = new com.google.protobuf.AbstractParser<OccupancyHistoryRecord>() {
        @java.lang.Override
        public OccupancyHistoryRecord parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new OccupancyHistoryRecord(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<OccupancyHistoryRecord> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<OccupancyHistoryRecord> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface FindOccupancyEventsResponseOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
       * @return Whether the record field is set.
       */
      boolean hasRecord();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
       * @return The record.
       */
      nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord getRecord();
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
       */
      nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecordOrBuilder getRecordOrBuilder();
    }
    /**
     * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse}
     */
    public static final class FindOccupancyEventsResponse extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse)
        FindOccupancyEventsResponseOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use FindOccupancyEventsResponse.newBuilder() to construct.
      private FindOccupancyEventsResponse(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private FindOccupancyEventsResponse() {
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new FindOccupancyEventsResponse();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private FindOccupancyEventsResponse(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.Builder subBuilder = null;
                if (record_ != null) {
                  subBuilder = record_.toBuilder();
                }
                record_ = input.readMessage(nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.parser(), extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(record_);
                  record_ = subBuilder.buildPartial();
                }

                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventsResponse_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventsResponse_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.class, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder.class);
      }

      public static final int RECORD_FIELD_NUMBER = 1;
      private nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord record_;
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
       * @return Whether the record field is set.
       */
      @java.lang.Override
      public boolean hasRecord() {
        return record_ != null;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
       * @return The record.
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord getRecord() {
        return record_ == null ? nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.getDefaultInstance() : record_;
      }
      /**
       * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecordOrBuilder getRecordOrBuilder() {
        return getRecord();
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        if (record_ != null) {
          output.writeMessage(1, getRecord());
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        if (record_ != null) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getRecord());
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse)) {
          return super.equals(obj);
        }
        nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse other = (nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse) obj;

        if (hasRecord() != other.hasRecord()) return false;
        if (hasRecord()) {
          if (!getRecord()
              .equals(other.getRecord())) return false;
        }
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (hasRecord()) {
          hash = (37 * hash) + RECORD_FIELD_NUMBER;
          hash = (53 * hash) + getRecord().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse)
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponseOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventsResponse_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventsResponse_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.class, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder.class);
        }

        // Construct using nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (recordBuilder_ == null) {
            record_ = null;
          } else {
            record_ = null;
            recordBuilder_ = null;
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventsResponse_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse getDefaultInstanceForType() {
          return nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse build() {
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse buildPartial() {
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse result = new nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse(this);
          if (recordBuilder_ == null) {
            result.record_ = record_;
          } else {
            result.record_ = recordBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse) {
            return mergeFrom((nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse other) {
          if (other == nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.getDefaultInstance()) return this;
          if (other.hasRecord()) {
            mergeRecord(other.getRecord());
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }

        private nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord record_;
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord, nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.Builder, nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecordOrBuilder> recordBuilder_;
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
         * @return Whether the record field is set.
         */
        public boolean hasRecord() {
          return recordBuilder_ != null || record_ != null;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
         * @return The record.
         */
        public nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord getRecord() {
          if (recordBuilder_ == null) {
            return record_ == null ? nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.getDefaultInstance() : record_;
          } else {
            return recordBuilder_.getMessage();
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
         */
        public Builder setRecord(nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord value) {
          if (recordBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            record_ = value;
            onChanged();
          } else {
            recordBuilder_.setMessage(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
         */
        public Builder setRecord(
            nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.Builder builderForValue) {
          if (recordBuilder_ == null) {
            record_ = builderForValue.build();
            onChanged();
          } else {
            recordBuilder_.setMessage(builderForValue.build());
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
         */
        public Builder mergeRecord(nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord value) {
          if (recordBuilder_ == null) {
            if (record_ != null) {
              record_ =
                nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.newBuilder(record_).mergeFrom(value).buildPartial();
            } else {
              record_ = value;
            }
            onChanged();
          } else {
            recordBuilder_.mergeFrom(value);
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
         */
        public Builder clearRecord() {
          if (recordBuilder_ == null) {
            record_ = null;
            onChanged();
          } else {
            record_ = null;
            recordBuilder_ = null;
          }

          return this;
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.Builder getRecordBuilder() {
          
          onChanged();
          return getRecordFieldBuilder().getBuilder();
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecordOrBuilder getRecordOrBuilder() {
          if (recordBuilder_ != null) {
            return recordBuilder_.getMessageOrBuilder();
          } else {
            return record_ == null ?
                nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.getDefaultInstance() : record_;
          }
        }
        /**
         * <code>.nest.trait.history.OccupancyHistoryTrait.OccupancyHistoryRecord record = 1;</code>
         */
        private com.google.protobuf.SingleFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord, nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.Builder, nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecordOrBuilder> 
            getRecordFieldBuilder() {
          if (recordBuilder_ == null) {
            recordBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
                nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord, nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecord.Builder, nest.trait.history.History.OccupancyHistoryTrait.OccupancyHistoryRecordOrBuilder>(
                    getRecord(),
                    getParentForChildren(),
                    isClean());
            record_ = null;
          }
          return recordBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse)
      private static final nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse();
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<FindOccupancyEventsResponse>
          PARSER = new com.google.protobuf.AbstractParser<FindOccupancyEventsResponse>() {
        @java.lang.Override
        public FindOccupancyEventsResponse parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new FindOccupancyEventsResponse(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<FindOccupancyEventsResponse> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<FindOccupancyEventsResponse> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    public interface FindOccupancyEventListResponseOrBuilder extends
        // @@protoc_insertion_point(interface_extends:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListResponse)
        com.google.protobuf.MessageOrBuilder {

      /**
       * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
       */
      java.util.List<nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse> 
          getResponsesList();
      /**
       * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
       */
      nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse getResponses(int index);
      /**
       * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
       */
      int getResponsesCount();
      /**
       * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
       */
      java.util.List<? extends nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponseOrBuilder> 
          getResponsesOrBuilderList();
      /**
       * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
       */
      nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponseOrBuilder getResponsesOrBuilder(
          int index);
    }
    /**
     * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListResponse}
     */
    public static final class FindOccupancyEventListResponse extends
        com.google.protobuf.GeneratedMessageV3 implements
        // @@protoc_insertion_point(message_implements:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListResponse)
        FindOccupancyEventListResponseOrBuilder {
    private static final long serialVersionUID = 0L;
      // Use FindOccupancyEventListResponse.newBuilder() to construct.
      private FindOccupancyEventListResponse(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
        super(builder);
      }
      private FindOccupancyEventListResponse() {
        responses_ = java.util.Collections.emptyList();
      }

      @java.lang.Override
      @SuppressWarnings({"unused"})
      protected java.lang.Object newInstance(
          UnusedPrivateParameter unused) {
        return new FindOccupancyEventListResponse();
      }

      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
      getUnknownFields() {
        return this.unknownFields;
      }
      private FindOccupancyEventListResponse(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        this();
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        int mutable_bitField0_ = 0;
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                if (!((mutable_bitField0_ & 0x00000001) != 0)) {
                  responses_ = new java.util.ArrayList<nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse>();
                  mutable_bitField0_ |= 0x00000001;
                }
                responses_.add(
                    input.readMessage(nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.parser(), extensionRegistry));
                break;
              }
              default: {
                if (!parseUnknownField(
                    input, unknownFields, extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e).setUnfinishedMessage(this);
        } finally {
          if (((mutable_bitField0_ & 0x00000001) != 0)) {
            responses_ = java.util.Collections.unmodifiableList(responses_);
          }
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListResponse_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListResponse_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse.class, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse.Builder.class);
      }

      public static final int RESPONSES_FIELD_NUMBER = 1;
      private java.util.List<nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse> responses_;
      /**
       * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
       */
      @java.lang.Override
      public java.util.List<nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse> getResponsesList() {
        return responses_;
      }
      /**
       * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
       */
      @java.lang.Override
      public java.util.List<? extends nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponseOrBuilder> 
          getResponsesOrBuilderList() {
        return responses_;
      }
      /**
       * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
       */
      @java.lang.Override
      public int getResponsesCount() {
        return responses_.size();
      }
      /**
       * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse getResponses(int index) {
        return responses_.get(index);
      }
      /**
       * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
       */
      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponseOrBuilder getResponsesOrBuilder(
          int index) {
        return responses_.get(index);
      }

      private byte memoizedIsInitialized = -1;
      @java.lang.Override
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized == 1) return true;
        if (isInitialized == 0) return false;

        memoizedIsInitialized = 1;
        return true;
      }

      @java.lang.Override
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        for (int i = 0; i < responses_.size(); i++) {
          output.writeMessage(1, responses_.get(i));
        }
        unknownFields.writeTo(output);
      }

      @java.lang.Override
      public int getSerializedSize() {
        int size = memoizedSize;
        if (size != -1) return size;

        size = 0;
        for (int i = 0; i < responses_.size(); i++) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, responses_.get(i));
        }
        size += unknownFields.getSerializedSize();
        memoizedSize = size;
        return size;
      }

      @java.lang.Override
      public boolean equals(final java.lang.Object obj) {
        if (obj == this) {
         return true;
        }
        if (!(obj instanceof nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse)) {
          return super.equals(obj);
        }
        nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse other = (nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse) obj;

        if (!getResponsesList()
            .equals(other.getResponsesList())) return false;
        if (!unknownFields.equals(other.unknownFields)) return false;
        return true;
      }

      @java.lang.Override
      public int hashCode() {
        if (memoizedHashCode != 0) {
          return memoizedHashCode;
        }
        int hash = 41;
        hash = (19 * hash) + getDescriptor().hashCode();
        if (getResponsesCount() > 0) {
          hash = (37 * hash) + RESPONSES_FIELD_NUMBER;
          hash = (53 * hash) + getResponsesList().hashCode();
        }
        hash = (29 * hash) + unknownFields.hashCode();
        memoizedHashCode = hash;
        return hash;
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseFrom(
          java.nio.ByteBuffer data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseFrom(
          java.nio.ByteBuffer data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input);
      }
      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return com.google.protobuf.GeneratedMessageV3
            .parseWithIOException(PARSER, input, extensionRegistry);
      }

      @java.lang.Override
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder() {
        return DEFAULT_INSTANCE.toBuilder();
      }
      public static Builder newBuilder(nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse prototype) {
        return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
      }
      @java.lang.Override
      public Builder toBuilder() {
        return this == DEFAULT_INSTANCE
            ? new Builder() : new Builder().mergeFrom(this);
      }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListResponse}
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
          // @@protoc_insertion_point(builder_implements:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListResponse)
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponseOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListResponse_descriptor;
        }

        @java.lang.Override
        protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListResponse_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse.class, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse.Builder.class);
        }

        // Construct using nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessageV3
                  .alwaysUseFieldBuilders) {
            getResponsesFieldBuilder();
          }
        }
        @java.lang.Override
        public Builder clear() {
          super.clear();
          if (responsesBuilder_ == null) {
            responses_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000001);
          } else {
            responsesBuilder_.clear();
          }
          return this;
        }

        @java.lang.Override
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListResponse_descriptor;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse getDefaultInstanceForType() {
          return nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse.getDefaultInstance();
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse build() {
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        @java.lang.Override
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse buildPartial() {
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse result = new nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse(this);
          int from_bitField0_ = bitField0_;
          if (responsesBuilder_ == null) {
            if (((bitField0_ & 0x00000001) != 0)) {
              responses_ = java.util.Collections.unmodifiableList(responses_);
              bitField0_ = (bitField0_ & ~0x00000001);
            }
            result.responses_ = responses_;
          } else {
            result.responses_ = responsesBuilder_.build();
          }
          onBuilt();
          return result;
        }

        @java.lang.Override
        public Builder clone() {
          return super.clone();
        }
        @java.lang.Override
        public Builder setField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.setField(field, value);
        }
        @java.lang.Override
        public Builder clearField(
            com.google.protobuf.Descriptors.FieldDescriptor field) {
          return super.clearField(field);
        }
        @java.lang.Override
        public Builder clearOneof(
            com.google.protobuf.Descriptors.OneofDescriptor oneof) {
          return super.clearOneof(oneof);
        }
        @java.lang.Override
        public Builder setRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            int index, java.lang.Object value) {
          return super.setRepeatedField(field, index, value);
        }
        @java.lang.Override
        public Builder addRepeatedField(
            com.google.protobuf.Descriptors.FieldDescriptor field,
            java.lang.Object value) {
          return super.addRepeatedField(field, value);
        }
        @java.lang.Override
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse) {
            return mergeFrom((nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse other) {
          if (other == nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse.getDefaultInstance()) return this;
          if (responsesBuilder_ == null) {
            if (!other.responses_.isEmpty()) {
              if (responses_.isEmpty()) {
                responses_ = other.responses_;
                bitField0_ = (bitField0_ & ~0x00000001);
              } else {
                ensureResponsesIsMutable();
                responses_.addAll(other.responses_);
              }
              onChanged();
            }
          } else {
            if (!other.responses_.isEmpty()) {
              if (responsesBuilder_.isEmpty()) {
                responsesBuilder_.dispose();
                responsesBuilder_ = null;
                responses_ = other.responses_;
                bitField0_ = (bitField0_ & ~0x00000001);
                responsesBuilder_ = 
                  com.google.protobuf.GeneratedMessageV3.alwaysUseFieldBuilders ?
                     getResponsesFieldBuilder() : null;
              } else {
                responsesBuilder_.addAllMessages(other.responses_);
              }
            }
          }
          this.mergeUnknownFields(other.unknownFields);
          onChanged();
          return this;
        }

        @java.lang.Override
        public final boolean isInitialized() {
          return true;
        }

        @java.lang.Override
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse) e.getUnfinishedMessage();
            throw e.unwrapIOException();
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }
        private int bitField0_;

        private java.util.List<nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse> responses_ =
          java.util.Collections.emptyList();
        private void ensureResponsesIsMutable() {
          if (!((bitField0_ & 0x00000001) != 0)) {
            responses_ = new java.util.ArrayList<nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse>(responses_);
            bitField0_ |= 0x00000001;
           }
        }

        private com.google.protobuf.RepeatedFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponseOrBuilder> responsesBuilder_;

        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public java.util.List<nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse> getResponsesList() {
          if (responsesBuilder_ == null) {
            return java.util.Collections.unmodifiableList(responses_);
          } else {
            return responsesBuilder_.getMessageList();
          }
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public int getResponsesCount() {
          if (responsesBuilder_ == null) {
            return responses_.size();
          } else {
            return responsesBuilder_.getCount();
          }
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse getResponses(int index) {
          if (responsesBuilder_ == null) {
            return responses_.get(index);
          } else {
            return responsesBuilder_.getMessage(index);
          }
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public Builder setResponses(
            int index, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse value) {
          if (responsesBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureResponsesIsMutable();
            responses_.set(index, value);
            onChanged();
          } else {
            responsesBuilder_.setMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public Builder setResponses(
            int index, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder builderForValue) {
          if (responsesBuilder_ == null) {
            ensureResponsesIsMutable();
            responses_.set(index, builderForValue.build());
            onChanged();
          } else {
            responsesBuilder_.setMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public Builder addResponses(nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse value) {
          if (responsesBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureResponsesIsMutable();
            responses_.add(value);
            onChanged();
          } else {
            responsesBuilder_.addMessage(value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public Builder addResponses(
            int index, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse value) {
          if (responsesBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureResponsesIsMutable();
            responses_.add(index, value);
            onChanged();
          } else {
            responsesBuilder_.addMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public Builder addResponses(
            nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder builderForValue) {
          if (responsesBuilder_ == null) {
            ensureResponsesIsMutable();
            responses_.add(builderForValue.build());
            onChanged();
          } else {
            responsesBuilder_.addMessage(builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public Builder addResponses(
            int index, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder builderForValue) {
          if (responsesBuilder_ == null) {
            ensureResponsesIsMutable();
            responses_.add(index, builderForValue.build());
            onChanged();
          } else {
            responsesBuilder_.addMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public Builder addAllResponses(
            java.lang.Iterable<? extends nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse> values) {
          if (responsesBuilder_ == null) {
            ensureResponsesIsMutable();
            com.google.protobuf.AbstractMessageLite.Builder.addAll(
                values, responses_);
            onChanged();
          } else {
            responsesBuilder_.addAllMessages(values);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public Builder clearResponses() {
          if (responsesBuilder_ == null) {
            responses_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000001);
            onChanged();
          } else {
            responsesBuilder_.clear();
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public Builder removeResponses(int index) {
          if (responsesBuilder_ == null) {
            ensureResponsesIsMutable();
            responses_.remove(index);
            onChanged();
          } else {
            responsesBuilder_.remove(index);
          }
          return this;
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder getResponsesBuilder(
            int index) {
          return getResponsesFieldBuilder().getBuilder(index);
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponseOrBuilder getResponsesOrBuilder(
            int index) {
          if (responsesBuilder_ == null) {
            return responses_.get(index);  } else {
            return responsesBuilder_.getMessageOrBuilder(index);
          }
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public java.util.List<? extends nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponseOrBuilder> 
             getResponsesOrBuilderList() {
          if (responsesBuilder_ != null) {
            return responsesBuilder_.getMessageOrBuilderList();
          } else {
            return java.util.Collections.unmodifiableList(responses_);
          }
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder addResponsesBuilder() {
          return getResponsesFieldBuilder().addBuilder(
              nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.getDefaultInstance());
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder addResponsesBuilder(
            int index) {
          return getResponsesFieldBuilder().addBuilder(
              index, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.getDefaultInstance());
        }
        /**
         * <code>repeated .nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventsResponse responses = 1;</code>
         */
        public java.util.List<nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder> 
             getResponsesBuilderList() {
          return getResponsesFieldBuilder().getBuilderList();
        }
        private com.google.protobuf.RepeatedFieldBuilderV3<
            nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponseOrBuilder> 
            getResponsesFieldBuilder() {
          if (responsesBuilder_ == null) {
            responsesBuilder_ = new com.google.protobuf.RepeatedFieldBuilderV3<
                nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponse.Builder, nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventsResponseOrBuilder>(
                    responses_,
                    ((bitField0_ & 0x00000001) != 0),
                    getParentForChildren(),
                    isClean());
            responses_ = null;
          }
          return responsesBuilder_;
        }
        @java.lang.Override
        public final Builder setUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.setUnknownFields(unknownFields);
        }

        @java.lang.Override
        public final Builder mergeUnknownFields(
            final com.google.protobuf.UnknownFieldSet unknownFields) {
          return super.mergeUnknownFields(unknownFields);
        }


        // @@protoc_insertion_point(builder_scope:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListResponse)
      }

      // @@protoc_insertion_point(class_scope:nest.trait.history.OccupancyHistoryTrait.FindOccupancyEventListResponse)
      private static final nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse DEFAULT_INSTANCE;
      static {
        DEFAULT_INSTANCE = new nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse();
      }

      public static nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse getDefaultInstance() {
        return DEFAULT_INSTANCE;
      }

      private static final com.google.protobuf.Parser<FindOccupancyEventListResponse>
          PARSER = new com.google.protobuf.AbstractParser<FindOccupancyEventListResponse>() {
        @java.lang.Override
        public FindOccupancyEventListResponse parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new FindOccupancyEventListResponse(input, extensionRegistry);
        }
      };

      public static com.google.protobuf.Parser<FindOccupancyEventListResponse> parser() {
        return PARSER;
      }

      @java.lang.Override
      public com.google.protobuf.Parser<FindOccupancyEventListResponse> getParserForType() {
        return PARSER;
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait.FindOccupancyEventListResponse getDefaultInstanceForType() {
        return DEFAULT_INSTANCE;
      }

    }

    private byte memoizedIsInitialized = -1;
    @java.lang.Override
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    @java.lang.Override
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      unknownFields.writeTo(output);
    }

    @java.lang.Override
    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      size += unknownFields.getSerializedSize();
      memoizedSize = size;
      return size;
    }

    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof nest.trait.history.History.OccupancyHistoryTrait)) {
        return super.equals(obj);
      }
      nest.trait.history.History.OccupancyHistoryTrait other = (nest.trait.history.History.OccupancyHistoryTrait) obj;

      if (!unknownFields.equals(other.unknownFields)) return false;
      return true;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      hash = (29 * hash) + unknownFields.hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static nest.trait.history.History.OccupancyHistoryTrait parseFrom(
        java.nio.ByteBuffer data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static nest.trait.history.History.OccupancyHistoryTrait parseFrom(
        java.nio.ByteBuffer data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static nest.trait.history.History.OccupancyHistoryTrait parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static nest.trait.history.History.OccupancyHistoryTrait parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static nest.trait.history.History.OccupancyHistoryTrait parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static nest.trait.history.History.OccupancyHistoryTrait parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static nest.trait.history.History.OccupancyHistoryTrait parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static nest.trait.history.History.OccupancyHistoryTrait parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }
    public static nest.trait.history.History.OccupancyHistoryTrait parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }
    public static nest.trait.history.History.OccupancyHistoryTrait parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static nest.trait.history.History.OccupancyHistoryTrait parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static nest.trait.history.History.OccupancyHistoryTrait parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    @java.lang.Override
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(nest.trait.history.History.OccupancyHistoryTrait prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    @java.lang.Override
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code nest.trait.history.OccupancyHistoryTrait}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:nest.trait.history.OccupancyHistoryTrait)
        nest.trait.history.History.OccupancyHistoryTraitOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                nest.trait.history.History.OccupancyHistoryTrait.class, nest.trait.history.History.OccupancyHistoryTrait.Builder.class);
      }

      // Construct using nest.trait.history.History.OccupancyHistoryTrait.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
        }
      }
      @java.lang.Override
      public Builder clear() {
        super.clear();
        return this;
      }

      @java.lang.Override
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return nest.trait.history.History.internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor;
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait getDefaultInstanceForType() {
        return nest.trait.history.History.OccupancyHistoryTrait.getDefaultInstance();
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait build() {
        nest.trait.history.History.OccupancyHistoryTrait result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      @java.lang.Override
      public nest.trait.history.History.OccupancyHistoryTrait buildPartial() {
        nest.trait.history.History.OccupancyHistoryTrait result = new nest.trait.history.History.OccupancyHistoryTrait(this);
        onBuilt();
        return result;
      }

      @java.lang.Override
      public Builder clone() {
        return super.clone();
      }
      @java.lang.Override
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.setField(field, value);
      }
      @java.lang.Override
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return super.clearField(field);
      }
      @java.lang.Override
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return super.clearOneof(oneof);
      }
      @java.lang.Override
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, java.lang.Object value) {
        return super.setRepeatedField(field, index, value);
      }
      @java.lang.Override
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.addRepeatedField(field, value);
      }
      @java.lang.Override
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof nest.trait.history.History.OccupancyHistoryTrait) {
          return mergeFrom((nest.trait.history.History.OccupancyHistoryTrait)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(nest.trait.history.History.OccupancyHistoryTrait other) {
        if (other == nest.trait.history.History.OccupancyHistoryTrait.getDefaultInstance()) return this;
        this.mergeUnknownFields(other.unknownFields);
        onChanged();
        return this;
      }

      @java.lang.Override
      public final boolean isInitialized() {
        return true;
      }

      @java.lang.Override
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        nest.trait.history.History.OccupancyHistoryTrait parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (nest.trait.history.History.OccupancyHistoryTrait) e.getUnfinishedMessage();
          throw e.unwrapIOException();
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      @java.lang.Override
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.setUnknownFields(unknownFields);
      }

      @java.lang.Override
      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.mergeUnknownFields(unknownFields);
      }


      // @@protoc_insertion_point(builder_scope:nest.trait.history.OccupancyHistoryTrait)
    }

    // @@protoc_insertion_point(class_scope:nest.trait.history.OccupancyHistoryTrait)
    private static final nest.trait.history.History.OccupancyHistoryTrait DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new nest.trait.history.History.OccupancyHistoryTrait();
    }

    public static nest.trait.history.History.OccupancyHistoryTrait getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<OccupancyHistoryTrait>
        PARSER = new com.google.protobuf.AbstractParser<OccupancyHistoryTrait>() {
      @java.lang.Override
      public OccupancyHistoryTrait parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new OccupancyHistoryTrait(input, extensionRegistry);
      }
    };

    public static com.google.protobuf.Parser<OccupancyHistoryTrait> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<OccupancyHistoryTrait> getParserForType() {
      return PARSER;
    }

    @java.lang.Override
    public nest.trait.history.History.OccupancyHistoryTrait getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryRequest_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryRequest_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryResponse_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryResponse_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyDayUsage_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyDayUsage_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACCycle_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACCycle_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacySystemCapabilities_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacySystemCapabilities_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyRatePlanChange_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyRatePlanChange_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACUsage_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACUsage_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOnMode_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOnMode_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOffMode_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOffMode_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAwayMode_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAwayMode_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAutoAwayMode_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAutoAwayMode_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSunlightCorrection_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSunlightCorrection_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSetPoint_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSetPoint_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSource_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSource_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_OccupancyHistoryTrait_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListRequest_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListRequest_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_OccupancyHistoryTrait_ExplicitStructureModeChange_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_OccupancyHistoryTrait_ExplicitStructureModeChange_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_OccupancyHistoryTrait_ImplicitStructureModeChange_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_OccupancyHistoryTrait_ImplicitStructureModeChange_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_OccupancyHistoryTrait_EstimatedOccupancyStructureModeChange_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_OccupancyHistoryTrait_EstimatedOccupancyStructureModeChange_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_OccupancyHistoryTrait_CombinedPresenceChange_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_OccupancyHistoryTrait_CombinedPresenceChange_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_OccupancyHistoryTrait_GeofenceStateChange_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_OccupancyHistoryTrait_GeofenceStateChange_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_OccupancyHistoryTrait_OccupancyHistoryRecord_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_OccupancyHistoryTrait_OccupancyHistoryRecord_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventsResponse_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventsResponse_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListResponse_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListResponse_fieldAccessorTable;

  public static com.google.protobuf.Descriptors.FileDescriptor
      getDescriptor() {
    return descriptor;
  }
  private static  com.google.protobuf.Descriptors.FileDescriptor
      descriptor;
  static {
    java.lang.String[] descriptorData = {
      "\n\030nest/trait/history.proto\022\022nest.trait.h" +
      "istory\032\036google/protobuf/duration.proto\032\037" +
      "google/protobuf/timestamp.proto\032\036google/" +
      "protobuf/wrappers.proto\032\025nest/trait/hvac" +
      ".proto\032\032nest/trait/occupancy.proto\032\022weav" +
      "e/common.proto\"\365/\n\022EnergyHistoryTrait\032\202\001" +
      "\n\032LegacyEnergyHistoryRequest\0222\n\016querySta" +
      "rtTime\030\001 \001(\0132\032.google.protobuf.Timestamp" +
      "\0220\n\014queryEndTime\030\002 \001(\0132\032.google.protobuf" +
      ".Timestamp\032\233\001\n\033LegacyEnergyHistoryRespon" +
      "se\022C\n\004days\030\001 \003(\01325.nest.trait.history.En" +
      "ergyHistoryTrait.LegacyDayUsage\0227\n\024recen" +
      "tMaxUsedSeconds\030\002 \001(\0132\031.google.protobuf." +
      "Duration\032\375\007\n\016LegacyDayUsage\022,\n\010dayStart\030" +
      "\001 \001(\0132\032.google.protobuf.Timestamp\022*\n\006day" +
      "End\030\002 \001(\0132\032.google.protobuf.Timestamp\0226\n" +
      "\023totalHeatingSeconds\030\n \001(\0132\031.google.prot" +
      "obuf.Duration\0226\n\023totalCoolingSeconds\030\013 \001" +
      "(\0132\031.google.protobuf.Duration\0229\n\026totalFa" +
      "nCoolingSeconds\030\014 \001(\0132\031.google.protobuf." +
      "Duration\0229\n\026totalHumidifierSeconds\030\r \001(\013" +
      "2\031.google.protobuf.Duration\022;\n\030totalDehu" +
      "midifierSeconds\030\016 \001(\0132\031.google.protobuf." +
      "Duration\022O\n\014energyWinner\030\017 \001(\01629.nest.tr" +
      "ait.history.EnergyHistoryTrait.LegacyEne" +
      "rgyWinner\022.\n\nenergyLeaf\030\020 \001(\0132\032.google.p" +
      "rotobuf.BoolValue\022=\n\030recentAverageUsedSe" +
      "conds\030\021 \001(\0132\033.google.protobuf.Int32Value" +
      "\022<\n\027secondsUsageOverAverage\030\022 \001(\0132\033.goog" +
      "le.protobuf.Int32Value\022[\n\022systemCapabili" +
      "ties\030\023 \001(\0132?.nest.trait.history.EnergyHi" +
      "storyTrait.LegacySystemCapabilities\022\030\n\020c" +
      "yclesIncomplete\030\036 \001(\010\022F\n\006cycles\030\037 \003(\01326." +
      "nest.trait.history.EnergyHistoryTrait.Le" +
      "gacyHVACCycle\022\030\n\020eventsIncomplete\030( \001(\010\022" +
      "K\n\013usageEvents\030) \003(\01326.nest.trait.histor" +
      "y.EnergyHistoryTrait.LegacyHVACUsage\022J\n\005" +
      "rates\0302 \003(\0132;.nest.trait.history.EnergyH" +
      "istoryTrait.LegacyRatePlanChange\032\240\003\n\017Leg" +
      "acyHVACCycle\022.\n\ncycleStart\030\001 \001(\0132\032.googl" +
      "e.protobuf.Timestamp\022+\n\010duration\030\002 \001(\0132\031" +
      ".google.protobuf.Duration\022\022\n\nisComplete\030" +
      "\003 \001(\010\022\r\n\005heat1\030\n \001(\010\022\r\n\005heat2\030\013 \001(\010\022\r\n\005h" +
      "eat3\030\014 \001(\010\022\017\n\007heatAux\030\r \001(\010\022\017\n\007altHeat\030\016" +
      " \001(\010\022\020\n\010altHeat2\030\017 \001(\010\022\025\n\remergencyHeat\030" +
      "\020 \001(\010\022\r\n\005cool1\030\021 \001(\010\022\r\n\005cool2\030\022 \001(\010\022\r\n\005c" +
      "ool3\030\023 \001(\010\022\013\n\003fan\030\024 \001(\010\022\022\n\nfanCooling\030\025 " +
      "\001(\010\022\022\n\nhumidifier\030\026 \001(\010\022\024\n\014dehumidifier\030" +
      "\027 \001(\010\022\027\n\017autoDehumdifier\030\030 \001(\010\022\023\n\013waterH" +
      "eater\030\031 \001(\010\032\345\003\n\030LegacySystemCapabilities" +
      "\022\025\n\rhasStage1Cool\030\001 \001(\010\022\025\n\rhasStage2Cool" +
      "\030\002 \001(\010\022\025\n\rhasStage3Cool\030\003 \001(\010\022\025\n\rhasStag" +
      "e1Heat\030\004 \001(\010\022\025\n\rhasStage2Heat\030\005 \001(\010\022\025\n\rh" +
      "asStage3Heat\030\006 \001(\010\022\036\n\026hasStage1Alternate" +
      "Heat\030\007 \001(\010\022\036\n\026hasStage2AlternateHeat\030\010 \001" +
      "(\010\022\025\n\rhasHumidifier\030\t \001(\010\022\027\n\017hasDehumidi" +
      "fier\030\n \001(\010\022\023\n\013hasDualFuel\030\013 \001(\010\022\022\n\nhasAu" +
      "xHeat\030\014 \001(\010\022\030\n\020hasEmergencyHeat\030\r \001(\010\022\024\n" +
      "\014hasAirFilter\030\016 \001(\010\022\025\n\rhasFossilFuel\030\017 \001" +
      "(\010\022\032\n\022hasHotWaterControl\030\020 \001(\010\022\023\n\013hasHea" +
      "tPump\030\021 \001(\010\022\036\n\026hasHotWaterTemperature\030\022 " +
      "\001(\010\022\016\n\006hasFan\030\023 \001(\010\032\332\001\n\024LegacyRatePlanCh" +
      "ange\022-\n\ttimestamp\030\001 \001(\0132\032.google.protobu" +
      "f.Timestamp\0221\n\rratePlanStart\030\002 \001(\0132\032.goo" +
      "gle.protobuf.Timestamp\022/\n\013ratePlanEnd\030\003 " +
      "\001(\0132\032.google.protobuf.Timestamp\022/\n\ttierL" +
      "evel\030\004 \001(\0132\034.google.protobuf.UInt32Value" +
      "\032\315\005\n\017LegacyHVACUsage\022.\n\neventStart\030\001 \001(\013" +
      "2\032.google.protobuf.Timestamp\022\026\n\016timezone" +
      "Offset\030\002 \001(\005\022+\n\010duration\030\003 \001(\0132\031.google." +
      "protobuf.Duration\022\024\n\014continuation\030\004 \001(\010\022" +
      "I\n\teventType\030\005 \001(\01626.nest.trait.history." +
      "EnergyHistoryTrait.LegacyEventType\022D\n\002on" +
      "\030\n \001(\01328.nest.trait.history.EnergyHistor" +
      "yTrait.LegacyEventOnMode\022F\n\003off\030\013 \001(\01329." +
      "nest.trait.history.EnergyHistoryTrait.Le" +
      "gacyEventOffMode\022N\n\007ecoAway\030\014 \001(\0132=.nest" +
      ".trait.history.EnergyHistoryTrait.Legacy" +
      "EventEcoAwayMode\022V\n\013ecoAutoAway\030\r \001(\0132A." +
      "nest.trait.history.EnergyHistoryTrait.Le" +
      "gacyEventEcoAutoAwayMode\022`\n\022sunlightCorr" +
      "ection\030\016 \001(\0132D.nest.trait.history.Energy" +
      "HistoryTrait.LegacyEventSunlightCorrecti" +
      "on\022L\n\010setPoint\030\017 \001(\0132:.nest.trait.histor" +
      "y.EnergyHistoryTrait.LegacyEventSetPoint" +
      "\032b\n\021LegacyEventOnMode\022M\n\013eventSource\030\001 \001" +
      "(\01328.nest.trait.history.EnergyHistoryTra" +
      "it.LegacyEventSource\032c\n\022LegacyEventOffMo" +
      "de\022M\n\013eventSource\030\001 \001(\01328.nest.trait.his" +
      "tory.EnergyHistoryTrait.LegacyEventSourc" +
      "e\032\373\001\n\026LegacyEventEcoAwayMode\022H\n\rheatingT" +
      "arget\030\001 \001(\01321.nest.trait.hvac.HvacContro" +
      "l.TemperatureThreshold\022H\n\rcoolingTarget\030" +
      "\002 \001(\01321.nest.trait.hvac.HvacControl.Temp" +
      "eratureThreshold\022M\n\013eventSource\030\003 \001(\01328." +
      "nest.trait.history.EnergyHistoryTrait.Le" +
      "gacyEventSource\032\377\001\n\032LegacyEventEcoAutoAw" +
      "ayMode\022H\n\rheatingTarget\030\001 \001(\01321.nest.tra" +
      "it.hvac.HvacControl.TemperatureThreshold" +
      "\022H\n\rcoolingTarget\030\002 \001(\01321.nest.trait.hva" +
      "c.HvacControl.TemperatureThreshold\022M\n\013ev" +
      "entSource\030\003 \001(\01328.nest.trait.history.Ene" +
      "rgyHistoryTrait.LegacyEventSource\032n\n\035Leg" +
      "acyEventSunlightCorrection\022M\n\013eventSourc" +
      "e\030\001 \001(\01328.nest.trait.history.EnergyHisto" +
      "ryTrait.LegacyEventSource\032\212\007\n\023LegacyEven" +
      "tSetPoint\022O\n\014setPointType\030\001 \001(\01629.nest.t" +
      "rait.history.EnergyHistoryTrait.LegacySe" +
      "tPointType\022Y\n\014scheduleType\030\002 \001(\0162C.nest." +
      "trait.hvac.SetPointScheduleSettingsTrait" +
      ".SetPointScheduleType\022H\n\rheatingTarget\030\003" +
      " \001(\01321.nest.trait.hvac.HvacControl.Tempe" +
      "ratureThreshold\022H\n\rcoolingTarget\030\004 \001(\01321" +
      ".nest.trait.hvac.HvacControl.Temperature" +
      "Threshold\0229\n\005actor\030\005 \001(\0162*.nest.trait.hv" +
      "ac.HvacActor.HvacActorMethod\022/\n\013touchedW" +
      "hen\030\006 \001(\0132\032.google.protobuf.Timestamp\022:\n" +
      "\025touchedTimezoneOffset\030\007 \001(\0132\033.google.pr" +
      "otobuf.Int32Value\022O\n\014touchedWhere\030\010 \001(\0162" +
      "9.nest.trait.history.EnergyHistoryTrait." +
      "LegacyTouchedWhere\0223\n\rtouchedUserId\030\t \001(" +
      "\0132\034.google.protobuf.StringValue\0224\n\016sched" +
      "uledStart\030\n \001(\0132\034.google.protobuf.UInt32" +
      "Value\0222\n\014scheduledDay\030\013 \001(\0132\034.google.pro" +
      "tobuf.UInt32Value\022Q\n\021previousEventType\030\014" +
      " \001(\01626.nest.trait.history.EnergyHistoryT" +
      "rait.LegacyEventType\022H\n\006source\030\r \001(\01328.n" +
      "est.trait.history.EnergyHistoryTrait.Leg" +
      "acyEventSource\032\317\001\n\021LegacyEventSource\0229\n\005" +
      "actor\030\001 \001(\0162*.nest.trait.hvac.HvacActor." +
      "HvacActorMethod\022O\n\014touchedWhere\030\002 \001(\01629." +
      "nest.trait.history.EnergyHistoryTrait.Le" +
      "gacyTouchedWhere\022.\n\010userName\030\003 \001(\0132\034.goo" +
      "gle.protobuf.StringValue\"\325\002\n\022LegacyEnerg" +
      "yWinner\022$\n LEGACY_ENERGY_WINNER_UNSPECIF" +
      "IED\020\000\022\035\n\031LEGACY_ENERGY_WINNER_USER\020\001\022 \n\034" +
      "LEGACY_ENERGY_WINNER_WEATHER\020\002\022\035\n\031LEGACY" +
      "_ENERGY_WINNER_AWAY\020\003\022\"\n\036LEGACY_ENERGY_W" +
      "INNER_AUTO_AWAY\020\004\022 \n\034LEGACY_ENERGY_WINNE" +
      "R_TUNE_UP\020\005\022#\n\037LEGACY_ENERGY_WINNER_AUTO" +
      "_DEHUM\020\006\022(\n$LEGACY_ENERGY_WINNER_DEMAND_" +
      "RESPONSE\020\007\022$\n LEGACY_ENERGY_WINNER_TIME_" +
      "OF_USE\020\010\"\306\001\n\022LegacySetPointType\022%\n!LEGAC" +
      "Y_SET_POINT_TYPE_UNSPECIFIED\020\000\022\036\n\032LEGACY" +
      "_SET_POINT_TYPE_HEAT\020\001\022\036\n\032LEGACY_SET_POI" +
      "NT_TYPE_COOL\020\002\022\037\n\033LEGACY_SET_POINT_TYPE_" +
      "RANGE\020\003\022(\n$LEGACY_SET_POINT_TYPE_EMERGEN" +
      "CY_HEAT\020\004\"\313\002\n\017LegacyEventType\022!\n\035LEGACY_" +
      "EVENT_TYPE_UNSPECIFIED\020\000\022\032\n\026LEGACY_EVENT" +
      "_TYPE_HEAT\020\001\022\032\n\026LEGACY_EVENT_TYPE_COOL\020\002" +
      "\022\033\n\027LEGACY_EVENT_TYPE_RANGE\020\003\022\032\n\026LEGACY_" +
      "EVENT_TYPE_AWAY\020\004\022\036\n\032LEGACY_EVENT_TYPE_A" +
      "UTOAWAY\020\005\022\031\n\025LEGACY_EVENT_TYPE_OFF\020\006\022\030\n\024" +
      "LEGACY_EVENT_TYPE_ON\020\010\022$\n LEGACY_EVENT_T" +
      "YPE_EMERGENCY_HEAT\020\t\022)\n%LEGACY_EVENT_TYP" +
      "E_SUNLIGHT_CORRECTION\020\n\"}\n\022LegacyTouched" +
      "Where\022$\n LEGACY_TOUCHED_WHERE_UNSPECIFIE" +
      "D\020\000\022!\n\035LEGACY_TOUCHED_WHERE_SCHEDULE\020\001\022\036" +
      "\n\032LEGACY_TOUCHED_WHERE_ADHOC\020\002\"\234\024\n\025Occup" +
      "ancyHistoryTrait\032\264\001\n\035FindOccupancyEventL" +
      "istRequest\0222\n\016queryStartTime\030\001 \001(\0132\032.goo" +
      "gle.protobuf.Timestamp\0220\n\014queryEndTime\030\002" +
      " \001(\0132\032.google.protobuf.Timestamp\022-\n\007fenc" +
      "eId\030\003 \001(\0132\034.google.protobuf.StringValue\032" +
      "\211\002\n\033ExplicitStructureModeChange\022D\n\004mode\030" +
      "\001 \001(\01626.nest.trait.occupancy.StructureMo" +
      "deTrait.StructureMode\022&\n\004user\030\002 \001(\0132\030.we" +
      "ave.common.ResourceId\0221\n\013wwnClientId\030\003 \001" +
      "(\0132\034.google.protobuf.StringValue\022I\n\tprio" +
      "rMode\030\004 \001(\01626.nest.trait.occupancy.Struc" +
      "tureModeTrait.StructureMode\032\247\002\n\033Implicit" +
      "StructureModeChange\022D\n\004mode\030\001 \001(\01626.nest" +
      ".trait.occupancy.StructureModeTrait.Stru" +
      "ctureMode\022\'\n\005actor\030\002 \001(\0132\030.weave.common." +
      "ResourceId\022N\n\006reason\030\003 \001(\0162>.nest.trait." +
      "history.OccupancyHistoryTrait.ImplicitCh" +
      "angeReason\022I\n\tpriorMode\030\004 \001(\01626.nest.tra" +
      "it.occupancy.StructureModeTrait.Structur" +
      "eMode\032\356\002\n%EstimatedOccupancyStructureMod" +
      "eChange\022D\n\004mode\030\001 \001(\01626.nest.trait.occup" +
      "ancy.StructureModeTrait.StructureMode\022L\n" +
      "\006reason\030\002 \001(\0162<.nest.trait.occupancy.Str" +
      "uctureModeTrait.StructureModeReason\022/\n\rw" +
      "eaveDeviceId\030\003 \001(\0132\030.weave.common.Resour" +
      "ceId\0225\n\017rtsSerialNumber\030\004 \001(\0132\034.google.p" +
      "rotobuf.StringValue\022I\n\tpriorMode\030\005 \001(\01626" +
      ".nest.trait.occupancy.StructureModeTrait" +
      ".StructureMode\032\247\001\n\026CombinedPresenceChang" +
      "e\022C\n\010presence\030\001 \001(\01621.nest.trait.occupan" +
      "cy.StructureModeTrait.Presence\022H\n\rpriorP" +
      "resence\030\002 \001(\01621.nest.trait.occupancy.Str" +
      "uctureModeTrait.Presence\032\250\002\n\023GeofenceSta" +
      "teChange\022E\n\rgeofenceState\030\001 \001(\0162..nest.t" +
      "rait.occupancy.Geofencing.GeofenceState\022" +
      "(\n\006userId\030\002 \001(\0132\030.weave.common.ResourceI" +
      "d\0221\n\013rtsDeviceId\030\003 \001(\0132\034.google.protobuf" +
      ".StringValue\0225\n\023weaveMobileDeviceId\030\004 \001(" +
      "\0132\030.weave.common.ResourceId\0226\n\022assertion" +
      "Timestamp\030\005 \001(\0132\032.google.protobuf.Timest" +
      "amp\032\273\004\n\026OccupancyHistoryRecord\0222\n\016eventT" +
      "imestamp\030\001 \001(\0132\032.google.protobuf.Timesta" +
      "mp\022b\n\023explicitChangeEvent\030\002 \001(\0132E.nest.t" +
      "rait.history.OccupancyHistoryTrait.Expli" +
      "citStructureModeChange\022b\n\023implicitChange" +
      "Event\030\003 \001(\0132E.nest.trait.history.Occupan" +
      "cyHistoryTrait.ImplicitStructureModeChan" +
      "ge\022v\n\035estimatedOccupancyChangeEvent\030\004 \001(" +
      "\0132O.nest.trait.history.OccupancyHistoryT" +
      "rait.EstimatedOccupancyStructureModeChan" +
      "ge\022W\n\rpresenceEvent\030\005 \001(\0132@.nest.trait.h" +
      "istory.OccupancyHistoryTrait.CombinedPre" +
      "senceChange\022T\n\rgeofenceEvent\030\006 \001(\0132=.nes" +
      "t.trait.history.OccupancyHistoryTrait.Ge" +
      "ofenceStateChange\032o\n\033FindOccupancyEvents" +
      "Response\022P\n\006record\030\001 \001(\0132@.nest.trait.hi" +
      "story.OccupancyHistoryTrait.OccupancyHis" +
      "toryRecord\032z\n\036FindOccupancyEventListResp" +
      "onse\022X\n\tresponses\030\001 \003(\0132E.nest.trait.his" +
      "tory.OccupancyHistoryTrait.FindOccupancy" +
      "EventsResponse\"\244\001\n\024ImplicitChangeReason\022" +
      "&\n\"IMPLICIT_CHANGE_REASON_UNSPECIFIED\020\000\022" +
      "\036\n\032IMPLICIT_CHANGE_REASON_ARM\020\001\022!\n\035IMPLI" +
      "CIT_CHANGE_REASON_DISARM\020\002\022!\n\035IMPLICIT_C" +
      "HANGE_REASON_UNLOCK\020\003b\006proto3"
    };
    descriptor = com.google.protobuf.Descriptors.FileDescriptor
      .internalBuildGeneratedFileFrom(descriptorData,
        new com.google.protobuf.Descriptors.FileDescriptor[] {
          com.google.protobuf.DurationProto.getDescriptor(),
          com.google.protobuf.TimestampProto.getDescriptor(),
          com.google.protobuf.WrappersProto.getDescriptor(),
          nest.trait.hvac.Hvac.getDescriptor(),
          nest.trait.occupancy.OccupancyOuterClass.getDescriptor(),
          weave.common.Common.getDescriptor(),
        });
    internal_static_nest_trait_history_EnergyHistoryTrait_descriptor =
      getDescriptor().getMessageTypes().get(0);
    internal_static_nest_trait_history_EnergyHistoryTrait_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_descriptor,
        new java.lang.String[] { });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryRequest_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(0);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryRequest_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryRequest_descriptor,
        new java.lang.String[] { "QueryStartTime", "QueryEndTime", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryResponse_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(1);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryResponse_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEnergyHistoryResponse_descriptor,
        new java.lang.String[] { "Days", "RecentMaxUsedSeconds", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyDayUsage_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(2);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyDayUsage_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyDayUsage_descriptor,
        new java.lang.String[] { "DayStart", "DayEnd", "TotalHeatingSeconds", "TotalCoolingSeconds", "TotalFanCoolingSeconds", "TotalHumidifierSeconds", "TotalDehumidifierSeconds", "EnergyWinner", "EnergyLeaf", "RecentAverageUsedSeconds", "SecondsUsageOverAverage", "SystemCapabilities", "CyclesIncomplete", "Cycles", "EventsIncomplete", "UsageEvents", "Rates", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACCycle_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(3);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACCycle_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACCycle_descriptor,
        new java.lang.String[] { "CycleStart", "Duration", "IsComplete", "Heat1", "Heat2", "Heat3", "HeatAux", "AltHeat", "AltHeat2", "EmergencyHeat", "Cool1", "Cool2", "Cool3", "Fan", "FanCooling", "Humidifier", "Dehumidifier", "AutoDehumdifier", "WaterHeater", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacySystemCapabilities_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(4);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacySystemCapabilities_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacySystemCapabilities_descriptor,
        new java.lang.String[] { "HasStage1Cool", "HasStage2Cool", "HasStage3Cool", "HasStage1Heat", "HasStage2Heat", "HasStage3Heat", "HasStage1AlternateHeat", "HasStage2AlternateHeat", "HasHumidifier", "HasDehumidifier", "HasDualFuel", "HasAuxHeat", "HasEmergencyHeat", "HasAirFilter", "HasFossilFuel", "HasHotWaterControl", "HasHeatPump", "HasHotWaterTemperature", "HasFan", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyRatePlanChange_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(5);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyRatePlanChange_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyRatePlanChange_descriptor,
        new java.lang.String[] { "Timestamp", "RatePlanStart", "RatePlanEnd", "TierLevel", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACUsage_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(6);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACUsage_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyHVACUsage_descriptor,
        new java.lang.String[] { "EventStart", "TimezoneOffset", "Duration", "Continuation", "EventType", "On", "Off", "EcoAway", "EcoAutoAway", "SunlightCorrection", "SetPoint", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOnMode_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(7);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOnMode_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOnMode_descriptor,
        new java.lang.String[] { "EventSource", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOffMode_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(8);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOffMode_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventOffMode_descriptor,
        new java.lang.String[] { "EventSource", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAwayMode_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(9);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAwayMode_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAwayMode_descriptor,
        new java.lang.String[] { "HeatingTarget", "CoolingTarget", "EventSource", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAutoAwayMode_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(10);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAutoAwayMode_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventEcoAutoAwayMode_descriptor,
        new java.lang.String[] { "HeatingTarget", "CoolingTarget", "EventSource", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSunlightCorrection_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(11);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSunlightCorrection_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSunlightCorrection_descriptor,
        new java.lang.String[] { "EventSource", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSetPoint_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(12);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSetPoint_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSetPoint_descriptor,
        new java.lang.String[] { "SetPointType", "ScheduleType", "HeatingTarget", "CoolingTarget", "Actor", "TouchedWhen", "TouchedTimezoneOffset", "TouchedWhere", "TouchedUserId", "ScheduledStart", "ScheduledDay", "PreviousEventType", "Source", });
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSource_descriptor =
      internal_static_nest_trait_history_EnergyHistoryTrait_descriptor.getNestedTypes().get(13);
    internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSource_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_EnergyHistoryTrait_LegacyEventSource_descriptor,
        new java.lang.String[] { "Actor", "TouchedWhere", "UserName", });
    internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor =
      getDescriptor().getMessageTypes().get(1);
    internal_static_nest_trait_history_OccupancyHistoryTrait_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor,
        new java.lang.String[] { });
    internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListRequest_descriptor =
      internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor.getNestedTypes().get(0);
    internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListRequest_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListRequest_descriptor,
        new java.lang.String[] { "QueryStartTime", "QueryEndTime", "FenceId", });
    internal_static_nest_trait_history_OccupancyHistoryTrait_ExplicitStructureModeChange_descriptor =
      internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor.getNestedTypes().get(1);
    internal_static_nest_trait_history_OccupancyHistoryTrait_ExplicitStructureModeChange_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_OccupancyHistoryTrait_ExplicitStructureModeChange_descriptor,
        new java.lang.String[] { "Mode", "User", "WwnClientId", "PriorMode", });
    internal_static_nest_trait_history_OccupancyHistoryTrait_ImplicitStructureModeChange_descriptor =
      internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor.getNestedTypes().get(2);
    internal_static_nest_trait_history_OccupancyHistoryTrait_ImplicitStructureModeChange_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_OccupancyHistoryTrait_ImplicitStructureModeChange_descriptor,
        new java.lang.String[] { "Mode", "Actor", "Reason", "PriorMode", });
    internal_static_nest_trait_history_OccupancyHistoryTrait_EstimatedOccupancyStructureModeChange_descriptor =
      internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor.getNestedTypes().get(3);
    internal_static_nest_trait_history_OccupancyHistoryTrait_EstimatedOccupancyStructureModeChange_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_OccupancyHistoryTrait_EstimatedOccupancyStructureModeChange_descriptor,
        new java.lang.String[] { "Mode", "Reason", "WeaveDeviceId", "RtsSerialNumber", "PriorMode", });
    internal_static_nest_trait_history_OccupancyHistoryTrait_CombinedPresenceChange_descriptor =
      internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor.getNestedTypes().get(4);
    internal_static_nest_trait_history_OccupancyHistoryTrait_CombinedPresenceChange_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_OccupancyHistoryTrait_CombinedPresenceChange_descriptor,
        new java.lang.String[] { "Presence", "PriorPresence", });
    internal_static_nest_trait_history_OccupancyHistoryTrait_GeofenceStateChange_descriptor =
      internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor.getNestedTypes().get(5);
    internal_static_nest_trait_history_OccupancyHistoryTrait_GeofenceStateChange_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_OccupancyHistoryTrait_GeofenceStateChange_descriptor,
        new java.lang.String[] { "GeofenceState", "UserId", "RtsDeviceId", "WeaveMobileDeviceId", "AssertionTimestamp", });
    internal_static_nest_trait_history_OccupancyHistoryTrait_OccupancyHistoryRecord_descriptor =
      internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor.getNestedTypes().get(6);
    internal_static_nest_trait_history_OccupancyHistoryTrait_OccupancyHistoryRecord_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_OccupancyHistoryTrait_OccupancyHistoryRecord_descriptor,
        new java.lang.String[] { "EventTimestamp", "ExplicitChangeEvent", "ImplicitChangeEvent", "EstimatedOccupancyChangeEvent", "PresenceEvent", "GeofenceEvent", });
    internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventsResponse_descriptor =
      internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor.getNestedTypes().get(7);
    internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventsResponse_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventsResponse_descriptor,
        new java.lang.String[] { "Record", });
    internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListResponse_descriptor =
      internal_static_nest_trait_history_OccupancyHistoryTrait_descriptor.getNestedTypes().get(8);
    internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListResponse_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_nest_trait_history_OccupancyHistoryTrait_FindOccupancyEventListResponse_descriptor,
        new java.lang.String[] { "Responses", });
    com.google.protobuf.DurationProto.getDescriptor();
    com.google.protobuf.TimestampProto.getDescriptor();
    com.google.protobuf.WrappersProto.getDescriptor();
    nest.trait.hvac.Hvac.getDescriptor();
    nest.trait.occupancy.OccupancyOuterClass.getDescriptor();
    weave.common.Common.getDescriptor();
  }

  // @@protoc_insertion_point(outer_class_scope)
}
